<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Android Adb Command</title>
    <url>/2021/10/24/Android-Adb-Command/</url>
    <content><![CDATA[<p>å®‰å“å°æŠ€å·§</p>
<span id="more"></span>
<h1 id="recovery-æ¨¡å¼ä¸‹ä½¿ç”¨adb">recovery æ¨¡å¼ä¸‹ä½¿ç”¨adb</h1>
<p>é¦–å…ˆåœ¨ç”µè„‘ä¸­æ‰¾åˆ°<code>adbkey.pub</code>æ–‡ä»¶ï¼Œæˆ‘çš„é»˜è®¤åœ°å€æ˜¯<code>.android</code>,é€šè¿‡ä¸€äº›æ‰‹æ®µç§»å…¥å®‰å“è®¾å¤‡çš„ä¸€ä¸ªåˆ†åŒº<code>/data/misc/adb/</code>çš„<code>adb_keys</code>æ–‡ä»¶ä¸­ï¼Œä¸‹é¢æ˜¯pushçš„çš„æ–¹æ³•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨ç¬¬ä¸‰æ–¹<code>rec</code>ç›´æ¥å¯¼å…¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adb push ~/.android/adbkey.pub /data/misc/adb/adb_keys</span><br></pre></td></tr></table></figure>
<p>wifiè¿æ¥adb</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adb connect ip:5555</span><br></pre></td></tr></table></figure>
<p>æ–­å¼€è¿æ¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adb disconnect ip:5555</span><br></pre></td></tr></table></figure>
<h1 id="å¤‡ä»½æ–‡ä»¶">å¤‡ä»½æ–‡ä»¶</h1>
<p>å¤‡ä»½æ–‡ä»¶çš„æ–¹æ³•ä¸»è¦ç”¨<code>adb pull</code>ï¼Œè¿™é‡Œä»¥<code>tim</code>ä¸ºä¾‹ï¼Œå¯ä»¥è¿™æ ·åš</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adb pull /data/data/com.tencent.tim ./tim</span><br></pre></td></tr></table></figure>
<p>åˆ‡è®°ï¼Œå¤‡ä»½æ—¶æœ€å¥½ç”¨linuxæ“ä½œç³»ç»Ÿï¼ŒWindowsæ€»æ˜¯ä¼šæœ‰ä¸€äº›è«åçš„é”™è¯¯,å¤‡ä»½å®‰è£…åŒ…</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adb pull /data/app/  ./app</span><br></pre></td></tr></table></figure>
<p>å¤‡ä»½<code>sdcard</code>çš„æ•°æ®</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adb pull ./sdcard/Android/data/com.tencent.tim ./com.tencent.tim </span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨è„šæœ¬å¤‡ä»½æ–‡ä»¶,ä¸‹è½½ä¸‹é¢çš„<a
href="https://ninglang.lanzoui.com/iHmmuvpiygj">è„šæœ¬</a>ï¼Œå°†å¤‡ä»½çš„æ–‡ä»¶å¯¼å…¥ç”µè„‘</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adb pull /storage/emulated/0/back/ ./back</span><br></pre></td></tr></table></figure>
<p><a
href="https://picturnl.oss-cn-shanghai.aliyuncs.com/contacts.csv">è”ç³»äººå¤‡ä»½</a></p>
<h1 id="æ¢å¤app">æ¢å¤App</h1>
<p>å¾®ä¿¡ç­‰è½¯ä»¶ä¸æ”¯æŒé™çº§ï¼Œå¯ä»¥å…ˆç”¨ä¸‹é¢å‘½ä»¤å°†æ•°æ®ä¼ å…¥ï¼ˆéœ€è¦åœ¨å®‰è£…magiskä¹‹åï¼‰</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adb push ./tim /data/com.tencent.tim </span><br></pre></td></tr></table></figure>
<p>ç„¶åä½¿ç”¨ä¸‹é¢çš„è¯­å¥å¯¹åº”ç”¨è¿›è¡Œå®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adb install ./tim.apk</span><br></pre></td></tr></table></figure>
<p>ç™»å½•æ—¶å¯èƒ½ä¼šæŠ¥é”™ï¼Œè¿™æ—¶å¯ä»¥é‡‡ç”¨<code>TitaniumBackup</code>å¯¹è¿™ä¸ªè½¯ä»¶å¤‡ä»½ï¼Œå¸è½½æ•´ä¸ªè½¯ä»¶ï¼Œæ•°æ®ï¼Œç”¨<code>TitaniumBackup</code>æ¢å¤åº”ç”¨ç¨‹åº</p>
<p>å¸è½½appä½†ä¿ç•™æ•°æ®å’Œç¼“å­˜æ–‡ä»¶ï¼š</p>
<p><code>adb shell pm uninstall -k åŒ…å</code></p>
<h2 id="æ¢å¤dataçš„app">æ¢å¤dataçš„app</h2>
<p>é¦–å…ˆå®‰è£…apkï¼Œæ‰“å¼€ï¼Œç„¶åç”¨pushå°†data pushåˆ°æ‰‹æœºä¸­å»</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">push ./mm/* /data/data/com.tencent.mm</span><br></pre></td></tr></table></figure>
<p>å¾®ä¿¡é™çº§</p>
<p>é¦–å…ˆï¼Œå°†<code>data</code>
pushä¹‹åï¼Œåº”è¯¥å¯ä»¥çœ‹åˆ°æœ€æ–°ç‰ˆæœ¬çš„å¾®ä¿¡çš„èŠå¤©è®°å½•æ˜¯<code>data</code>é‡Œé¢çš„,ç„¶åï¼Œä½¿ç”¨</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">adb shell pm uninstall -k com.tencent.mm</span><br></pre></td></tr></table></figure>
<p>é‡æ–°å¯åŠ¨æ‰‹æœº</p>
<p>ç„¶åä½¿ç”¨adbå®‰è£…è½¯ä»¶ï¼ˆå¾®ä¿¡ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adb install weixing.apk</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥å®Œæˆæ— éœ€ç™»å½•çš„é™çº§</p>
<h2 id="é’›å¤‡ä»½æ¢å¤æ–‡ä»¶">é’›å¤‡ä»½æ¢å¤æ–‡ä»¶</h2>
<p>ä¹‹å‰ä¹‹æ‰€ä»¥æ²¡æœ‰ç”¨é’›å¤‡ä»½ï¼Œæ˜¯è€ƒè™‘åˆ°é’›å¤‡ä»½æ²¡æœ‰ä¸€äº›å¾ˆå¿…è¦çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼Œæˆ‘çš„å¾®ä¿¡çš„è¯­éŸ³ã€ä»¥åŠå›¾ç‰‡ï¼Œéƒ½æ²¡æœ‰åŠæ³•å¤‡ä»½ï¼Œç°åœ¨ï¼Œåªéœ€è¦å¼€å¯é’›å¤‡ä»½ä¸­è®¾ç½®çš„<code>preferences-&gt;backup app external data-&gt;enabled(always)</code>.å°±å¯ä»¥ï¼Œè¿™äº‹ï¼Œå°±ä¼šå¤‡ä»½è¯­éŸ³ï¼Œè€Œä¸”ï¼Œåœ¨å¾®ä¿¡ç­‰è½¯ä»¶çš„é«˜ç‰ˆæœ¬çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨é’›å¤‡ä»½ä½¿ç”¨æ¢å¤å†å²ç‰ˆæœ¬ä»…<code>APP</code>å³å¯ã€‚</p>
<h1 id="è¾“å…¥å†…æ ¸">è¾“å…¥å†…æ ¸</h1>
<p>é¦–å…ˆï¼Œå°†å†…æ ¸æ–‡ä»¶<code>*.zip</code>ç§»åŠ¨åˆ°æ‰‹æœºä¸­ï¼Œç„¶åç”¨åœ¨ç”¨<code>twrp</code>å¯¹å®ƒè¿›è¡Œåˆ·å…¥ï¼Œç›´æ¥åˆ·å…¥å³å¯</p>
<h1 id="adb-su">adb su</h1>
<p>adb suç”±äºæŸäº›åŸå› æ‰“ä¸å¼€ï¼Œè¿™æ—¶å€™è¦å¼ºåˆ¶æ‰“å¼€ä½¿ç”¨è¿™ä¸ª<a
href="https://github.com/evdenis/adb_root">é“¾æ¥</a>ä¸­releaseä¸­çš„zip,ç„¶åç”¨é¢å…·åˆ·å…¥ï¼Œå³å¯</p>
<p>ç„¶åä½¿ç”¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adb root</span><br><span class="line">adb remount</span><br></pre></td></tr></table></figure>
<p>å³å¯å®Œæˆæ•´ä¸ªææƒï¼Œæ–‡ä»¶è¯»å†™æƒé™</p>
<h1 id="magisk">Magisk</h1>
<ol type="1">
<li>å…ˆä¸‹è½½<code>HttpCanary</code>ï¼Œ<a
href="https://ninglang.lanzoup.com/iOlriyzokud">ç‚¹å‡»ä¸‹è½½</a>,å†ç”¨è¿™ä¸ªå‘½ä»¤å¯¹è¯ä¹¦è¿›è¡Œç§»åŠ¨</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mv -f /data/misc/user/0/cacerts-added/12abc345.0 <span class="variable">$MODDIR</span>/system/etc/security/cacerts</span><br></pre></td></tr></table></figure>
<ol start="2" type="1">
<li>ç¦æ­¢æŸä¸ªipï¼ˆmagisk20.3ï¼‰:ä¸‹è½½<a
href="">ipforbidden</a>æ¨¡å—ï¼Œåˆ·å…¥ï¼Œå³å¯</li>
</ol>
<h1 id="å¼€æœºæ¨¡å¼ä¸‹è½¯ä»¶æ“ä½œ">å¼€æœºæ¨¡å¼ä¸‹è½¯ä»¶æ“ä½œ</h1>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adb shell pm list packages</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥åŠ ä¸ŠæŸ¥è¯¢å­—</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adb shell pm list packages | grep <span class="string">&#x27;miui&#x27;</span></span><br></pre></td></tr></table></figure>
<p>è·å–<code>root</code>æƒé™</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adb root</span><br></pre></td></tr></table></figure>
<p>ä¿ç•™æ•°æ®å¸è½½,æ­¤æ–¹æ³•å¯ç”¨äºå¾®ä¿¡é™çº§</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adb  uninstall -k com.tencent.tim</span><br></pre></td></tr></table></figure>
<p>å®‰è£…apk</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adb  install  com.tencent.tim</span><br></pre></td></tr></table></figure>
<h1 id="å®‰å“åˆ†åŒº">å®‰å“åˆ†åŒº</h1>
<ul>
<li><p>system</p>
<p>è¿™ä¸ªåˆ†åŒºæ— æ‰€è°“ï¼Œæ¯æ¬¡åˆ·æœºåˆ·çš„å°±æ˜¯è¿™ä¸ª</p></li>
<li><p>data</p>
<p>è¿™ä¸ªåˆ†åŒºå°±æ˜¯è½¯ä»¶æ•°æ®æ”¾çš„åœ°æ–¹ï¼Œå°å¿ƒæ ¼å¼åŒ–</p></li>
<li><p>persist</p>
<p>å‚¨å­˜è´¦æˆ·å¯†ç ï¼Œå¦‚æœè¿™ä¸ªåˆ†åŒºæŸåï¼Œä¼šå‡ºç°å‚¨å­˜è¯»å–é”™è¯¯ï¼Œä½¿ç”¨å®˜æ–¹çš„çº¿åˆ·åŒ…ä¸­çš„persistå³å¯ä»¥æ¢å¤ã€‚</p></li>
<li><p>vendor</p></li>
<li><p>recovery</p>
<p>è¿™ä¸ªæ˜¯åœ¨fastbootæ¨¡å¼ä¸‹åˆ·å…¥çš„åˆ†åŒº</p></li>
<li><p>boot</p></li>
<li><p>cache</p>
<p>è¿™ä¸ªåˆ†åŒºåªæ˜¯å…·æœ‰è®°å½•åŠŸèƒ½ï¼Œæ“¦é™¤ä¸å½±å“ä½¿ç”¨ï¼Œä¸ä¼šå½±å“ä»»ä½•æ•°æ®</p></li>
<li><p>misc</p>
<p>è¿™ä¸ªåˆ†åŒºæ˜¯æ”¾ç¡¬ä»¶é…ç½®ä¿¡æ¯çš„ï¼ŒUSBï¼Œadb</p></li>
<li><p>sdcard</p>
<p>è¿™ä¸ªåˆ†åŒºå°±æ˜¯å­˜å‚¨å¡åˆ†åŒºï¼Œæ²¡ä»€ä¹ˆç‰¹åˆ«çš„</p></li>
</ul>
]]></content>
      <categories>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title>C&amp;&amp;C++é—®é¢˜æ€»æ±‡(1)</title>
    <url>/2021/09/20/C&amp;&amp;C++%E9%97%AE%E9%A2%98%E6%80%BB%E6%B1%87(1)/</url>
    <content><![CDATA[<p>C&amp;&amp;C++é—®é¢˜æ€»æ±‡ğŸ™„</p>
<span id="more"></span>
<h1 id="äºŒç»´æ•°ç»„">äºŒç»´æ•°ç»„</h1>
<p>å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„å¦‚ä¸‹:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">3</span>][<span class="number">4</span>] = &#123; &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;, &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>&#125;, &#123;<span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>&#125; &#125;;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœé‡‡ç”¨ä¸€ä¸ªæŒ‡é’ˆå»æŒ‡å‘è¿™ä¸ªæ•°ç»„ï¼Œå¯ä»¥è¿™ä¹ˆåš:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> (*p)[<span class="number">4</span>]=a; <span class="comment">//4ä»£è¡¨äº†ä¸€è¡Œæœ‰å¤šå°‘ä¸ªå…ƒç´ </span></span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­<code>*p</code>è¦åŠ æ‹¬å·ï¼Œå› ä¸ºä¸åŠ æ‹¬å·å°±æ˜¯æŒ‡é’ˆæ•°ç»„,è€Œä¸”ä½†æ˜¯ï¼Œè¿™æ—¶å€™çš„<code>*p</code>ï¼ˆpæŒ‡é’ˆæŒ‡å‘çš„æ•°æ®ä¸åœ¨æ˜¯ä¸€ä¸ª<code>int</code>çš„æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä»£è¡¨çš„æ˜¯ç¬¬iè¡Œçš„æ‰€æœ‰å…ƒç´ ï¼‰</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">sizeof</span>(*p);</span><br><span class="line">Output: <span class="number">16</span></span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆè®¿é—®è¿™ä¸ªäºŒç»´æ•°ç»„çš„æŒ‡é’ˆæ–¹æ³•æ˜¯:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">a[i][j]=*(*(p+i)+j);</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œä¸‹é¢è¿™ç§æ–¹å¼ä¹Ÿå¯¹(å’Œä¸€ç»´æ•°ç»„çš„æŒ‡é’ˆä¸€æ ·)</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">a[i][j]=p[i][j];</span><br></pre></td></tr></table></figure>
<p><img src="https://picturnl.oss-cn-shanghai.aliyuncs.com/Y7D20b8621AY6CYryYagUED1.jpg" alt="Y7D20b8621AY6CYryYagUED1" style="zoom: 33%;" /></p>
<ul>
<li>æŒ‡é’ˆæ•°ç»„æ˜¯è¿™æ ·å­çš„å—ï¼Ÿ</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">char</span> *strs[<span class="number">3</span>] =&#123;<span class="string">&quot;chinese&quot;</span>,<span class="string">&quot;zhonguo&quot;</span> &#125; ;<span class="comment">//3ä»£è¡¨ä¸¤ä¸ªstringå…ƒç´ ï¼Œä¸€ä¸ª&#x27;\0&#x27;</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä½¿ç”¨çš„å°±æ˜¯æŒ‡é’ˆæ•°ç»„,æ‰€ä»¥è¿™é‡Œæ˜¯3ï¼ˆæ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°+1ï¼‰ï¼Œè€Œä¸Šé¢çš„é‚£ä¸ªæ˜¯4æ•°ç»„ä¸ªæ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€çº§ä¸ªæ•°ã€‚</p>
<h2 id="äºŒç»´æ•°ç»„èµ‹å€¼çš„é—®é¢˜">äºŒç»´æ•°ç»„èµ‹å€¼çš„é—®é¢˜</h2>
<ul>
<li>äºŒç»´æ•°ç»„æœ‰ä¸¤ä¸ªç»´åº¦ï¼Œå½“ç„¶å¯ä»¥æŒ‰ç…§ä¸€ä¸ªä¸€ä¸ªå»èµ‹å€¼ï¼Œä½†é‚£æ ·æ¯•ç«Ÿå¤ªæ…¢ï¼Œæ‰€ä»¥æœ‰æ²¡æœ‰æ›´å¥½çš„èµ‹å€¼æ–¹æ³•å‘¢ï¼Ÿ</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> q[<span class="number">4</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;q[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> b1[][<span class="number">2</span>]=&#123;&#123;q[<span class="number">0</span>],q[<span class="number">1</span>]&#125;,&#123;q[<span class="number">3</span>],q[<span class="number">4</span>]&#125;&#125;;</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯æˆ‘ç°åœ¨ä½¿ç”¨çš„æ–¹æ³•ï¼Œå¹¶ä¸æ˜¯ååˆ†çš„å¥½ï¼Œå¸Œæœ›æœ‰æ‰€æ”¹è¿›</p>
<ul>
<li>å‹å…ƒå‡½æ•°è®¿é—®ç§æœ‰æˆå‘˜é—®é¢˜</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¹ é¢˜5-18</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æŠ¥é”™ï¼Œa[2][2]æ˜¯ç§æœ‰æˆå‘˜ï¼Œä¸å¯åœ¨operatorä¸­è®¿é—®</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span>&#123;</span></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		List(<span class="keyword">int</span> i,<span class="keyword">int</span> j,<span class="keyword">int</span> k ,<span class="keyword">int</span> m)&#123;</span><br><span class="line">			a[<span class="number">0</span>][<span class="number">0</span>]=i,a[<span class="number">0</span>][<span class="number">1</span>]=j,a[<span class="number">1</span>][<span class="number">0</span>]=k,a[<span class="number">1</span>][<span class="number">1</span>]=m;</span><br><span class="line">		&#125;</span><br><span class="line">		List(<span class="keyword">int</span> (*p)[<span class="number">2</span>])&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">2</span>;i++)&#123;</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">2</span>;j++)&#123;</span><br><span class="line">					a[i][j]=p[i][j];</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		List()&#123;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">friend</span> <span class="keyword">operator</span>+(List &amp;a,List &amp;b);</span><br><span class="line">		<span class="keyword">friend</span> <span class="keyword">operator</span>-(List &amp;a,List &amp;b);</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">disp</span><span class="params">()</span></span>&#123;</span><br><span class="line">			<span class="built_in">cout</span>&lt;&lt;a[<span class="number">0</span>][<span class="number">0</span>]&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;a[<span class="number">0</span>][<span class="number">1</span>]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">			<span class="built_in">cout</span>&lt;&lt;a[<span class="number">1</span>][<span class="number">0</span>]&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;a[<span class="number">1</span>][<span class="number">1</span>]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="keyword">int</span> a[<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line">&#125;;</span><br><span class="line">List <span class="keyword">operator</span>+(List a,List b)&#123;</span><br><span class="line">	<span class="keyword">int</span> c[<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">2</span>; i++)&#123;</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">2</span>;j++)&#123;</span><br><span class="line">					c[i][j]=a.a[i][j]+b.a[i][j];</span><br><span class="line">				&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> List(c);</span><br><span class="line">&#125;</span><br><span class="line">List <span class="keyword">operator</span>-(List &amp;a,List &amp;b)&#123;</span><br><span class="line">	<span class="keyword">int</span> c[<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">2</span>;i++)&#123;</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">2</span>;j++)&#123;</span><br><span class="line">					c[i][j]=a.a[i][j]-b.a[i][j];</span><br><span class="line">				&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> List(c);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="function">List <span class="title">a</span><span class="params">(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> q[<span class="number">4</span>];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line">	</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;q[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> b1[][<span class="number">2</span>]=&#123;&#123;q[<span class="number">0</span>],q[<span class="number">1</span>]&#125;,&#123;q[<span class="number">3</span>],q[<span class="number">4</span>]&#125;&#125;;</span><br><span class="line">	<span class="function">List <span class="title">b</span><span class="params">(b1)</span></span>;</span><br><span class="line">	List c;</span><br><span class="line">	c = a+b;</span><br><span class="line">	c.disp();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æŒ‡é’ˆçš„æŒ‡é’ˆ">æŒ‡é’ˆçš„æŒ‡é’ˆ</h2>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> **p;</span><br><span class="line"><span class="comment">//ä½¿ç”¨æ–¹æ³•</span></span><br><span class="line"><span class="keyword">int</span> **p; <span class="comment">//å®šä¹‰ä¸€ä¸ªæŒ‡é’ˆçš„æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">int</span> *q;	<span class="comment">//å®šä¹‰ä¸€ä¸ªintå‹çš„æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">3</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">q = a;	<span class="comment">//qæŒ‡å‘a</span></span><br><span class="line">p =&amp;q; <span class="comment">//pæŒ‡å‘q</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,*(*p+<span class="number">1</span>)); <span class="comment">//æ‰€ä»¥*på±•ç°äº†qï¼Œ*ï¼ˆ*pï¼‰ä¸ºqå±•ç°è‡ªå·±å‚¨å­˜çš„åœ°å€çš„å†…å®¹</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>æ‰€ä»¥è¯´ï¼Œè¿™ä¸ª<code>int</code>æœ‰ç”¨å—ï¼Ÿ</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">*((<span class="keyword">int</span> *)a+n*i+j);  </span><br></pre></td></tr></table></figure>
<ul>
<li>å‡½æ•°çš„åˆ†å·é—®é¢˜</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">T <span class="title">sum</span><span class="params">()</span></span>&#123;</span><br><span class="line">    .....</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">T <span class="title">sum</span><span class="params">()</span></span>&#123;</span><br><span class="line">    .....</span><br><span class="line">&#125;;   <span class="comment">//è¿™ä¸ªåˆ†å·æ˜¯å¦æœ‰å¿…è¦ï¼Ÿ</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ç­”ï¼š</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¸ºä»€ä¹ˆBaseå’ŒDerivedçš„è™šå‡½æ•°åœ°å€ä¸€æ ·å‘¢ </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span>&#123;</span></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span>&#123;</span><br><span class="line">		&#125;;</span><br><span class="line">		<span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">func1</span><span class="params">()</span></span>&#123;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Derived</span>:</span> <span class="keyword">public</span> Base&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">fun</span><span class="params">()</span></span>&#123;</span><br><span class="line">		&#125;;</span><br><span class="line">		<span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">func1</span><span class="params">()</span></span>&#123;</span><br><span class="line">		&#125;;</span><br><span class="line">&#125;; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	Derived d;</span><br><span class="line">	<span class="keyword">if</span> (d.Base::_vptr==d._vptr)&#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;yes&quot;</span>&lt;&lt;<span class="built_in">endl</span>;  <span class="comment">//æ˜¾ç¤ºyes</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>é—®ï¼šBaseä¸­çš„è™šå‡½æ•°å’ŒDerivedçš„è™šå‡½æ•°çš„åœ°å€ä¸ºä»€ä¹ˆæ˜¯ä¸€æ ·çš„å‘¢</p></li>
<li><p>ç­”ï¼š</p></li>
</ul>
<p>è™šè¡¨æŒ‡é’ˆæŒ‡å‘äº†ä¸€ä¸ªè™šè¡¨ï¼Œè™šè¡¨ä¸­å­˜æ”¾ç€ç±»ä¸­çš„è™šå‡½æ•°ã€‚å¦‚æœç±»ä¸­å­˜åœ¨è™šå‡½æ•°ï¼Œé‚£ä¹ˆæ„é€ å¯¹è±¡çš„æ—¶å€™ï¼Œå°±ä¼šç”Ÿä¸€ä¸ªè™šè¡¨æŒ‡é’ˆæŒ‡å‘è™šè¡¨ï¼Œè™šè¡¨ä¸­å­˜æ”¾è™šå‡½æ•°ã€‚æ‰€ä»¥ï¼Œè¦æ³¨æ„çš„ä¸€-ç‚¹ï¼Œ
åœ¨ç±»çš„æ„é€ å‡½æ•°ä¸­ä¸è¦è°ƒç”¨è™šå‡½æ•°ï¼Œè¿™æ˜¯ä¸€ä¸€ä¸ªå±é™©çš„åŠ¨ä½œï¼Œå› ä¸ºå¾ˆå¯èƒ½å®ƒè¿˜æœª
åˆå§‹åŒ–å®Œæ¯•ã€‚</p>
<ul>
<li>é—®ï¼šåŠ¨æ€è”ç¼–å’Œé™æ€è”ç¼–ï¼Œå¯ä»¥è®¿é—®æ´¾ç”Ÿç±»å‡½æ•°</li>
<li>ç­”ï¼š</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;1,2,3&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>:</span><span class="keyword">public</span> A&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	<span class="function"><span class="keyword">void</span> <span class="title">print1</span><span class="params">()</span></span>&#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;4,5,6&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    A *ptr;</span><br><span class="line">    B a1;</span><br><span class="line">    ptr =&amp;a1;</span><br><span class="line">    ptr-&gt;<span class="built_in">print1</span>();   <span class="comment">//can&#x27;t called</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>é—®ï¼šä¸èƒ½è°ƒç”¨æ´¾ç”Ÿç±»å‡½æ•°</li>
<li>ç­”ï¼š</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span>&#123;</span></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">func4</span><span class="params">()</span></span>&#123;</span><br><span class="line">			<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;nihao&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Derived</span>:</span><span class="keyword">public</span> Base&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">func4</span><span class="params">()</span></span>&#123;</span><br><span class="line">			<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot; nihao!&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	Base d1, *bp;</span><br><span class="line">	Derived d2;</span><br><span class="line">	bp=&amp;d2;</span><br><span class="line">	bp-&gt;func4();   <span class="comment">//è¿™é‡Œç›´æ¥è°ƒç”¨äº†Baseé‡Œé¢çš„func4()ï¼Œè¿™ä¸ªç®—é‡è½½å—ï¼Ÿ </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>é—®ï¼šè¿™ä¸ªå¯ä»¥ç®—é‡è½½å˜›ï¼Ÿï¼Œç»“æœå€¼ä¸ºç¬¬ä¸€ä¸ª</li>
<li>ç­”:</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Length</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> meter;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		Length(<span class="keyword">int</span> m)&#123;</span><br><span class="line">			meter = m;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">operator</span> <span class="title">double</span><span class="params">()</span></span>&#123;</span><br><span class="line">			<span class="keyword">return</span> (<span class="number">1</span>*meter/<span class="number">1000</span>);   <span class="comment">//è¿™ä¸ªåœ°æ–¹ä¸€å®šè¦ä½¿ç”¨1.0,å¦è€…å¼ºåˆ¶è½¬åŒ–ä¼šå¯¼è‡´ç»“æœå‡ºé”™ </span></span><br><span class="line">		&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="function">Length <span class="title">a</span><span class="params">(<span class="number">1500</span>)</span></span>;</span><br><span class="line">	<span class="keyword">double</span> m =<span class="keyword">float</span>(a);</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;m=&quot;</span>&lt;&lt;m&lt;&lt;<span class="string">&quot;km&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šè¿™é‡Œ<code>Length</code>è¿”å›å€¼åªèƒ½æ˜¯1.0ï¼Œä¸èƒ½æ˜¯1ï¼Œå¦è€…å°†ä¼šä¸å‡†ç¡®ã€‚</p>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
  </entry>
  <entry>
    <title>C &amp;&amp; C++ (1)</title>
    <url>/2021/09/03/C_C++/</url>
    <content><![CDATA[<p>describe some differences between c and c++,(Function Union and
Quote)</p>
<span id="more"></span>
<h1 id="function">Function</h1>
<ul>
<li><p>Function declaration</p>
<p>if Function declaration's parameter is empty of
<code>void</code>,This two declaration in c++ are same :</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">f();				<span class="comment">//This function don&#x27;t carray any parameters</span></span><br><span class="line">f(<span class="keyword">void</span>);			<span class="comment">//This function don&#x27;t carray any parameters</span></span><br></pre></td></tr></table></figure>
<p>but they are different in c:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">f(<span class="keyword">void</span>);			<span class="comment">//This function don&#x27;t carray any parameters</span></span><br><span class="line">f();				<span class="comment">//Don&#x27;t give the information of parameters ,It have chance to carrary 						//paramters</span></span><br></pre></td></tr></table></figure></li>
<li><p>Macro definition</p>
<p>Macro definition may cause some error that we can't expect ,for
example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> doub(x) x*2</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">1</span> ;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="string">&quot; doubled is &quot;</span>&lt;&lt;doub(i)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;1+2 doubled is &quot;</spa                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ><br><span class="line"><span class="comment">//æ³¨æ„å°¾ç»“ç‚¹,ä¸è¦è®©å…¶æŒ‡å‘ç©º</span></span><br><span class="line"><span class="keyword">if</span>(first-&gt;next==<span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">    rear=first;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> x;</span><br></pre></td></tr></table></figure>
<h2 id="åº”ç”¨ä¸¾ä¾‹">åº”ç”¨ä¸¾ä¾‹</h2>
<ol type="1">
<li>ä¸¤æ ˆå…±äº«ç©ºé—´</li>
</ol>
<p><img src="https://picturnl.oss-cn-shanghai.aliyuncs.com/image-20220430231223168.png" alt="image-20220430231223168" style="zoom: 80%;" /></p>
<h3 id="æ‹¬å·åŒ¹é…é—®é¢˜">æ‹¬å·åŒ¹é…é—®é¢˜</h3>
<p>ä½¿ç”¨æ ˆæ¥åŒ¹é…æ‹¬å·,æŸ¥çœ‹ä»£ç æ˜¯å¦æ˜¯å¤šäº†æ‹¬å·æˆ–è€…å°‘äº†æ‹¬å·</p>
<p>ç®—æ³•:Match(str)</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">top = <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;str[i]!=<span class="string">&#x27;\0&#x27;</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//å¦‚æœåˆ¤æ–­ä¸ºå·¦æ‹¬å·,è¿›æ ˆ</span></span><br><span class="line">    <span class="keyword">if</span>(str[i]==<span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        top++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­ä¸ºå³æ‹¬å·,å‡ºæ ˆ</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(str[i]==<span class="string">&#x27;)&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        top--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(top!=<span class="number">-1</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//å¦‚æœæ ˆä¸­æœ‰æ‹¬å·æˆ–è€…ä½¿ç”¨äº†æ›´å¤šçš„æ‹¬å·,è¿”å›-1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="è¡¨è¾¾å¼æ±‚å€¼">è¡¨è¾¾å¼æ±‚å€¼</h3>
<p>è®¾è¿ç®—ç¬¦æœ‰<code>+,-,*,/,#</code>,å…¶ä¸­#å·æ˜¯ç•Œå®šç¬¦,æ±‚å‡ºç»™çš„è¡¨è¾¾å¼çš„ç»“æœ:å‡è®¾ç»™çš„è¡¨è¾¾å¼ä¸º
<span class="math display">\[
3\times 3+(6/5+7)*4-9
\]</span></p>
<p>â€‹
ä¸€ä¸ªè¡¨è¾¾å¼çš„è¾“å‡ºä¸€å…±æœ‰ä¸¤ç§æƒ…å†µ,ä¸€ç§æ˜¯æ•°å­—,ä¸€ç§æ˜¯ç¬¦å·,æˆ‘ä»¬å‡è®¾æœ‰ä¸¤ä¸ªæ ˆ,ä¸€ä¸ªæ˜¯ç¬¦å·æ ˆ,ä¸€ä¸ªæ˜¯æ•°æ®æ ˆ,é¦–å…ˆè¦åˆ¤æ–­è¿›æ¥çš„è¿™ä¸ªæ˜¯ä¸æ˜¯ä¸€ä¸ªç¬¦å·,å…¶æ¬¡ä»–çš„ä¼˜å…ˆçº§æ˜¯å¦é«˜äºç°åœ¨æ ˆä¸­æ ˆé¡¶å…ƒç´ çš„ç¬¦å·,å¦‚æœé«˜äº,é‚£ä¹ˆè¿™ä¸ªæ—¶å€™æˆ‘ä»¬è®©å®ƒè¿›æ ˆ,å¦‚æœä¸é«˜äº,é‚£ä¹ˆ,æˆ‘ä»¬è®©æ ˆä¸­æ ˆé¡¶å…ƒç´ å‡ºæ ˆ,,å¯¹æ•°æ®è¿›è¡Œè¿ç®—,ç›´åˆ°å…¶ä¼˜å…ˆçº§å°äºå…¥æ ˆç¬¦å·çš„ä¼˜å…ˆçº§,ç„¶åæ–°çš„ç¬¦å·å‹å…¥æ ˆä¸­.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">SymbolStack.<span class="built_in">push</span>(<span class="string">&#x27;#&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;!SymbolStack.<span class="built_in">isempty</span>();i++)</span><br><span class="line">&#123;</span><br><span class="line">    str=str_[i];</span><br><span class="line">    <span class="comment">//è¿›å…¥æ ˆä¹‹ååˆ¤æ–­ä¸€ä¸‹å®ƒæ˜¯å¦æ˜¯ç¬¦å·</span></span><br><span class="line">    <span class="comment">//æ˜¯ä¸æ˜¯ä¼˜å…ˆçº§è¾ƒé«˜çš„</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">IssSymbol</span>(str)&amp;&amp;!<span class="built_in">IsPriority</span>(str))</span><br><span class="line">    &#123;</span><br><span class="line">        a=NumberStack.<span class="built_in">pop</span>();</span><br><span class="line">        b=NumberStack.<span class="built_in">pop</span>();</span><br><span class="line">        NumberStack.<span class="built_in">push</span>(<span class="built_in">Calculate</span>(b,a));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¦‚æœæ˜¯ç¬¦å·,è€Œä¸”ä¼˜å…ˆçº§é«˜,åˆ™å…¥æ ˆ</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">IssSymbol</span>(str)&amp;&amp;<span class="built_in">IsPriority</span>(str))</span><br><span class="line">    &#123;</span><br><span class="line">        SymbolStack.<span class="built_in">push</span>(str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¦‚æœæ˜¯æ•°å­—,åˆ™è®©å…¶è¿›å…¥æ•°å­—æ ˆ</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        NumberStack.<span class="built_in">push</span>(str.<span class="built_in">toInt</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="é€’å½’">é€’å½’</h2>
<p>é€’å½’çš„ä¸»è¦ç»„æˆéƒ¨åˆ†</p>
<ul>
<li>åŸºç¡€æƒ…å†µ</li>
<li>é€’å½’éƒ¨åˆ†</li>
</ul>
<h3 id="æ±‰è¯ºå¡”æ±‚è§£">æ±‰è¯ºå¡”æ±‚è§£</h3>
<p><img src="https://picturnl.oss-cn-shanghai.aliyuncs.com/image-20220501195358429.png" alt="image-20220501195358429" style="zoom:80%;" /></p>
<p>è§£å†³æ–¹æ³•:</p>
<p>:one:
é¦–å…ˆå‡è®¾æ ·æœ¬æ•°é‡æ¯”è¾ƒå°,ä¾‹å¦‚åªæœ‰ä¸€ä¸ªç›˜å­çš„æ—¶å€™,é‚£ä¹ˆæˆ‘ä»¬éœ€è¦åšçš„æ˜¯:<code>A---&gt;C</code></p>
<p>å¦‚æœæ˜¯ä¸¤ä¸ªç›˜å­:ç¬¬ä¸€æ­¥:å°†ä¸Šé¢çš„ç›˜å­ç§»åˆ°B,å°†Açš„ç›˜å­ç§»åˆ°C,å†æŠŠBä¸Šé¢çš„ç§»åŠ¨åˆ°C:<code>A---&gt;B</code>,<code>A---&gt;c</code>,<code>B---&gt;c</code></p>
<p>å¦‚æœæ˜¯ä¸‰ä¸ªç›˜å­:ç¬¬ä¸€æ­¥,æƒ³åŠæ³•æŠŠAä¸Šé¢2ä¸ªç›˜å­ç§»åˆ°åˆ°B,å†æŠŠAä¸Šçš„ç§»åŠ¨åˆ°C,æœ€åæƒ³åŠæ³•æŠŠBä¸Šçš„ç§»åŠ¨åˆ°C:<code>A(2)---&gt;B</code>,<code>A---&gt;C</code>,<code>B(2)---&gt;C</code></p>
<p>:two:ç°åœ¨è€ƒè™‘æ›´åŠ æœ´å®çš„æƒ…å†µ:nä¸ªç›˜å­:åˆ™ç®—æ³•çš„æ€è·¯ä¸º:<code>A(n-1)---&gt;B</code>,<code>A---&gt;C</code>,<code>B---&gt;C</code></p>
<p>:three:
å¥½!ç°åœ¨ç®—ä¸Šæƒ³æ¸…æ¥šäº†,åŸºç¡€æ¡ä»¶:n=1:ç›´æ¥ç§»åŠ¨,å¦‚æœn!=1çš„æ—¶å€™,å°±å€ŸåŠ©B,å†ç§»åŠ¨åˆ°C</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Moveå‡½æ•°:Aé€šè¿‡å€ŸåŠ©Bç§»åŠ¨åˆ°C</span></span><br><span class="line"><span class="built_in">Move</span>(A,B,C,n)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;A&lt;&lt;<span class="string">&#x27;---&gt;&#x27;</span>&lt;&lt;C;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//å°†Aä¸Šé¢çš„n-1ä¸ªç›˜å­é€šè¿‡Aç§»åŠ¨åˆ°B</span></span><br><span class="line">		<span class="built_in">Move</span>(A,C,B,n<span class="number">-1</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//å°†Açš„æœ€åº•ä¸‹çš„ç›˜å­ä¸€æ¬¡ç§»åˆ°C</span></span><br><span class="line">        <span class="built_in">Move</span>(A,B,C,<span class="number">1</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//å°†Bä¸Šæ‰€æœ‰çš„ç›˜å­æƒ³æ–¹æ³•ç§»åŠ¨åˆ°C</span></span><br><span class="line">        <span class="built_in">Move</span>(B,A,C,n<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="nçš‡åé—®é¢˜">Nçš‡åé—®é¢˜</h3>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
  </entry>
  <entry>
    <title>é—ä¼ ç®—æ³•</title>
    <url>/2022/02/20/yichuan/</url>
    <content><![CDATA[<p>é—ä¼ ç®—æ³•çš„åˆæ­¥äº†è§£</p>
<span id="more"></span>
<p>ä»¥<code>TSP</code>é—®é¢˜ä¸ºä¾‹,é—ä¼ ç®—æ³•çš„æµç¨‹å›¾</p>
<p><img src="https://picturnl.oss-cn-shanghai.aliyuncs.com/191819382245126.gif" alt="img" style="zoom: 33%;" /></p>
<p>é¦–å…ˆåˆ›å»ºæœ€åˆç§ç¾¤</p>
<p>é…ç½®ç¯å¢ƒ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> config <span class="keyword">as</span> conf</span><br><span class="line"><span class="keyword">from</span> ga <span class="keyword">import</span> Ga</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">config = conf.get_config()</span><br></pre></td></tr></table></figure>
<p>è®¡ç®—é€‚åº”åº¦</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">build_dist_mat</span>(<span class="params">input_list</span>):</span></span><br><span class="line">    n = config.city_num</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;input_list&quot;</span>,input_list)</span><br><span class="line">    dist_mat = np.zeros([n, n])</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i + <span class="number">1</span>, n):</span><br><span class="line">            d = input_list[i, :] - input_list[j, :]</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;d&quot;</span>,d)</span><br><span class="line">            <span class="comment"># è®¡ç®—ç‚¹ç§¯</span></span><br><span class="line">            dist_mat[i, j] = np.dot(d, d)</span><br><span class="line">            dist_mat[j, i] = dist_mat[i, j]</span><br><span class="line">    <span class="keyword">return</span> dist_mat</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºæœ€åˆç§ç¾¤</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åŸå¸‚åæ ‡</span></span><br><span class="line">city_pos_list = np.random.rand(config.city_num, config.pos_dimension)</span><br><span class="line"><span class="comment"># åŸå¸‚è·ç¦»çŸ©é˜µ</span></span><br><span class="line">city_dist_mat = build_dist_mat(city_pos_list)</span><br></pre></td></tr></table></figure>
<p>åŸºå› é…ç½®</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">gene_len = config.city_num  <span class="comment">#åŸºå› é•¿åº¦ï¼Œå°±æ˜¯åŸå¸‚çš„æ•°é‡</span></span><br><span class="line">individual_num = config.individual_num <span class="comment">#æ¯æ¬¡ä¸ªä½“çš„æ•°é‡</span></span><br><span class="line">gen_num = config.gen_num <span class="comment">#é—ä¼ ä»£æ•°</span></span><br><span class="line">mutate_prob = config.mutate_prob <span class="comment">#çªå˜ç‡</span></span><br></pre></td></tr></table></figure>
<p>æ•°ç»„æ·±æ‹·è´</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">copy_list</span>(<span class="params">old_arr: [<span class="built_in">int</span>]</span>):</span></span><br><span class="line">    new_arr = []</span><br><span class="line">    <span class="keyword">for</span> element <span class="keyword">in</span> old_arr:</span><br><span class="line">        new_arr.append(element)</span><br><span class="line">    <span class="keyword">return</span> new_arr</span><br></pre></td></tr></table></figure>
<p>ç§ç¾¤ä¸­çš„ä¸€ä¸ªä¸ªä½“,ä¸€ä¸ªä¸ªä½“å°±æ˜¯TSPçš„ä¸€ä¸ªè·¯çº¿</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Individual</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, genes=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="comment"># éšæœºç”Ÿæˆåºåˆ—</span></span><br><span class="line">        <span class="keyword">if</span> genes <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            genes = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(gene_len)]<span class="comment">#å¦‚æœæ˜¯åˆä»£ï¼Œé‚£ä¹ˆè·¯çº¿åˆ™ä¸ºé»˜è®¤12345</span></span><br><span class="line">            random.shuffle(genes)<span class="comment">#ç„¶åæ‰“ä¹±è·¯çº¿</span></span><br><span class="line">        self.genes = genes</span><br><span class="line">        self.fitness = self.evaluate_fitness()</span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">evaluate_fitness</span>(<span class="params">self</span>):</span>  <span class="comment">#è®¡ç®—è·¯çº¿çš„é•¿åº¦</span></span><br><span class="line">        <span class="comment"># è®¡ç®—ä¸ªä½“é€‚åº”åº¦</span></span><br><span class="line">        fitness = <span class="number">0.0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(gene_len - <span class="number">1</span>):</span><br><span class="line">            <span class="comment"># èµ·å§‹åŸå¸‚å’Œç›®æ ‡åŸå¸‚</span></span><br><span class="line">            from_idx = self.genes[i]</span><br><span class="line">            to_idx = self.genes[i + <span class="number">1</span>]</span><br><span class="line">            fitness += city_dist_mat[from_idx, to_idx]</span><br><span class="line">        <span class="comment"># è¿æ¥é¦–å°¾</span></span><br><span class="line">        fitness += city_dist_mat[self.genes[-<span class="number">1</span>], self.genes[<span class="number">0</span>]]</span><br><span class="line">        <span class="keyword">return</span> fitness</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>GAç®—æ³•</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ga</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, input_</span>):</span></span><br><span class="line">        <span class="keyword">global</span> city_dist_mat</span><br><span class="line">        city_dist_mat = input_</span><br><span class="line">        self.best = <span class="literal">None</span>  <span class="comment"># æ¯ä¸€ä»£çš„æœ€ä½³ä¸ªä½“</span></span><br><span class="line">        self.individual_list = []  <span class="comment"># æ¯ä¸€ä»£çš„ä¸ªä½“åˆ—è¡¨</span></span><br><span class="line">        self.result_list = []  <span class="comment"># æ¯ä¸€ä»£å¯¹åº”çš„è§£</span></span><br><span class="line">        self.fitness_list = []  <span class="comment"># æ¯ä¸€ä»£å¯¹åº”çš„é€‚åº”åº¦</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cross</span>(<span class="params">self</span>):</span>  <span class="comment">#äº¤å‰</span></span><br><span class="line">        new_gen = []	<span class="comment">#æ–°ä¸€ä»£</span></span><br><span class="line">        random.shuffle(self.individual_list)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, individual_num - <span class="number">1</span>, <span class="number">2</span>):</span><br><span class="line">            <span class="comment"># çˆ¶ä»£åŸºå› </span></span><br><span class="line">            genes1 = copy_list(self.individual_list[i].genes)</span><br><span class="line">            genes2 = copy_list(self.individual_list[i + <span class="number">1</span>].genes)</span><br><span class="line">            index1 = random.randint(<span class="number">0</span>, gene_len - <span class="number">2</span>)</span><br><span class="line">            index2 = random.randint(index1, gene_len - <span class="number">1</span>)</span><br><span class="line">            pos1_recorder = &#123;value: idx <span class="keyword">for</span> idx, value <span class="keyword">in</span> <span class="built_in">enumerate</span>(genes1)&#125;</span><br><span class="line">            pos2_recorder = &#123;value: idx <span class="keyword">for</span> idx, value <span class="keyword">in</span> <span class="built_in">enumerate</span>(genes2)&#125;</span><br><span class="line">            <span class="comment">#é”®æ˜¯åŸæ¥çš„æ•°ï¼Œå€¼æ˜¯è¯¥æ•°åœ¨æ•°ç»„çš„ä½ç½®</span></span><br><span class="line">           </span><br><span class="line">            <span class="comment"># äº¤å‰</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(index1, index2):</span><br><span class="line">                value1, value2 = genes1[j], genes2[j] <span class="comment">#å–å‡ºjä½ç½®çš„è¯¥å€¼</span></span><br><span class="line">                pos1, pos2 = pos1_recorder[value2], pos2_recorder[value1]<span class="comment">#å–å‡ºç›¸åè¯¥å€¼çš„ä½ç½®</span></span><br><span class="line">                <span class="comment">#ä¸¤ä¸ªåŸºå› äº¤æ¢</span></span><br><span class="line">                genes1[j], genes1[pos1] = genes1[pos1], genes1[j]</span><br><span class="line">                genes2[j], genes2[pos2] = genes2[pos2], genes2[j]</span><br><span class="line">                pos1_recorder[value1], pos1_recorder[value2] = pos1, j</span><br><span class="line">                pos2_recorder[value1], pos2_recorder[value2] = j, pos2</span><br><span class="line">            new_gen.append(Individual(genes1))</span><br><span class="line">            new_gen.append(Individual(genes2))</span><br><span class="line">        <span class="keyword">return</span> new_gen</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mutate</span>(<span class="params">self, new_gen</span>):</span>   <span class="comment">#å˜å¼‚</span></span><br><span class="line">        <span class="keyword">for</span> individual <span class="keyword">in</span> new_gen:</span><br><span class="line">            <span class="keyword">if</span> random.random() &lt; mutate_prob:</span><br><span class="line">                <span class="comment"># ç¿»è½¬åˆ‡ç‰‡</span></span><br><span class="line">                old_genes = copy_list(individual.genes)</span><br><span class="line">                index1 = random.randint(<span class="number">0</span>, gene_len - <span class="number">2</span>)</span><br><span class="line">                index2 = random.randint(index1, gene_len - <span class="number">1</span>)</span><br><span class="line">                genes_mutate = old_genes[index1:index2]</span><br><span class="line">                genes_mutate.reverse()</span><br><span class="line">                individual.genes = old_genes[:index1] + genes_mutate + old_genes[index2:]</span><br><span class="line">        <span class="comment"># ä¸¤ä»£åˆå¹¶</span></span><br><span class="line">        self.individual_list += new_gen</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">select</span>(<span class="params">self</span>):</span>    <span class="comment">#é€‰æ‹©</span></span><br><span class="line">        <span class="comment"># é”¦æ ‡èµ›</span></span><br><span class="line">        group_num = <span class="number">10</span>  <span class="comment"># å°ç»„æ•°</span></span><br><span class="line">        group_size = <span class="number">10</span>  <span class="comment"># æ¯å°ç»„äººæ•°</span></span><br><span class="line">        group_winner = individual_num // group_num  <span class="comment"># æ¯å°ç»„è·èƒœäººæ•°</span></span><br><span class="line">        winners = []  <span class="comment"># é”¦æ ‡èµ›ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(group_num):</span><br><span class="line">            group = []</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(group_size):</span><br><span class="line">                <span class="comment"># éšæœºç»„æˆå°ç»„</span></span><br><span class="line">                player = random.choice(self.individual_list)</span><br><span class="line">                player = Individual(player.genes)</span><br><span class="line">                group.append(player)</span><br><span class="line">            group = Ga.rank(group)</span><br><span class="line">            <span class="comment"># å–å‡ºè·èƒœè€…</span></span><br><span class="line">            winners += group[:group_winner]</span><br><span class="line">        self.individual_list = winners</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rank</span>(<span class="params">group</span>):</span></span><br><span class="line">        <span class="comment"># å†’æ³¡æ’åº</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(group)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(group) - i):</span><br><span class="line">                <span class="keyword">if</span> group[j].fitness &gt; group[j + <span class="number">1</span>].fitness:</span><br><span class="line">                    group[j], group[j + <span class="number">1</span>] = group[j + <span class="number">1</span>], group[j]</span><br><span class="line">        <span class="keyword">return</span> group</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">next_gen</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># äº¤å‰</span></span><br><span class="line">        new_gen = self.cross()</span><br><span class="line">        <span class="comment"># å˜å¼‚</span></span><br><span class="line">        self.mutate(new_gen)</span><br><span class="line">        <span class="comment"># é€‰æ‹©</span></span><br><span class="line">        self.select()</span><br><span class="line">        <span class="comment"># è·å¾—è¿™ä¸€ä»£çš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> individual <span class="keyword">in</span> self.individual_list:</span><br><span class="line">            <span class="keyword">if</span> individual.fitness &lt; self.best.fitness:</span><br><span class="line">                self.best = individual</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">train</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># åˆä»£ç§ç¾¤</span></span><br><span class="line">        self.individual_list = [Individual() <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(individual_num)] <span class="comment">#åˆå§‹åŒ–åˆä»£ç§ç¾¤</span></span><br><span class="line">        <span class="comment">#individualé‡Œé¢genesåªæœ‰æ•°å­—çš„æ•°ç»„</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        self.best = self.individual_list[<span class="number">0</span>]</span><br><span class="line">        <span class="comment"># è¿­ä»£</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(gen_num):</span><br><span class="line">            self.next_gen()</span><br><span class="line">            <span class="comment"># è¿æ¥é¦–å°¾</span></span><br><span class="line">            result = copy_list(self.best.genes)</span><br><span class="line">            result.append(result[<span class="number">0</span>])</span><br><span class="line">            self.result_list.append(result)</span><br><span class="line">            self.fitness_list.append(self.best.fitness)</span><br><span class="line">        <span class="keyword">return</span> self.result_list, self.fitness_list</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
  </entry>
  <entry>
    <title>æ—¶é—´é¢„æµ‹æ¨¡å‹</title>
    <url>/2022/02/20/%E6%97%B6%E9%97%B4%E9%A2%84%E6%B5%8B%E6%A8%A1%E5%9E%8B/</url>
    <content><![CDATA[<p>ç¾èµ›çš„ä¸€ç§é¢„æµ‹æ¨¡å‹</p>
<span id="more"></span>
<p>åŸºäºæ—¶é—´åºåˆ—æ¨¡å‹å¯¹é»„é‡‘å’Œæ¯”ç‰¹å¸çš„é¢„æµ‹</p>
<p>é»„é‡‘å’Œæ¯”ç‰¹å¸è¿™ä¸€ç±»çš„äº§å“ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæ˜¯è‡ªèº«ä¼šéšç€æ—¶é—´å‘ç”Ÿå˜åŒ–çš„äº§å“ï¼Œè€Œæ—¶é—´åºåˆ—çš„é¢„æµ‹ï¼Œä¸»è¦é€‚ç”¨äºè‡ªèº«çš„å‘å±•è¶‹åŠ¿ä¼šéšç€è‡ªå·±çš„æƒ…å†µå‘å±•å˜åŒ–ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬è¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨æ—¶é—´é¢„æµ‹æ¨¡å‹å¯¹è¯¥ç§æƒ…å†µè¿›è¡Œé¢„æµ‹ï¼Œ</p>
<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ç€æ‰‹åˆ¤æ–­äº§å“éšç€æ—¶é—´å˜åŒ–çš„è‡ªæˆ‘ç›¸å…³é—®é¢˜,æ ¹æ®æŸ¥é˜…å„æ ·æ–‡çŒ®,å¯ä»¥å¾—åˆ°,æœ€å¸¸ç”¨çš„æ–¹æ³•è¿˜æ˜¯ARMAçš„æ–¹å¼ã€‚,è¿™ç§æ–¹æ³•æ¯”è¾ƒé€‚ç”¨äºå°è§„æ¨¡å•å˜é‡çš„é¢„æµ‹ï¼Œå¦‚è‚¡ç¥¨çš„èµ°åŠ¿ã€‚</p>
<h2 id="aræ¨¡å‹">ARæ¨¡å‹</h2>
<p>ARæ¨¡å‹æ˜¯ä¸€ç§è‡ªå›å½’æ¨¡å‹,ç®€ç§°å®ƒè¡¨è¿°çš„æ˜¯éšæœºå˜é‡ä¸å‰PæœŸçš„å¤šå…ƒçº¿æ€§å›å½’ã€‚è¯´æ˜äº†éšæœºå˜é‡<span
class="math inline">\(x_{t}\)</span>ä¸»è¦å—å‰<span
class="math inline">\(p\)</span>æœŸåºåˆ—çš„å½±å“ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼ã€‚å°†é»„é‡‘å’Œæ¯”ç‰¹å¸çš„å‰å‡ æœŸä½œä¸ºè‡ªå˜é‡ã€‚ç„¶åå°†è¯¥å¤©çš„é»„é‡‘å’Œæ¯”ç‰¹å¸çš„å”®ä»·ä½œä¸ºå› å˜é‡ã€‚é€šè¿‡ARæ¨¡å‹ã€‚æˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºå‰<span
class="math inline">\(p\)</span>æœŸçš„<span
class="math inline">\(x_t\)</span>ä¹‹é—´çš„ç›¸å…³æ€§ã€‚å¦‚æœ<span
class="math inline">\(x_t\)</span>ä¸»è¦å—è¿‡å»Pé˜¶åºåˆ—çš„å½±å“ï¼Œé‚£ä¹ˆç›¸å…³ç³»æ•°correå°†ä¼šæ›´æ¥è¿‘ä¸€ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±è®¤ä¸ºã€‚å½“å¤©çš„å”®ä»·å—å‰PæœŸçš„å½±å“ã€‚</p>
<h2 id="maæ¨¡å‹">MAæ¨¡å‹</h2>
<p>â€‹ MAæ¨¡å‹ä¸»è¦ç ”ç©¶çš„æ˜¯<span
class="math inline">\(x_t\)</span>çš„å–å€¼ä¸å‰QæœŸçš„éšæœºæ‰°åŠ¨æœ‰å…³,è®¤ä¸ºæ˜¯<span
class="math inline">\(x_t\)</span>ä¸»è¦å—è¿‡å»QæœŸçš„å¹²æ‰°é¡¹çš„å½±å“ï¼Œæ‰€ä»¥å¯¹äºMAæ¨¡å‹</p>
<h2
id="armaæ¨¡å‹autoregressive-moving-average-model">ARMAæ¨¡å‹ï¼ˆ<strong>A</strong>uto<strong>r</strong>egressive
<strong>m</strong>oving <strong>a</strong>verage modelï¼‰</h2>
<p>ARMA
æ¨¡å‹ï¼Œä¸»è¦æ˜¯ç»“åˆARæ¨¡å‹è‡ªå›å½’é—®é¢˜ï¼Œä¹Ÿç»“åˆMAæ¨¡å‹çš„å¹³è¡Œç§»åŠ¨çš„é—®é¢˜ï¼Œä¸€æ–¹é¢ä½“ç°äº†æ—¶é—´çš„å»¶ç»­æ€§ï¼Œå¦ä¸€æ–¹é¢ï¼Œåˆæœ‰è‡ªèº«å˜åŠ¨çš„è§„å¾‹ï¼Œå‡è®¾å½±å“å› ç´ ä¸º<span
class="math inline">\(x_1,x_2,x_3....,x_k\)</span>,ç”±è‡ªå›å½’åˆ†æå¯å¾—
<span class="math display">\[
Y_{t}=\beta_{1} x_{1}+\beta_{2} x_{2}+\cdots+\beta_{p} x_{p}+Z
\]</span> å…¶ä¸­Yæ˜¯é¢„æµ‹å¯¹è±¡çš„è§‚æµ‹å€¼ï¼Œ<span
class="math inline">\(Z\)</span>ä¸ºè¯¯å·®é¡¹ <span class="math display">\[
Y_{t}=\beta_{1} Y_{t-1}+\beta_{2} Y_{t-2}+\cdots+\beta_{p} Y_{t-p}+Z_{t}
\]</span> è¯¯å·®çš„è¡¨è¾¾æ–¹å¼ä¸º <span class="math display">\[
Z_{t}=\epsilon_{t}+\alpha_{1} \epsilon_{t-1}+\alpha_{2}
\epsilon_{t-2}+\cdots+\alpha_{q} \epsilon_{t-q}
\]</span> æˆ‘ä»¬æœ€ç»ˆè·å¾—ARMAæ¨¡å‹çš„è¡¨è¾¾å¼æ˜¯ <span class="math display">\[
Y_{t}=\beta_{0}+\beta_{1} Y_{t-1}+\beta_{2} Y_{t-2}+\cdots+\beta_{p}
Y_{t-p}+\epsilon_{t}+\alpha_{1} \epsilon_{t-1}+\alpha_{2}
\epsilon_{t-2}+\cdots+\alpha_{q} \epsilon_{t-q}
\]</span></p>
<h2 id="é»„é‡‘è‚¡ç¥¨é¢„æµ‹">é»„é‡‘è‚¡ç¥¨é¢„æµ‹</h2>
<p>è¦æƒ³å»ºç«‹ARMAæ¨¡å‹ï¼Œé¦–å…ˆï¼Œéœ€è¦åˆ¤æ–­å·²æœ‰æ•°æ®æ˜¯å¦éµå¾ªæ—¶é—´åºåˆ—æ•°æ®çš„ç‰¹ç‚¹ï¼Œç¬¬ä¸€æ­¥ï¼Œåˆ¤æ–­æ•°æ®æ˜¯å¦å…·æœ‰ç¨³å®šï¼Œè€Œåˆ¤æ–­çš„æ ‡å‡†ï¼Œå…¶ä¸€ã€è¦æ±‚ç»ç”±æ ·æœ¬æ—¶é—´åºåˆ—æ‰€å¾—åˆ°çš„æ‹Ÿåˆæ›²çº¿åœ¨æœªæ¥çš„ä¸€æ®µæœŸé—´å†…ä»èƒ½é¡ºç€ç°æœ‰çš„å½¢æ€â€œæƒ¯æ€§â€³åœ°å»¶ç»­ä¸‹å»ï¼Œå…¶äºŒã€å¹³ç¨³æ€§è¦æ±‚åºåˆ—çš„å‡å€¼å’Œæ–¹å·®ä¸å‘ç”Ÿæ˜æ˜¾å˜åŒ–ï¼Œåªæœ‰æ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶ï¼Œè¿™ä¸ªæ•°æ®æ‰èƒ½è¢«è®¤ä¸ºå¯ä»¥ä½¿ç”¨æ—¶é—´åºåˆ—æ¨¡å‹è¿›è¡Œé¢„æµ‹ã€‚</p>
<h3 id="arima">ARIMA</h3>
<p>å½“åŸæ¥çš„æ•°æ®ä¸å…·æœ‰æ˜æ˜¾çš„å¹³è¡¡æ€§çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨åŸæ•°æ®çš„å·®åˆ†è¿ç®—ä¹‹åç»“æœçš„ç¨³å®šï¼Œåˆ©ç”¨ç ”ç©¶å·®åˆ†è¿ç®—ä¹‹åæ•°æ®æ¥è¿›è¡Œæ„å»ºæ—¶é—´åºåˆ—çš„æ¨¡å‹ï¼Œå³ARIMAï¼Œå®ƒæ˜¯ARMAçš„æ‰©å±•,å…¶æ¨¡å‹å¯ä»¥è¡¨ç¤ºä¸º
<span class="math display">\[
\left(1-\sum_{i=1}^{p} \phi_{i} L^{i}\right)(1-L)^{d}
X_{t}=\left(1+\sum_{i=1}^{q} \theta_{i} L^{i}\right) \varepsilon_{t}
\]</span> å…¶ä¸­<span class="math inline">\(d \in Z ,
d&gt;0\)</span>,è®°ä½œARMA(P,D,Q)</p>
<p>åœ¨ç¡®å®šä½¿ç”¨å“ªä¸€ç§æ–¹å¼ä¹‹å‰ï¼Œæˆ‘ä»¬åšå‡ºäº†åŸæ•°æ®ï¼Œä¸€é˜¶å·®åˆ†ï¼ŒäºŒé˜¶å·®åˆ†çš„å›¾åƒï¼Œå¦‚å›¾æ‰€ç¤ºï¼ˆå…¶ä¸­ä¸ºæ¯”ç‰¹å¸çš„å¤„ç†å›¾åƒï¼‰</p>
<p><img src="https://picturnl.oss-cn-shanghai.aliyuncs.com/download.png" alt="å„é˜¶å·®åˆ†å›¾" style="zoom:50%;" /></p>
<p>å¯ä»¥æ˜æ˜¾çœ‹å‡ºï¼Œä¸€é˜¶å·®åˆ†çš„ç¨³å®šæ€§å’ŒäºŒé˜¶å·®åˆ†çš„ç¨³å®šè¦è¿œè¿œå¤§äºåŸå§‹æ•°æ®çš„ç¨³å®šæ€§ï¼Œæ‰€ä»¥ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¸€é˜¶å·®åˆ†æˆ–è€…æ˜¯äºŒé˜¶å·®åˆ†ï¼Œéµå¾ªæ‰€ç»™çš„æœ€ä½æ ‡å‡†ï¼Œæˆ‘ä»¬å¯ä»¥å°†é˜¶æ•°è®¾ç½®ä¸º1ï¼Œå³<span
class="math inline">\(d_{diff}=1\)</span>ï¼Œå³<span
class="math inline">\(d_{diff} \neq 0\)</span></p>
<p>æ¥ä¸‹æ¥ï¼Œåˆ©ç”¨è‡ªç›¸å…³æ¨¡å‹MAæ¥ç ”ç©¶MAæ¨¡å‹å—å‰qæœŸç›¸å…³çš„å‚æ•°qï¼Œé€šè¿‡Pythonçš„
statsmodels.tsa.stattools ç ”ç©¶ä¸€é˜¶å·®åˆ†çš„è‡ªç›¸å…³é˜¶æ•°å’Œåç›¸å…³é˜¶æ•°ï¼Œå¦‚å›¾</p>
<p><img src="https://picturnl.oss-cn-shanghai.aliyuncs.com/download (1).png" alt="download (1)" style="zoom:50%;" /></p>
<p>å›¾ä¸­æ·¡è“è‰²çš„é˜´å½±åŒºåŸŸï¼Œè¡¨ç¤ºé˜¶æ•°çš„ç½®ä¿¡åŒºé—´ï¼Œé€šè¿‡è§‚å¯Ÿï¼Œå¯¹äºè‡ªç›¸å…³è€Œè¨€q=1,2,3,4,5éƒ½æœ‰å¯èƒ½ï¼Œp=1,2,3,4ä¹Ÿéƒ½æœ‰å¯èƒ½ï¼Œæ˜¾ç„¶ï¼Œä»…é€šè¿‡å›¾åƒè§‚å¯Ÿå¹¶ä¸æ˜¯ååˆ†çš„ç›´è§‚ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬æ¥è®¡ç®—å¯¹äºä¸åŒçš„qå’Œpçš„æƒ…å†µä¸‹ï¼Œè®¡ç®—æ¨¡å‹çš„ç›¸å…³ç³»æ•°</p>
<p><img src="https://picturnl.oss-cn-shanghai.aliyuncs.com/download (2).png" alt="download (2)" style="zoom:50%;" /></p>
<p>å¯ä»¥çœ‹å‡ºå½“Lag=3çš„æ—¶å€™ï¼Œç›¸å…³ç³»æ•°<span
class="math inline">\(corr\)</span>æœ€å¤§ï¼Œç»“åˆä¸Šå›¾è¿™æ˜¯æˆ‘ä»¬æ–­å®š<span
class="math inline">\(q\)</span>=3,<span
class="math inline">\(p\)</span>=2å³æ„å»ºARMAæ¨¡å‹çš„ä¸‰ä¸ªå‚æ•° <span
class="math display">\[
(P,D,Q):(2,1,3)
\]</span>
ä½¿ç”¨Pythonçš„småº“ä¸­çš„ARIMAæ¥é¢„æµ‹æ¨¡å‹ï¼Œå¯ä»¥å¾—åˆ°æ¨¡å‹ï¼Œå¹¶ä¸”é€‰ç”¨å…¶ä¸­çš„ä¸ƒå¤©ä½œä¸ºè®­ç»ƒé›†ï¼Œç„¶åå¯¹ç¬¬å…«å¤©ã€ä¹å¤©ã€åå¤©åšå‡ºé¢„æµ‹</p>
<p><img src="https://picturnl.oss-cn-shanghai.aliyuncs.com/download (4).png" alt="é¢„æµ‹å›¾" style="zoom:50%;" /></p>
<p>æœ€åï¼Œå¯¹æ¨¡å‹è¿›è¡Œæ®‹å·®åˆ†æï¼Œå¯ä»¥å¾—åˆ°æ®‹å·®å›¾ï¼Œå¦‚å›¾</p>
<p><img src="https://picturnl.oss-cn-shanghai.aliyuncs.com/download (3).png" alt="download (3)"  /></p>
<p>å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬ç ”ç©¶çš„æ¨¡å‹çº¿æ€§å…³ç³»è¾ƒå¥½ï¼Œè¯´æ˜æ¨¡å‹é¢„æµ‹å…·æœ‰è¾ƒå¥½çš„å‡†ç¡®æ€§.</p>
]]></content>
      <categories>
        <category>Math Model</category>
      </categories>
  </entry>
  <entry>
    <title>è¿‘ä»£å²å®è·µæ€»ç»“</title>
    <url>/2022/01/03/%E8%BF%91%E4%BB%A3%E5%8F%B2%E5%AE%9E%E8%B7%B5%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<p>ğŸ™„</p>
<span id="more"></span>
<center>
å…ˆæ¥çœ‹çœ‹æ•´ä¸ªæ•ˆæœå§ğŸ˜œ
</center>


<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=892959467&bvid=BV1nP4y1E7PM&cid=476772115&page=1&high_quality=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>
</div>

<center>
ä¸€äº›å°ç»†èŠ‚
</center>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/jindaishi.png" /></p>
<center>
çœ‹å›½ç„˜æ˜¥é£å¾—æ„ğŸ¤£
</center>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/image-20220103220226072.png" /></p>
<center>
è´ºé¾™å’Œä»£è‹±èƒœåˆ©åœ¨æ¡ğŸ˜
</center>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/image-20220103220435471.png" /></p>
<center>
å“ˆå“ˆï¼Œéƒ½ä¸çŸ¥é“åœ¨ç¬‘ä»€ä¹ˆğŸ˜†
</center>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/image-20220103220539122.png" /></p>
<center>
å°ä¼™ä¼´ä»¬éƒ½è¢«å“å‚»å•¦ğŸ˜…
</center>
<div class="group-picture"><div class="group-picture-row"><div class="group-picture-column"><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/23.gif" /></div><div class="group-picture-column"><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/1-min-1641220427188.gif" /></div></div></div>
<center>
é›†ä½“ç…§ç»„åˆğŸ¤£
</center>
<div class="group-picture"><div class="group-picture-row"><div class="group-picture-column"><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/image-20220103223711885.png" /></div><div class="group-picture-column"><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/image-20220103223633199.png" /></div></div></div>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/image-20220103223731093.png" /></p>
<p>éå¸¸æ„Ÿè°¢é‚£æ®µæ—¶å…‰å¤§å®¶çš„åŠªåŠ›ï¼Œæˆ‘ä»¬çš„åŠªåŠ›ç»ˆç©¶ä¹Ÿä¼šå¾—åˆ°å›æŠ¥ğŸ˜Š</p>
]]></content>
      <categories>
        <category>æ€æƒ³è§‰æ‚Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>Cppå¤ä¹ </title>
    <url>/2021/12/06/Cpp%E5%A4%8D%E4%B9%A0/</url>
    <content><![CDATA[<p>cppé—®é¢˜æ€»ç»“</p>
<span id="more"></span>
<h2 id="cåŸºç¡€">CåŸºç¡€</h2>
<p>ç¨‹åºå½¢å¼ï¼šç¨‹åº=è¿‡ç¨‹+è°ƒç”¨</p>
<p>I&gt;è‡ªé¡¶å‘ä¸‹ã€é€æ­¥æ±‚ç²¾ï¼š</p>
<p>I&gt;æ¨¡åŒ–ï¼š</p>
<p>II&gt;è¯­å¥ç»“æ„åŒ–</p>
<figure>
<img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/image-20211205182046698.png"
alt="image-20211205182046698" />
<figcaption aria-hidden="true">image-20211205182046698</figcaption>
</figure>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> a=<span class="number">0</span></span><br><span class="line"><span class="keyword">int</span> a(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">int</span> a=&#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> a&#123;<span class="number">0</span>&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç®€å•çš„I/Oæ ¼å¼æ§åˆ¶</span></span><br><span class="line">setw(<span class="number">5</span>)<span class="comment">//è®¾ç½®åŸŸå®½</span></span><br></pre></td></tr></table></figure>
<p>swithåˆ†æ”¯çš„åˆ¤æ–­éƒ½æ˜¯<code>char</code>æˆ–è€…<code>int</code></p>
<p>1ã€æ•°ç»„åæ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œä¸èƒ½è¢«èµ‹å€¼</p>
<p>2ã€äºŒç»´æ•°ç»„åˆå§‹åŒ–</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">3</span>][<span class="number">4</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">3</span>][<span class="number">4</span>]=&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;,&#123;<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;,&#123;<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>&#125;&#125;;</span><br><span class="line"><span class="comment">//éƒ¨åˆ†åˆå§‹åŒ–åŒ–</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">3</span>][<span class="number">4</span>]=&#123;&#123;<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">6</span>&#125;,&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">11</span>&#125;&#125;;</span><br><span class="line"><span class="comment">//åˆ—å‡ºå…¨éƒ¨åˆå§‹å€¼æ—¶ï¼Œç¬¬1ç»´ä¸‹æ ‡ä¸ªæ•°å¯ä»¥çœç•¥ </span></span><br><span class="line"><span class="keyword">int</span> a[][<span class="number">4</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> a[][<span class="number">4</span>]=&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;,&#123;<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;,&#123;<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>&#125;&#125;;</span><br></pre></td></tr></table></figure>
<p>æ•°ç»„ä¸­<code>a[]</code>,aä½œä¸ºæ•°ç»„åï¼Œä¸èƒ½è¿›è¡Œ<code>a++</code>,ä½†æ˜¯æŒ‡é’ˆ<code>p=a+10</code>æ˜¯å¯ä»¥çš„</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(--n)<span class="comment">//å…ˆè‡ªå‡ï¼Œå†åˆ¤æ–­n==0</span></span><br><span class="line"><span class="keyword">while</span>(n--)<span class="comment">//å…ˆåˆ¤æ–­n==0ï¼Œå†è‡ªå‡</span></span><br></pre></td></tr></table></figure>
<p>Cè¯­è¨€ä¸­çš„å˜é‡å£°æ˜å¿…é¡»é›†ä¸­çš„åœ¨å‰é¢ï¼Œè€Œä¸èƒ½æ”¾åœ¨å‡½æ•°æ‰§è¡Œçš„è¿‡ç¨‹ä¹‹ä¸­ï¼Œéœ€è¦æˆ‘ä»¬ç‰¹åˆ«æ³¨æ„</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">f()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    i=<span class="number">10</span>;<span class="comment">//è¿™æ˜¯ä¸å…è®¸çš„</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¸¦æœ‰é»˜è®¤å‚æ•°çš„å‡½æ•°ï¼Œé»˜è®¤å‚æ•°éœ€è¦æ”¾åœ¨åé¢</p>
<h2 id="é¢å‘å¯¹è±¡æ¦‚è¿°">é¢å‘å¯¹è±¡æ¦‚è¿°</h2>
<p>1ã€ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ï¼Ÿ</p>
<p>ç¨‹åº=å¯¹è±¡+æ¶ˆæ¯</p>
<p>2ã€ä»€ä¹ˆæ˜¯å¯¹è±¡ï¼Œå¯¹è±¡ä¸ç±»çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>åœ¨é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­ï¼Œå¯¹è±¡æ˜¯æè¿°å…¶å±æ€§çš„æ•°æ®ä»¥åŠå¯¹è¿™äº›æ•°æ®æ–½åŠ çš„ä¸€ç»„æ“ä½œå°è£…åœ¨ä¸€èµ·æ„æˆçš„ç»Ÿä¸€ä½“ã€‚åœ¨C++ä¸­æ¯ä¸ªå¯¹è±¡éƒ½æ˜¯ç”±æ•°æ®å’Œæ“ä½œä»£ç ï¼ˆé€šå¸¸ç”¨å‡½æ•°æ¥å®ç°ï¼‰</p>
<p>åœ¨é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­ï¼Œâ€œç±»â€å°±æ˜¯å…·æœ‰ç›¸åŒçš„æ•°æ®å’Œç›¸åŒçš„æ“ä½œï¼ˆå‡½æ•°ï¼‰çš„ä¸€ç»„å¯¹è±¡çš„é›†åˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç±»æ˜¯å¯¹å…·æœ‰ç›¸åŒæ•°æ®ç»“æ„å’Œç›¸åŒæ“ä½œçš„ä¸€ç±»å¯¹è±¡çš„æè¿°ã€‚</p>
<p>ä¸¤éƒ¨åˆ†ç»„æˆçš„,ç±»å’Œå¯¹è±¡æ˜¯æŠ½è±¡ä¸å…·ä½“çš„å…³ç³»ï¼Œç±»æ˜¯å¤šä¸ªå¯¹è±¡ç»¼åˆæŠ½è±¡çš„ç»“æœï¼Œå¯¹è±¡æ˜¯ç±»çš„å…·ä½“å®ä¾‹</p>
<p>3ã€ä»€ä¹ˆæ˜¯æ¶ˆæ¯ï¼Ÿ</p>
<p>ä¸€ä¸ªå¯¹è±¡å‘å¦ä¸€ä¸ªå¯¹è±¡å‘å‡ºçš„è¯·æ±‚ç§°ä¸ºæ¶ˆæ¯</p>
<p>æ¶ˆæ¯æœ‰ä¸‰ä¸ªæ€§è´¨:</p>
<p>(1)åŒä¸€ä¸ªå¯¹è±¡å¯ä»¥æ¥æ”¶ä¸åŒå½¢å¼çš„å¤šä¸ªæ¶ˆæ¯,ä½œå‡ºä¸åŒçš„å“åº”;</p>
<p>(2)ç›¸åŒå½¢å¼çš„æ¶ˆæ¯å¯ä»¥ä¼ é€’ç»™ä¸åŒçš„å¯¹è±¡,æ‰€ä½œå‡ºçš„å“åº”å¯ä»¥æ˜¯ä¸åŒçš„;</p>
<p>(3)å¯¹æ¶ˆæ¯çš„å“åº”å¹¶ä¸æ˜¯å¿…éœ€çš„,å¯¹è±¡å¯ä»¥å“åº”æ¶ˆæ¯,ä¹Ÿå¯ä»¥ä¸å“åº”ã€‚</p>
<p>4ã€ä»€ä¹ˆæ˜¯æŠ½è±¡ä¸å°è£…ï¼Ÿ</p>
<p>æŠ½è±¡æ˜¯å°†æœ‰å…³äº‹ç‰©çš„å…±æ€§å½’çº³ï¼Œé›†ä¸­çš„è¿‡ç¨‹ï¼Œæ˜¯å¯¹ç°å®ä¸–ç•Œçš„ç®€æ´è¡¨è¾¾æ–¹å¼ï¼ŒæŠ½è±¡åŒ…æ‹¬ä¸¤ä¸ªæ–¹é¢ï¼Œæ•°æ®æŠ½è±¡å’Œä»£ç æŠ½è±¡ã€‚</p>
<p>å°è£…æ˜¯æŠŠæŸä¸ªäº‹ç‰©åŒ…å›´èµ·æ¥ï¼Œä½¿å¤–ç•Œä¸çŸ¥é“è¯¥äº‹ç‰©çš„å…·ä½“å†…å®¹ï¼Œå°†æ•°æ®å’Œå®ç°æ“ä½œçš„ä»£ç é›†ä¸­æ”¾åœ¨å¯¹è±¡çš„å†…éƒ¨ï¼Œå°½å¯èƒ½å±è”½å¯¹è±¡çš„å†…éƒ¨ç»†èŠ‚</p>
<p>5ã€ä»€ä¹ˆæ˜¯ç»§æ‰¿ï¼Ÿ</p>
<p>ç»§æ‰¿æ‰€è¡¨è¾¾æ˜¯ç±»ä¹‹é—´çš„ç›¸å…³å…³ç³»ï¼Œè¿™ä¸€å…³ç³»ä½¿å¾—æŸç±»å¯¹è±¡å¯ä»¥ç»§æ‰¿å¦å¤–ä¸€ç±»å¯¹è±¡çš„ç‰¹å¾å’Œèƒ½åŠ›</p>
<p>6ã€æ´¾ç”Ÿç±»å’Œçˆ¶ç±»ï¼ˆç»§æ‰¿ï¼‰æœ‰ä»€ä¹ˆç‰¹å¾ï¼Ÿ</p>
<p>(1)ç±»é—´å…·æœ‰å…±äº«ç‰¹å¾(åŒ…æ‹¬æ•°æ®å’Œæ“ä½œä»£ç çš„å…±äº«);</p>
<p>(2)ç±»é—´å…·æœ‰å·®åˆ«æˆ–æ–°å¢éƒ¨åˆ†(åŒ…æ‹¬éå…±äº«çš„æ•°æ®å’Œæ“ä½œä»£ç );</p>
<p>(3)ç±»é—´å…·æœ‰å±‚æ¬¡ç»“æ„ã€‚</p>
<p>7ã€ä»€ä¹ˆæ˜¯å•ç»§æ‰¿ã€å¤šç»§æ‰¿</p>
<p>å•ç»§æ‰¿æ˜¯æŒ‡æ¯ä¸ªæ´¾ç”Ÿåªæ˜¯ç»§æ‰¿äº†ä¸€ä¸ªåŸºç±»çš„ç‰¹å¾</p>
<p>å¤šç»§æ‰¿æ˜¯æŒ‡å¤šä¸ªåŸºç±»æ´¾ç”Ÿå‡ºä¸€ä¸ªæ´¾ç”Ÿç±»çš„ç»§æ‰¿å…³ç³»</p>
<p>8ã€ä»€ä¹ˆæ˜¯å¤šæ€ï¼Ÿ ä¸åŒçš„å¯¹è±¡å—åˆ°åŒæ ·æ¶ˆæ¯æ‰§è¡Œä¸åŒæ“ä½œï¼Œæœ‰ä¸¤ç§å¤šæ€</p>
<ul>
<li>å‡½æ•°é‡è½½ï¼Œè¿ç®—ç¬¦é‡è½½ï¼ˆç¼–è¯‘æ—¶çš„å¤šæ€ï¼‰</li>
<li>è™šå‡½æ•°ï¼ˆè¿è¡Œæ—¶çš„å¤šæ€ï¼‰</li>
</ul>
<p>9ã€é¢å‘å¯¹è±¡çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>(1)å¯æé«˜ç¨‹åºçš„é‡ç”¨æ€§;(ç»§æ‰¿ã€æ¨¡æ¿)</p>
<p>(2)å¯æ§åˆ¶ç¨‹åºçš„å¤æ‚æ€§;</p>
<p>(3)å¯æ”¹å–„ç¨‹åºçš„å¯ç»´æŠ¤æ€§;</p>
<p>(4)èƒ½å¤Ÿæ›´å¥½åœ°æ”¯æŒå¤§å‹ç¨‹åºè®¾è®¡;</p>
<p>(5)å¢å¼ºäº†è®¡ç®—æœºå¤„ç†ä¿¡æ¯çš„èŒƒå›´;</p>
<p>(6)èƒ½å¾ˆå¥½åœ°é€‚åº”æ–°çš„ç¡¬ä»¶ç¯å¢ƒã€‚</p>
<h2 id="cppæ¦‚è¿°">cppæ¦‚è¿°</h2>
<p>1ã€ç®€è¿°cppçš„ç‰¹ç‚¹ï¼Ÿ</p>
<ul>
<li>cppæ˜¯cçš„è¶…é›†ï¼Œcppä¿æŒäº†ä¸cçš„å…¼å®¹ï¼Œä½¿å¾—ä¼—å¤šcçš„å‡½æ•°åº“å’Œä»£ç ä¸ç»ä¿®æ”¹å¯ä»¥ç›´æ¥ç”¨äºcppä¸­</li>
<li>C++æ˜¯ä¸€ä¸ªæ›´å¥½çš„C,å®ƒä¿æŒäº†Cçš„ç®€æ´ã€é«˜æ•ˆå’Œæ¥è¿‘æ±‡ç¼–è¯­è¨€ç­‰ç‰¹ç‚¹,å¹¶å¯¹Cçš„åŠŸèƒ½ä½œäº†ä¸å°‘æ‰©å……ã€‚ç”¨C++ç¼–å†™çš„ç¨‹åºæ¯”Cæ›´å®‰å…¨,å¯è¯»æ€§æ›´å¥½,ä»£ç ç»“æ„æ›´ä¸ºåˆç†ï¼ŒC++çš„ç¼–è¯‘ç³»ç»Ÿèƒ½å¤Ÿæ£€æŸ¥å‡ºæ›´å¤šçš„ç±»å‹é”™è¯¯ã€‚</li>
<li>ç”¨C++ç¼–å†™çš„ç¨‹åºè´¨é‡é«˜,ä»å¼€å‘æ—¶é—´ã€è´¹ç”¨åˆ°å½¢æˆçš„è½¯ä»¶çš„å¯é‡ç”¨æ€§ã€å¯æ‰©å……æ€§ã€å¯ç»´æŠ¤æ€§å’Œå¯é æ€§ç­‰æ–¹é¢æœ‰äº†å¾ˆå¤§çš„æé«˜,ä½¿å¾—å¤§ä¸­å‹çš„ç¨‹åºå¼€å‘å˜å¾—æ›´åŠ å®¹æ˜“ã€‚</li>
<li>å¢åŠ äº†é¢å‘å¯¹è±¡çš„æœºåˆ¶ï¼Œæ”¯æŒå‡ ä¹æ‰€æœ‰é¢å‘å¯¹è±¡çš„ç‰¹å¾å…¶ä¸­åŒ…æ‹¬ï¼šæŠ½è±¡ä¸å°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€æ¨¡æ¿</li>
<li>cppæ—¢å¯ä»¥ç”¨äºé¢å‘è¿‡ç¨‹çš„ç»“æ„åŒ–ç¨‹åºè®¾è®¡ï¼Œä¹Ÿå¯ä»¥ç”¨äºé¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡</li>
</ul>
<p>2ã€è¿™ä¸ªæ³¨é‡Šæ˜¯å¦å¯ç”¨ï¼ˆcppä¸­åµŒå…¥cçš„æ³¨é‡Šï¼‰</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// this is my first note/*way to my home*/</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥</p>
<p>3ã€è¿™ä¸ªç¨‹åºæ˜¯å¦èƒ½ç¼–è¯‘ï¼Ÿ</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">//int sum(int a,int b);</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a=<span class="number">1</span>,b=<span class="number">2</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;sum(a,b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸èƒ½ï¼Œå› ä¸ºæ²¡æœ‰å‡½æ•°åŸå‹å£°æ˜</p>
<p>4ã€è¿™ä¸¤ä¸ªå‡½æ•°æ˜¯å¦ç­‰ä»·</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">float</span> b,<span class="keyword">char</span> * C)</span></span></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">fun</span> <span class="params">(<span class="keyword">int</span>, <span class="keyword">float</span>,<span class="keyword">char</span>* )</span></span></span><br></pre></td></tr></table></figure>
<p>ä¸ç­‰ä»·ï¼Œå¿…é¡»åŒ…å«å‚æ•°å</p>
<p>5ã€å¸¸æŒ‡é’ˆå’Œå¸¸é‡æŒ‡é’ˆ</p>
<p>å¸¸æŒ‡é’ˆ</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">char</span> * <span class="keyword">const</span> name=<span class="string">&quot;chen&quot;</span>;</span><br><span class="line">name[<span class="number">3</span>]=<span class="string">&#x27;q&#x27;</span>;<span class="comment">//æ­£ç¡®</span></span><br><span class="line">name=<span class="string">&quot;yu&quot;</span>;<span class="comment">//ä¸æ­£ç¡®</span></span><br></pre></td></tr></table></figure>
<p>å¸¸é‡æŒ‡é’ˆ</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> * name =<span class="string">&quot;chen&quot;</span>;</span><br><span class="line">name[<span class="number">3</span>] =<span class="string">&#x27;q&#x27;</span> ; <span class="comment">//ä¸æ­£ç¡®</span></span><br><span class="line">name=<span class="string">&quot;yu&quot;</span>;<span class="comment">//æ­£ç¡®</span></span><br></pre></td></tr></table></figure>
<p>6ã€å†…è”å‡½æ•°ä¸æ˜¯å¯ä»¥åŒ…å«å„ç§è¯­å¥ï¼Œå…¶ä¸­ä¾‹å¦‚<code>for</code>å’Œ<code>switch</code>éƒ½ä¸è¡Œï¼Œå†…è”å‡½æ•°åœ¨ç¬¬ä¸€è°ƒç”¨å‰å¿…é¡»æœ‰å®Œæ•´çš„å®šä¹‰ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä¹Ÿéœ€è¦å£°æ˜</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">box</span><span class="params">(<span class="keyword">int</span> ,<span class="keyword">int</span> )</span></span>;</span><br></pre></td></tr></table></figure>
<p>7ã€</p>
<ul>
<li>å¼•ç”¨çš„å¯¹è±¡ä¸èƒ½æ˜¯æ•°ç»„ï¼Œä¸èƒ½åˆ›å»ºå¼•ç”¨çš„å¼•ç”¨</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> &amp;&amp; a=b; <span class="comment">//å¼•ç”¨çš„å¼•ç”¨æ˜¯ä¸å…è®¸çš„</span></span><br><span class="line">a=&amp;b;</span><br><span class="line">c=&amp;b;  <span class="comment">//è¿™ç§å¼•ç”¨ä¼ é€’æ˜¯å¯ä»¥çš„</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æ•°ç»„ä½¿ç”¨<code>new</code>åˆ›å»ºæ•°ç»„ä¹Ÿä¸èƒ½ç›´æ¥åˆå§‹åŒ–ï¼Œä½†æ˜¯åŸºæœ¬æ•°æ®ç±»å‹å¯ä»¥ï¼Œä¾‹å¦‚</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> *p = <span class="keyword">new</span> <span class="keyword">int</span>(<span class="number">10</span>);<span class="comment">//åˆå§‹åŒ–intæŒ‡é’ˆä¸º10</span></span><br><span class="line"><span class="keyword">int</span> *p = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];<span class="comment">//åˆå§‹åŒ–é•¿åº¦ä¸º40çš„æ•°ç»„</span></span><br></pre></td></tr></table></figure>
<p>8ã€å‡½æ•°é‡è½½ä¸èƒ½æ ¹æ®å…¶è¿”å›çš„æ•°æ®ç±»å‹æ¥åˆ¤æ–­ï¼Œè€Œæ˜¯å‚æ•°çš„ä¸ªæ•°ï¼Œå‚æ•°çš„æ•°æ®ç±»å‹ï¼ˆå½¢å‚è¡¨ä¸ä¸€æ ·ï¼‰</p>
<p>9ã€ç”¨<code>new</code>åˆ›å»ºå¯¹è±¡æ—¶ä¹Ÿéœ€è¦è°ƒç”¨æ„é€ å‡½æ•°,åˆ é™¤æ—¶å¯ä»¥ä½¿ç”¨<code>delete []name</code>,å¹¶ä¸”ä¸€ä¸ªæŒ‡é’ˆä¹Ÿåªèƒ½è°ƒç”¨ä¸€æ¬¡<code>delete</code></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç”¨ new åˆ›å»ºæ—¶è°ƒç”¨æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	A()&#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;construct&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	A *p=<span class="keyword">new</span> A;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>delete</code>æ˜¯ä¼šé‡Šæ”¾å†…å­˜çš„ï¼Œä½†æ˜¯ä¸ä¼šè®©æŒ‡é’ˆå˜é‡æ¶ˆå¤±ï¼Œä¹Ÿå°±æ˜¯ï¼Œå®ƒè¿˜å¯ä»¥æŒ‡å‘åˆ«çš„åœ°å€</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> *p = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">delete</span> []p;</span><br><span class="line"><span class="keyword">int</span> a[]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">p=a;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;p[<span class="number">1</span>];</span><br></pre></td></tr></table></figure>
<h2 id="ç±»ä¸å¯¹è±¡">ç±»ä¸å¯¹è±¡</h2>
<p>1ã€ç±»é»˜è®¤çš„ç§æœ‰æˆå‘˜å±æ€§è®©æ•´ä¸ªcppä¸­çš„ç±»æ¯”ç»“æ„ä½“æ›´å®‰å…¨ï¼ˆæ•°æ®éšè—ï¼‰ï¼Œ<font color='red'>ä½†æ˜¯ç»“æ„ä½“é»˜è®¤æ˜¯å…¬æœ‰çš„</font></p>
<ul>
<li><font color='red'>ä¸èƒ½åœ¨ç±»å£°æ˜ä¸­ç»™æ•°æ®æˆå‘˜èµ‹åˆå€¼</font></li>
<li>åœ¨å£°æ˜ç±»çš„åŒæ—¶å®šä¹‰çš„å¯¹è±¡æ˜¯ä¸€ç§å…¨å±€å¯¹è±¡ï¼Œå®ƒçš„ç”Ÿå­˜æœŸç›´åˆ°æ•´ä¸ªç¨‹åºè¿è¡Œç»“æŸ</li>
<li>å£°æ˜äº†ä¸€ä¸ªç±»ä¾¿å£°æ˜äº†ä¸€ç§ç±»å‹ï¼Œ<font color='red'>è¿™æ—¶æ²¡æœ‰ç»™å®ƒåˆ†é…å­˜å‚¨ç©ºé—´</font></li>
</ul>
<p>2ã€ç±»å¤–å®šä¹‰æˆå‘˜å‡½æ•°</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span>&#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">s</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">b</span><span class="params">()</span></span>;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">Point::s</span><span class="params">()</span><span class="comment">//å®šä¹‰å†…è”å‡½æ•°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Point::b</span><span class="params">()</span><span class="comment">//å®šä¹‰æ™®é€šå‡½æ•°</span></span></span><br></pre></td></tr></table></figure>
<p>3ã€å®šä¹‰å¯¹è±¡çš„<font color='red'>ä¸‰ç§æ–¹å¼</font></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span>&#123;</span></span><br><span class="line">    ...</span><br><span class="line">&#125;a,b,c;<span class="comment">//æ–¹å¼ä¸€</span></span><br><span class="line"></span><br><span class="line">Point a,b,c;<span class="comment">//æ–¹å¼äºŒ</span></span><br><span class="line">Complex *p =<span class="keyword">new</span> Complex(<span class="number">1</span>,<span class="number">2</span>)<span class="comment">//æ— åå¯¹è±¡</span></span><br></pre></td></tr></table></figure>
<p>4ã€æŒ‡é’ˆè®¿é—®å¯¹è±¡æˆå‘˜çš„<font color='red'>ä¸¤ç§æ–¹å¼</font></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">ptr-&gt;a;</span><br><span class="line">(*ptr).a;<span class="comment">//è¿™ç§å®¹æ˜“å¿˜è®°</span></span><br></pre></td></tr></table></figure>
<p>5ã€æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ï¼ˆæ„é€ å‡½æ•°åœ¨ç±»å¤–å®šä¹‰æ—¶ä¸€å®šè¦è®°å¾—åŠ ç±»åï¼Œ<font color='red'>æ— éœ€è¿”å›å€¼</font>ï¼‰</p>
<p>åŠŸèƒ½ï¼šä¸ºå¯¹è±¡åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œä¸ºå¯¹è±¡æ”¶å›å­˜å‚¨ç©ºé—´</p>
<ul>
<li>æ„é€ å‡½æ•°ï¼š<font color='red'>åå­—ä¸ç±»ååŒåï¼Œå‚æ•°ä»»æ„ï¼Œä¸èƒ½æœ‰è¿”å›å€¼ï¼Œå¯ä»¥ç±»å¤–å®šä¹‰,æ„é€ å‡½æ•°ä¸èƒ½æ‰‹åŠ¨è°ƒç”¨</font></li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">a</span>&#123;</span></span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    a b;</span><br><span class="line">    b.a();<span class="comment">//é”™è¯¯ï¼Œä¸èƒ½ä¸»åŠ¨è°ƒç”¨</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>ææ„å‡½æ•°ï¼š</li>
</ul>
<p>6ã€å¯¹è±¡åˆå§‹åŒ–</p>
<p>åœ¨å®šä¹‰å¯¹è±¡æ—¶ï¼Œå¯¹æ•°æ®æˆå‘˜èµ‹åˆå€¼ï¼Œç§°ä¸ºå¯¹è±¡çš„åˆå§‹åŒ–ã€‚åœ¨å®šä¹‰å¯¹è±¡æ—¶ï¼Œå¦‚æœæŸä¸€æ•°æ®æˆå‘˜æ²¡æœ‰è¢«èµ‹å€¼ï¼Œåˆ™å®ƒçš„å€¼æ˜¯ä¸å¯é¢„çŸ¥çš„ã€‚å¯¹è±¡æ˜¯ä¸€ä¸ªå®ä½“ï¼Œåœ¨ä½¿ç”¨å¯¹è±¡æ—¶ï¼Œå®ƒçš„<font color='red'>æ¯ä¸€ä¸ªæ•°æ®æˆå‘˜éƒ½åº”è¯¥æœ‰ç¡®å®šçš„å€¼</font>ã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Complex</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	<span class="keyword">double</span> real;</span><br><span class="line">    	<span class="keyword">double</span> imag;</span><br><span class="line">&#125;;</span><br><span class="line">Complex c1=&#123;<span class="number">1.1</span>,<span class="number">2.2</span>&#125;	<span class="comment">//è¿™ç§åˆå§‹åŒ–ä¸€å®šè¦æ³¨æ„äº†ï¼Œæœ‰ç§æœ‰æˆå‘˜æ—¶ä¸è¡Œ,åªæœ‰å…¬æœ‰æˆå‘˜å¯ä»¥	</span></span><br></pre></td></tr></table></figure>
<p>7ã€æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨å¯¹æ•°æ®æˆå‘˜åˆå§‹åŒ–</p>
<p><font color='red'>å¿…é¡»ä½¿ç”¨è¯¥æ–¹æ³•çš„ä¸¤ç±»æ•°æ®</font>ï¼Œä¸€æ˜¯å¸¸é‡<code>const</code>ï¼ŒäºŒæ˜¯å¼•ç”¨<code>&amp;</code>.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">Complex(<span class="keyword">double</span> x,<span class="keyword">double</span> y):real(x),imag(y)&#123;&#125;;<span class="comment">//æ„é€ å‡½æ•°åé¢æ“ä½œ</span></span><br></pre></td></tr></table></figure>
<p>æ•°æ®æˆå‘˜æ˜¯æŒ‰ç…§å®ƒä»¬åœ¨ç±»ä¸­<font color='red'>å£°æ˜çš„é¡ºåº</font>è¿›è¡Œåˆå§‹åŒ–çš„ï¼Œä¸å®ƒä»¬<font color='red'>åœ¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ä¸­åˆ—å‡ºçš„é¡ºåºæ— å…³</font>ã€‚</p>
<p><font color='red'>æ³¨æ„ï¼šå¦‚æœå‚é‡æ˜¯æ•°ç»„ï¼Œåˆ™ä¸€å®šä¸èƒ½ä½¿ç”¨åˆå§‹åŒ–è¡¨å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–</font></p>
<p>8ã€æ— å‚æ„é€ å‡½æ•°å¯¹è±¡çš„å®šä¹‰</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">Complex a;	<span class="comment">//æ­£ç¡®</span></span><br><span class="line"><span class="function">Complex <span class="title">a</span><span class="params">()</span></span>;<span class="comment">//é”™è¯¯</span></span><br></pre></td></tr></table></figure>
<p>9ã€å¸¦é»˜è®¤å‚æ•°çš„æ„é€ å‡½æ•°</p>
<p>ï¼ˆ1ï¼‰<font color='red'>å¦‚æœæ„é€ å‡½æ•°åœ¨ç±»çš„å£°æ˜å¤–å®šä¹‰ï¼Œé‚£ä¹ˆé»˜è®¤å‚æ•°åº”è¯¥åœ¨ç±»å†…å£°æ˜æ„é€ å‡½æ•°åŸå‹æ—¶æŒ‡å®šï¼ˆé»˜è®¤å‚æ•°åªèƒ½æ”¾åœ¨åé¢ï¼‰</font>ï¼Œè€Œä¸èƒ½åœ¨ç±»å¤–æ„é€ å‡½æ•°å®šä¹‰æ—¶æŒ‡å®šã€‚</p>
<p>ï¼ˆ2ï¼‰<font color='red'>åœ¨ä¸€ä¸ªç±»ä¸­å®šä¹‰äº†å…¨éƒ¨æ˜¯é»˜è®¤å‚æ•°çš„æ„é€ å‡½æ•°åï¼Œä¸èƒ½å†å®šä¹‰é‡è½½æ„é€ å‡½æ•°</font>ã€‚ä¾‹å¦‚åœ¨ä¸€ä¸ªç±»ä¸­æœ‰ä»¥ä¸‹æ„é€ å‡½æ•°çš„å£°æ˜ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">Complex(<span class="keyword">double</span> x=<span class="number">0</span>,<span class="keyword">double</span> imag=<span class="number">0</span>);</span><br><span class="line">Complex(<span class="keyword">double</span> r);</span><br></pre></td></tr></table></figure>
<p>10ã€ææ„å‡½æ•°ï¼ˆ<font color='red'>å¦‚æœå‡½æ•°ä¼ å‚æ˜¯å¯¹è±¡å¼•ç”¨ï¼Œåˆ™ä¸ä¼šè°ƒç”¨ææ„ï¼Œå¦‚æœæ˜¯å¯¹è±¡ï¼Œåˆ™ä¼šè°ƒç”¨,ä½†è¿”å›å€¼æœ‰éœ€è¦å¦å¤–åˆ†æ</font>ï¼‰</p>
<p>ï¼ˆ1ï¼‰ææ„å‡½æ•°ä¸è¿”å›ä»»ä½•å€¼ã€‚åœ¨å®šä¹‰ææ„å‡½æ•°æ—¶ï¼Œæ˜¯ä¸èƒ½è¯´æ˜å®ƒçš„ç±»å‹çš„ï¼Œç”šè‡³è¯´æ˜ä¸º<font color='red'>voidç±»å‹ä¹Ÿä¸è¡Œ</font>ã€‚</p>
<p>ï¼ˆ2ï¼‰ææ„å‡½æ•°æ²¡æœ‰å‚æ•°ï¼Œå› æ­¤å®ƒä¸èƒ½è¢«é‡è½½ã€‚ä¸€ä¸ªç±»å¯ä»¥æœ‰å¤šä¸ªæ„é€ å‡½æ•°ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸€ä¸ªææ„å‡½æ•°ã€‚</p>
<p>newå‡ºæ¥çš„ç©ºé—´éœ€è¦åœ¨ææ„å‡½æ•°ä¸­<code>delete</code>é‡Šæ”¾,é’ˆå¯¹ç±»ä¸­çš„æŒ‡é’ˆå˜é‡ï¼Œ</p>
<p>ï¼ˆ3ï¼‰ä½¿ç”¨<code>new</code>ç”Ÿæˆçš„å¯¹è±¡<code>delete</code>æ—¶ä¹Ÿéœ€è¦è°ƒç”¨ææ„å‡½æ•°</p>
<p>11ã€å¯¹è±¡æ•°ç»„</p>
<ul>
<li>å¯¹è±¡æ•°ç»„çš„èµ‹å€¼</li>
</ul>
<p>ï¼ˆ1ï¼‰åˆ›å»ºå¤šå¤§çš„å¯¹è±¡æ•°ç»„ï¼Œå°±è¦è°ƒç”¨æ„é€ å‡½æ•°å¤šå°‘æ¬¡</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å•å‚æ•°</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">a</span>....;</span></span><br><span class="line">&#123;</span><br><span class="line">    a c[<span class="number">4</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;<span class="comment">//æ„é€ å‡½æ•°è°ƒç”¨å››æ¬¡ï¼ˆå•ä¸ªå‚æ•°æ‰å¯ä»¥ï¼‰</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//aä¸­æœ‰ç©ºæ„é€ å‡½æ•°æ—¶,ä¸‹é¢ä¹Ÿå¯ä»¥</span></span><br><span class="line">&#123;</span><br><span class="line">    a c[<span class="number">4</span>];</span><br><span class="line">    c[<span class="number">1</span>]=a(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ2ï¼‰å¯¹è±¡æ•°ç»„çš„èµ‹å€¼å¯ä»¥ä½¿ç”¨å¤šç±»æ„é€ å‡½æ•°èµ‹å€¼</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">a</span>&#123;</span></span><br><span class="line">    a();</span><br><span class="line">    a(<span class="keyword">int</span> i);</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    a c[<span class="number">4</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>&#125;;<span class="comment">//å¤šç±»æ„é€ å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯a().ä¸€ä¸ªæ˜¯a(int)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ3ï¼‰å®šä¹‰æ•°ç»„æ—¶å®å‚çš„ä¸ªæ•°ä¸èƒ½è¶…è¿‡æ•°ç»„å…ƒç´ çš„ä¸ªæ•°</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    a c[<span class="number">4</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;<span class="comment">//é”™è¯¯</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ4ï¼‰å¤šå‚æ•°æ„é€ å‡½æ•°å¯¹è±¡æ•°ç»„çš„èµ‹å€¼</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    a c[<span class="number">4</span>]=&#123;a(<span class="number">1</span>,<span class="number">2</span>),a(<span class="number">2</span>,<span class="number">3</span>),a(<span class="number">3</span>,<span class="number">4</span>),a(<span class="number">3</span>,<span class="number">5</span>)&#125;;<span class="comment">//å¤šå‚æ•°çš„å”¯ä¸€èµ‹å€¼èµ‹å€¼æ–¹å¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ5ï¼‰å¯¹è±¡æŒ‡é’ˆè®¿é—®å¯¹è±¡æ•°ç»„</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    a *p,c[<span class="number">4</span>]..;</span><br><span class="line">    p=c;</span><br><span class="line">    p[<span class="number">0</span>]-&gt;show();</span><br><span class="line">    p++;<span class="comment">//c[1]</span></span><br><span class="line">    p-&gt;show();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>å¯¹è±¡çš„èµ‹å€¼å’Œå¤åˆ¶</p></li>
<li><p>æ‹·è´å¤åˆ¶å‡½æ•°ï¼ˆ<font color='red'>è¿™ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼</font>ï¼‰</p></li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">Point <span class="title">p2</span><span class="params">(p1)</span><span class="comment">//ä½¿ç”¨æ‹·è´å¤åˆ¶å‡½æ•°æ„å»ºp2,æ–¹å¼ä¸€</span></span></span><br><span class="line"><span class="function">Point p2</span>=p1 <span class="comment">//ä½¿ç”¨æ‹·è´å¤åˆ¶å‡½æ•°æ„å»ºp2ï¼Œæ–¹å¼äºŒ</span></span><br></pre></td></tr></table></figure>
<p>ï¼ˆ1ï¼‰ä¸æ„é€ å‡½æ•°åŒå</p>
<p>ï¼ˆ2ï¼‰åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå‚æ•°ç±»å‹æ˜¯è‡ªèº«å¼•ç”¨</p>
<p>ï¼ˆ3ï¼‰æ¯ä¸ªç±»æœ‰ä¼šæœ‰æ‹·è´æ„é€ å‡½æ•°</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è‡ªå®šä¹‰æ‹·è´å¤åˆ¶å‡½æ•°</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span>&#123;</span></span><br><span class="line">    Point(<span class="keyword">const</span> Point &amp;p)&#123;</span><br><span class="line">        .....</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°çš„æƒ…å†µï¼ˆ<font color='red'>å¦‚æœæ˜¯åœ¨æ´¾ç”Ÿç±»ä¸­ï¼Œä¼šè°ƒç”¨<code>base</code>ææ„å‡½æ•°ï¼Œä¸ä¸€å®šè°ƒç”¨<code>base</code>æ„é€ å‡½æ•°ï¼ˆé™¤äº†è‡ªå®šä¹‰äº†æ‹·è´æ„é€ å‡½æ•°å¤–</font>ï¼‰ï¼‰</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    B(<span class="keyword">const</span> B&amp;)&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">B b1;<span class="function">B <span class="title">b2</span><span class="params">(b1)</span></span>;  <span class="comment">//è¿™é‡Œb2çš„äº§ç”Ÿä¼šè°ƒç”¨Açš„æ„é€ </span></span><br><span class="line"><span class="comment">//é»˜è®¤æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">   <span class="comment">// B(const B&amp;)&#123;&#125;</span></span><br><span class="line">&#125;</span><br><span class="line">B b1;<span class="function">B <span class="title">b2</span><span class="params">(b1)</span></span>; <span class="comment">//è¿™é‡Œb2çš„äº§ç”Ÿä¸ä¼šè°ƒç”¨æ„é€ </span></span><br></pre></td></tr></table></figure>
<p>ï¼ˆ1ï¼‰ç”¨ä¸€ä¸ªå¯¹è±¡åˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡</p>
<p>ï¼ˆ2ï¼‰<font color='red'>å‡½æ•°çš„å½¢å‚æ˜¯å¯¹è±¡</font></p>
<p>ï¼ˆ3ï¼‰<font color='red'>å‡½æ•°çš„è¿”å›å€¼æ˜¯å¯¹è±¡</font></p>
<p>è¿™ä¸ªè¿”å›å€¼æ—¶å¯¹è±¡çš„æƒ…å†µï¼Œå®é™…ä¸Šè¿˜è°ƒç”¨äº†<font color='red'>èµ‹å€¼å‡½æ•°</font></p>
<p>é™æ€æˆå‘˜ï¼ˆå±äºç±»ï¼Œè€Œä¸æ˜¯å¯¹è±¡ï¼‰</p>
<p>é™æ€æ•°æ®æˆå‘˜ï¼ˆåœ¨ç±»å‡½æ•°é‡Œå¯ä»¥ç›´æ¥è®¿é—®,æ— éœ€åŠ ä¸Šç±»åï¼‰<font color='red'>éœ€è¦ä½œç”¨åŸŸåˆå§‹åŒ–</font></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> a;<span class="comment">//ç±»å†…å£°æ˜</span></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–æ—¶éœ€è¦intæ”¾åœ¨å‰é¢</span></span><br><span class="line"><span class="keyword">int</span> A::a=<span class="number">0</span>;<span class="comment">//mainå‡½æ•°ä¹‹å‰åˆå§‹åŒ–,ä¸ç”¨staticå‰ç¼€//éœ€è¦ä½œç”¨åŸŸ</span></span><br><span class="line">A::a; <span class="comment">//ç±»è®¿é—®æ–¹å¼</span></span><br><span class="line">A b;</span><br><span class="line">b.a;<span class="comment">//å¯¹è±¡è®¿é—®æ–¹å¼</span></span><br><span class="line">p-&gt;a;<span class="comment">//æŒ‡é’ˆè®¿é—®æ–¹å¼</span></span><br></pre></td></tr></table></figure>
<p>é™æ€å‡½æ•°æˆå‘˜</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> a)</span></span>;</span><br><span class="line"><span class="comment">//è®¿é—®æ–¹å¼åŒæ•°æ®æˆå‘˜</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">A::f</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;&#125;<span class="comment">//ä¸ç”¨staticå‰ç¼€</span></span><br></pre></td></tr></table></figure>
<p>é™æ€å‡½æ•°æˆå‘˜æ²¡æœ‰<code>this</code>æŒ‡é’ˆ,è¿™æ˜¯å®ƒå’Œå…¶å®ƒå‡½æ•°æœ€å¤§çš„åŒºåˆ«ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œ<font color='red'>ä¸è®¿é—®éé™æ€æˆå‘˜</font>ï¼Œå¦‚æœè®¿é—®ï¼Œåˆ™ä¹Ÿæ˜¯éœ€è¦é€šè¿‡å¯¹è±¡çš„å¼•ç”¨</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>&#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dis</span><span class="params">(A &amp;w)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">A::dis</span><span class="params">(A &amp;w)</span></span>&#123;....&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ‹·è´æ„é€ å‡½æ•°çš„è°ƒç”¨å…³ç³»">æ‹·è´æ„é€ å‡½æ•°çš„è°ƒç”¨å…³ç³»</h3>
<ul>
<li>å½“å­ç±»çš„æ‹·è´æ„é€ å‡½æ•°æ²¡æœ‰è‡ªå®šä¹‰çš„æ—¶å€™ï¼Œæ‹·è´æ—¶é»˜è®¤ä¼šè°ƒç”¨çˆ¶ç±»çš„æ‹·è´æ„é€ å‡½æ•°ï¼ˆæ— è®ºçˆ¶ç±»æ„é€ æ˜¯å¦è‡ªå®šä¹‰ï¼‰</li>
<li>å½“å­ç±»çš„æ‹·è´æ„é€ å‡½æ•°è‡ªå®šä¹‰ä¹‹åï¼Œæ‹·è´æ—¶é»˜è®¤è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œè¿™æ—¶çˆ¶ç±»çš„æ•°æ®æˆå‘˜è¾¾ä¸åˆ°å¤åˆ¶çš„ç›®çš„ï¼Œéœ€è¦æ˜¾å¼è°ƒç”¨çˆ¶ç±»æ‹·è´æ„é€ å‡½æ•°ã€‚</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	...</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>:</span><span class="keyword">public</span> A&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	B()&#123;&#125;;</span><br><span class="line">    	B(<span class="keyword">const</span> B &amp;ob):A(ob)&#123;...&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="å‹å…ƒ">å‹å…ƒ</h3>
<p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å‹å…ƒå‡½æ•°</p>
<p>ï¼ˆ1ï¼‰å‹å…ƒå‡½æ•°é€šè¿‡ç›´æ¥è®¿é—®å¯¹è±¡çš„ç§æœ‰æˆå‘˜ï¼Œæé«˜äº†ç¨‹åºè¿è¡Œçš„æ•ˆç‡ã€‚</p>
<p>ï¼ˆ2ï¼‰åœ¨æŸäº›æƒ…å†µï¼Œå¦‚è¿ç®—ç¬¦è¢«é‡è½½æ—¶ï¼Œéœ€è¦ç”¨åˆ°å‹å…ƒå‡½æ•°ã€‚</p>
<p>ï¼ˆ3ï¼‰ä¸€ä¸ªå‡½æ•°å¯ä»¥æ˜¯å¤šä¸ªç±»çš„å‹å…ƒå‡½æ•°ã€‚å½“ä¸€ä¸ªå‡½æ•°éœ€è¦è®¿é—®å¤šä¸ªç±»æ—¶ï¼Œå‹å…ƒå‡½æ•°éå¸¸æœ‰ç”¨</p>
<p>ï¼ˆ1ï¼‰å‹å…ƒå…³ç³»æ˜¯å•å‘çš„ï¼Œä¸å…·æœ‰äº¤æ¢æ€§ã€‚è‹¥ç±»Xæ˜¯ç±»Yçš„å‹å…ƒï¼Œç±»Yæ˜¯å¦æ˜¯Xçš„å‹å…ƒï¼Œè¦çœ‹åœ¨ç±»ä¸­æ˜¯å¦æœ‰ç›¸åº”çš„å£°æ˜ã€‚</p>
<p>ï¼ˆ2ï¼‰å‹å…ƒå…³ç³»ä¹Ÿä¸å…·æœ‰ä¼ é€’æ€§ã€‚è‹¥ç±»Xæ˜¯ç±»Yçš„å‹å…ƒï¼Œç±»Yæ˜¯ç±»zçš„å‹å…ƒï¼Œä¸å®šç±»Xæ˜¯ç±»Zçš„å‹å…ƒã€‚</p>
<h4 id="æ™®é€šå‹å…ƒå‡½æ•°">æ™®é€šå‹å…ƒå‡½æ•°</h4>
<p>ï¼ˆ1ï¼‰<font color='red'>å‹å…ƒä¸€å®šä¸æ˜¯å½“å‰ç±»çš„æˆå‘˜å‡½æ•°</font></p>
<p>ï¼ˆ2ï¼‰åªéœ€è¦åœ¨å£°æ˜çš„æ—¶å€™å‰é¢åŠ ä¸Š<code>friend</code>,å¯ä»¥å®šä¹‰åœ¨ç±»çš„å†…éƒ¨ï¼Œä¹Ÿå¯ä»¥å®šä¹‰åœ¨ç±»çš„å¤–éƒ¨</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">friend</span> <span class="keyword">void</span> <span class="title">si</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">si</span><span class="params">()</span></span>&#123;&#125;;<span class="comment">//å£°æ˜åœ¨ç±»å†…ï¼Œå®šä¹‰åœ¨ç±»å¤–ï¼Œä¸æ˜¯æˆå‘˜å‡½æ•°</span></span><br></pre></td></tr></table></figure>
<p>å‹å…ƒåœ¨è®¿é—®çš„æ—¶å€™ï¼Œå¿…é¡»ä¼ å…¥<font color='red'>å¯¹è±¡æŒ‡é’ˆæˆ–è€…å¯¹è±¡</font>çš„å¼•ç”¨æ¥è¿›è¡Œè®¿é—®</p>
<h4 id="å‹å…ƒå‡½æ•°æ˜¯å…¶å®ƒç±»çš„æˆå‘˜å‡½æ•°">å‹å…ƒå‡½æ•°æ˜¯å…¶å®ƒç±»çš„æˆå‘˜å‡½æ•°</h4>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å‹å…ƒæˆå‘˜å‡½æ•°</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Girl</span>;</span><span class="comment">//è¿™ä¸ªå¾ˆå¿…è¦</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Boy</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	<span class="function"><span class="keyword">void</span> <span class="title">si</span><span class="params">(Girl &amp;)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Girl</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	<span class="function"><span class="keyword">friend</span> <span class="keyword">void</span> <span class="title">Boy::si</span><span class="params">(Girl &amp;)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ1ï¼‰ä¸€å®šè¦å…ˆå®šä¹‰å‹å…ƒå‡½æ•°æ‰€åœ¨çš„é‚£ä¸ªç±»ï¼Œåœ¨å®šä¹‰å£°æ˜ä¸ºå‹å…ƒçš„é‚£ä¸ªç±»ï¼Œéœ€è¦æå‰å£°æ˜ç±»æ˜¯å­˜åœ¨çš„</p>
<h4 id="å‹å…ƒç±»">å‹å…ƒç±»</h4>
<p>ï¼ˆ1ï¼‰<font color='red'>å‹å…ƒç±»ï¼ˆå‹å…ƒå‡½æ•°æ‰€åœ¨çš„ç±»ï¼‰</font>å¿…é¡»åœ¨æœ€å¼€å§‹å®šä¹‰ï¼Œåœ¨å…¶å®ƒç±»é‡Œé¢å£°æ˜<code>friend ç±»å</code></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Girl</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Boy</span>&#123;</span></span><br><span class="line">    print(Girl &amp;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Girl</span>&#123;</span></span><br><span class="line">    <span class="keyword">friend</span> (class) Boy; <span class="comment">//class å¯ä»¥æœ‰ï¼Œå¯ä»¥æ²¡æœ‰</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœéœ€è¦äº’ç›¸å£°æ˜ä¸ºå‹å…ƒï¼Œåˆ™éœ€è¦åœ¨ä¸Šé¢çš„ç±»ä¸­åŠ ä¸Šå£°æ˜ä¸‹é¢çš„ç±»ä¸ºå‹å…ƒå³å¯ï¼Œå£°æ˜å‹å…ƒç±»åï¼Œ<font color='red'>å‹å…ƒå†…çš„æˆå‘˜å‡½æ•°ä¸èƒ½å¤Ÿåœ¨ç±»å†…å®šä¹‰ï¼Œåªèƒ½ç±»å¤–å®šä¹‰</font>.</p>
<h4 id="ç±»çš„ç»„åˆ">ç±»çš„ç»„åˆ</h4>
<p>åœ¨ä¸€ä¸ªç±»ä¸­æœ‰å…¶å®ƒç±»å¯¹è±¡çš„å˜é‡</p>
<p>åˆå§‹åŒ–çš„æ–¹æ³•:åˆå§‹åŒ–åŒ–è¡¨</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>&#123;</span></span><br><span class="line">    B b;</span><br><span class="line">    C c;</span><br><span class="line">    A(<span class="keyword">int</span> b1,<span class="keyword">int</span> c1):b(b1),c(c1)&#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ„é€ é¡ºåºåªä¸å…¶åœ¨ç±»ä¸­å®šä¹‰çš„é¡ºåºæœ‰å…³ï¼Œä¸å…¶åœ¨åˆå§‹åŒ–è¡¨ä¸­çš„é¡ºåºæ— å…³ï¼Œææ„ç›¸å,<font color='red'>å…ˆè°ƒç”¨A-&gt;è°ƒç”¨B-&gt;è°ƒç”¨c-&gt;æ‰§è¡ŒAçš„å‡½æ•°ä½“</font></p>
<h4 id="å¸¸ç±»å‹">å¸¸ç±»å‹</h4>
<ul>
<li>å¸¸å¼•ç”¨</li>
</ul>
<p><code>const ç±»å‹ &amp; å¼•ç”¨å</code>ä½œä¸ºå½¢å‚</p>
<ul>
<li>å¸¸å¯¹è±¡</li>
</ul>
<p><code>const ç±»å å¯¹è±¡åï¼ˆå‚æ•°è¡¨ï¼‰</code>,æˆ–è€…<code>ç±»å const å¯¹è±¡å(å‚æ•°è¡¨)</code></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">A <span class="keyword">const</span> a;</span><br><span class="line">a.changevalue();<span class="comment">//æŠ¥é”™ï¼Œå¸¸å¯¹è±¡çš„æ•°æ®æˆå‘˜ä¸å…è®¸å˜æ›´</span></span><br><span class="line">a.dis();<span class="comment">//å¸¸å¯¹è±¡æˆå‘˜ä¸å¯ä»¥è°ƒç”¨æ™®é€šå‡½æ•°</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å¸¸å‡½æ•°</li>
</ul>
<p><code>è¿”å›ç±»å‹ å‡½æ•°åï¼ˆå‚æ•°è¡¨ï¼‰const</code>;</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dis</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> A::dis <span class="title">const</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><font color='red'>å¸¸å¯¹è±¡åªèƒ½è°ƒç”¨å¸¸å‡½æ•°ï¼Œä¸èƒ½è°ƒç”¨æ™®é€šå‡½æ•°ï¼Œä½†æ˜¯å¸¸å‡½æ•°å¯ä»¥è¢«ä»»æ„è°ƒç”¨</font>ï¼Œå¸¸å‡½æ•°å¯ä»¥è°ƒç”¨å¯¹è±¡çš„æ•°æ®æˆå‘˜ï¼Œä½†æ˜¯ä¸èƒ½è¯¥å¯¹è±¡çš„æ•°æ®æˆå‘˜ï¼Œå¯ä»¥æ”¹å˜å‚æ•°è¡¨ä¼ è¿›æ¥çš„å½¢å¼å‚æ•°</p>
<p>ã€3.1ã€‘ç±»å£°æ˜çš„ä¸€èˆ¬æ ¼å¼æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>ã€è§£ã€‘ç±»å£°æ˜çš„ä¸€èˆ¬æ ¼å¼å¦‚ä¸‹ï¼šclassç±»å privateï¼šç§æœ‰æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°
publicå…¬æœ‰æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°
å…¶ä¸­ï¼šclassæ˜¯å£°æ˜ç±»çš„å…³é”®å­—ï¼Œç±»åæ˜¯è¦å£°æ˜çš„ç±»çš„åå­—ï¼›åé¢çš„èŠ±æ‹¬å·è¡¨ç¤ºç±»å£°æ˜çš„èŒƒå›´ï¼›æœ€åçš„åˆ†å·è¡¨ç¤ºç±»å£°æ˜ç»“æŸ
é™¤äº† privateå’Œ publicä¹‹å¤–ï¼Œç±»ä¸­çš„æˆå‘˜è¿˜å¯ä»¥ç”¨å¦ä¸€ä¸ªå…³é”®å­—
protectedæ¥è¯´æ˜ã€‚è¿™æ—¶ç±»å£°æ˜çš„æ ¼å¼å¯å†™æˆï¼š</p>
<p>ç±»å</p>
<p>[private:]ç§æœ‰æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°</p>
<p>publicï¼šå…¬æœ‰æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°</p>
<p>protectedï¼šä¿æŠ¤æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°</p>
<p>è¢«
protectedè¯´æ˜çš„æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°ç§°ä¸ºä¿æŠ¤æˆå‘˜ã€‚ä¿æŠ¤æˆå‘˜å¯ä»¥ç”±æœ¬ç±»çš„æˆå‘˜å‡½æ•°è®¿é—®ï¼Œä¹Ÿå¯ä»¥ç”±æœ¬ç±»çš„æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°è®¿é—®ï¼Œè€Œç±»å¤–çš„ä»»ä½•è®¿é—®éƒ½æ˜¯éæ³•çš„ï¼Œå³å®ƒæ˜¯åŠéšè”½çš„ã€‚</p>
<p>ã€3.2ã€‘æ„é€ å‡½æ•°å’Œææ„å‡½æ•°çš„ä¸»è¦ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå®ƒä»¬å„æœ‰ä»€ä¹ˆç‰¹æ€§ï¼Ÿ</p>
<p>ã€è§£ã€‘æ„é€ å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œå®ƒä¸»è¦ç”¨äºä¸º<font color='red'>å¯¹è±¡åˆ†é…ç©ºé—´ï¼Œè¿›è¡Œåˆå§‹åŒ–</font>ã€‚æ„é€ å‡½æ•°çš„åå­—å¿…é¡»ä¸ç±»åç›¸åŒï¼Œè€Œä¸èƒ½ç”±ç”¨æˆ·ä»»æ„å‘½åã€‚<font color='red'>å®ƒå¯ä»¥æœ‰ä»»æ„ç±»å‹çš„å‚æ•°ï¼Œä½†ä¸èƒ½å…·æœ‰è¿”å›å€¼ç±»å‹</font>ã€‚å®ƒ<font color='red'>ä¸éœ€è¦ç”¨æˆ·æ¥è°ƒç”¨ï¼Œè€Œæ˜¯åœ¨å»ºç«‹å¯¹è±¡æ—¶è‡ªåŠ¨æ‰§è¡Œ</font>ã€‚</p>
<p>æ„é€ å‡½æ•°å…·æœ‰ä¸€äº›ç‰¹æ€§ï¼š</p>
<p>ï¼ˆ1ï¼‰æ„é€ å‡½æ•°çš„åå­—å¿…é¡»ä¸ç±»åç›¸åŒï¼Œå¦åˆ™ç¼–è¯‘ç¨‹åºå°†æŠŠå®ƒå½“ä½œä¸€èˆ¬çš„æˆå‘˜å‡½æ•°æ¥å¤„ç†ã€‚</p>
<p>ï¼ˆ2ï¼‰æ„é€ å‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œåœ¨å®šä¹‰æ„é€ å‡½æ•°æ—¶ï¼Œæ˜¯ä¸èƒ½è¯´æ˜å®ƒçš„ç±»å‹çš„ï¼Œç”šè‡³è¯´æ˜ä¸ºvoidç±»å‹ä¹Ÿä¸è¡Œã€‚</p>
<p>//ï¼ˆ3ï¼‰æ„é€ å‡½æ•°çš„å‡½æ•°ä½“å¯å†™åœ¨ç±»ä½“å†…ï¼Œä¹Ÿå¯å†™åœ¨ç±»ä½“å¤–ã€‚</p>
<p>//ï¼ˆ4ï¼‰æ„é€ å‡½æ•°çš„ä½œç”¨ä¸»è¦æ˜¯ç”¨æ¥å¯¹å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ï¼Œç”¨æˆ·æ ¹æ®åˆå§‹åŒ–çš„è¦æ±‚è®¾è®¡å‡½æ•°ä½“å’Œå‡½æ•°å‚æ•°ã€‚åœ¨æ„é€ å‡½æ•°çš„å‡½æ•°ä½“ä¸­ä¸ä»…å¯ä»¥å¯¹æ•°æ®æˆå‘˜èµ‹åˆå€¼ï¼Œè€Œä¸”å¯ä»¥åŒ…å«å…¶ä»–è¯­å¥ï¼Œä½†æ˜¯ï¼Œä¸ºäº†ä¿æŒæ„é€ å‡½æ•°çš„åŠŸèƒ½æ¸…æ™°ï¼Œä¸€èˆ¬ä¸æå€¡åœ¨æ„é€ å‡½æ•°ä¸­åŠ å…¥ä¸åˆå§‹åŒ–æ— å…³çš„å†…å®¹ã€‚</p>
<p>ï¼ˆ5ï¼‰æ„é€ å‡½æ•°<font color='red'>ä¸€èˆ¬å£°æ˜ä¸ºå…¬æœ‰æˆå‘˜</font>ï¼Œä½†å®ƒä¸éœ€è¦ä¹Ÿä¸èƒ½åƒå…¶ä»–æˆå‘˜å‡½æ•°é‚£æ ·è¢«æ˜¾å¼åœ°è°ƒç”¨ï¼Œå®ƒæ˜¯åœ¨å®šä¹‰å¯¹è±¡çš„åŒæ—¶è¢«è‡ªåŠ¨è°ƒç”¨çš„ï¼Œè€Œä¸”åªæ‰§è¡Œä¸€æ¬¡ã€‚</p>
<p>ï¼ˆ6ï¼‰åœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šå¸¸éœ€è¦ç»™æ¯ä¸ªç±»å®šä¹‰æ„é€ å‡½æ•°ã€‚å¦‚æœæ²¡æœ‰ç»™ç±»å®šä¹‰æ„é€ å‡½æ•°ï¼Œåˆ™ç¼–è¯‘ç³»ç»Ÿè‡ªåŠ¨åœ°ç”Ÿæˆä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ã€‚</p>
<p>ææ„å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ã€‚å®ƒæ‰§è¡Œä¸æ„é€ å‡½æ•°ç›¸åçš„æ“ä½œï¼Œ<font color='red'>é€šå¸¸ç”¨äºæ‰§è¡Œäº›æ¸…ç†ä»»åŠ¡ï¼Œå¦‚é‡Šæ”¾åˆ†é…ç»™å¯¹è±¡çš„å†…å­˜ç©ºé—´ç­‰</font>ã€‚ææ„å‡½æ•°æœ‰ä»¥ä¸‹ä¸€äº›ç‰¹ç‚¹ï¼š</p>
<p>ï¼ˆ1ï¼‰ææ„å‡½æ•°åä¸ç±»åç›¸åŒï¼Œä½†å®ƒå‰é¢å¿…é¡»åŠ ä¸€ä¸ªæ³¢æµªå·ï¼ˆ~ï¼‰ã€‚</p>
<p>ï¼ˆ2ï¼‰<font color='red'>ææ„å‡½æ•°ä¸è¿”å›ä»»ä½•å€¼</font>ã€‚åœ¨å®šä¹‰ææ„å‡½æ•°æ—¶ï¼Œæ˜¯ä¸èƒ½è¯´æ˜å®ƒçš„ç±»å‹çš„ï¼Œç”šè‡³è¯´æ˜ä¸ºvoidç±»å‹ä¹Ÿä¸è¡Œã€‚</p>
<p>ï¼ˆ3ï¼‰<font color='red'>ææ„å‡½æ•°æ²¡æœ‰å‚æ•°ï¼Œå› æ­¤å®ƒä¸èƒ½è¢«é‡è½½</font>ã€‚<font color='red'>ä¸€ä¸ªç±»å¯ä»¥æœ‰å¤šä¸ªæ„é€ å‡½æ•°ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸€ä¸ªææ„å‡½æ•°</font>ã€‚</p>
<p>ï¼ˆ4ï¼‰<font color='red'>æ’¤é”€å¯¹è±¡æ—¶ï¼Œç¼–è¯‘ç³»ç»Ÿä¼šè‡ªåŠ¨åœ°è°ƒç”¨ææ„å‡½æ•°</font>ã€‚</p>
<p>ã€3.3ã€‘ä»€ä¹ˆæ˜¯å¯¹è±¡æ•°ç»„ï¼Ÿ</p>
<p>ã€è§£ã€‘æ‰€è°“å¯¹è±¡æ•°ç»„æ˜¯æŒ‡æ¯ä¸€<font color='red'>æ•°ç»„å…ƒç´ éƒ½æ˜¯å¯¹è±¡çš„æ•°ç»„</font>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè‹¥ä¸€ä¸ªç±»æœ‰è‹¥å¹²ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸€ç³»åˆ—çš„å¯¹è±¡ç”¨ä¸€ä¸ªæ•°ç»„æ¥å­˜æ”¾ã€‚å¯¹è±¡æ•°ç»„çš„å…ƒç´ æ˜¯å¯¹è±¡ï¼Œ<font color='red'>ä¸ä»…å…·æœ‰æ•°æ®æˆå‘˜ï¼Œè€Œä¸”è¿˜æœ‰å‡½æ•°æˆå‘˜</font>ã€‚</p>
<p>ã€3.4ã€‘ä»€ä¹ˆæ˜¯thisæŒ‡é’ˆï¼Ÿå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>ã€è§£ã€‘C++ä¸ºæˆå‘˜å‡½æ•°æä¾›äº†ä¸€ä¸ªåå­—ä¸ºthisçš„æŒ‡é’ˆï¼Œè¿™ä¸ª<font color='red'>æŒ‡é’ˆç§°ä¸ºè‡ªå¼•ç”¨æŒ‡é’ˆ</font>ã€‚æ¯å½“åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œç³»ç»Ÿå°±æŠŠthisæŒ‡é’ˆåˆå§‹åŒ–ä¸ºæŒ‡å‘è¯¥å¯¹è±¡ï¼Œå³thisæŒ‡é’ˆçš„å€¼æ˜¯<font color='red'>å½“å‰è¢«è°ƒç”¨çš„æˆå‘˜å‡½æ•°æ‰€åœ¨çš„å¯¹è±¡çš„èµ·å§‹åœ°å€</font>ã€‚æ¯å½“è°ƒç”¨ä¸€<font color='red'>ä¸ªæˆå‘˜å‡½æ•°</font>æ—¶ï¼Œç³»ç»Ÿå°±è‡ªåŠ¨æŠŠ<font color='red'>thisæŒ‡é’ˆä½œä¸ºä¸€ä¸ªéšå«çš„å‚æ•°ä¼ ç»™è¯¥å‡½æ•°</font>ã€‚ä¸åŒçš„<font color='red'>å¯¹è±¡è°ƒç”¨åŒä¸€ä¸ªæˆå‘˜å‡½æ•°</font>æ—¶ï¼ŒC++ç¼–è¯‘å™¨å°†æ ¹æ®æˆå‘˜å‡½æ•°çš„<font color='red'>thisæŒ‡é’ˆæ‰€æŒ‡å‘çš„å¯¹è±¡æ¥ç¡®å®šåº”è¯¥å¼•ç”¨å“ªä¸€ä¸ªå¯¹è±¡çš„æ•°æ®æˆå‘˜</font></p>
<p>ã€3.5ã€‘å‹å…ƒå‡½æ•°æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</p>
<p>ã€è§£ã€‘<font color='red'>å‹å…ƒå‡½æ•°ä¸æ˜¯å½“å‰ç±»çš„æˆå‘˜å‡½æ•°ï¼Œè€Œæ˜¯ç‹¬ç«‹äºå½“å‰ç±»çš„å¤–éƒ¨å‡½æ•°</font>ï¼Œ<font color='red'>ä½†å®ƒå¯ä»¥è®¿é—®è¯¥ç±»æ‰€æœ‰çš„æˆå‘˜</font>font&gt;ï¼ŒåŒ…æ‹¬ç§æœ‰æˆå‘˜ã€ä¿æŠ¤æˆå‘˜å’Œå…¬æœ‰æˆå‘˜ã€‚<font color='red'>å½“ä¸€ä¸ªå‡½æ•°éœ€è¦è®¿é—®å¤šä¸ªç±»æ—¶ï¼Œå‹å…ƒå‡½æ•°éå¸¸æœ‰ç”¨</font>ï¼Œæ™®é€šçš„æˆå‘˜å‡½æ•°åªèƒ½è®¿é—®å…¶æ‰€å±çš„ç±»ï¼Œä½†æ˜¯å¤šä¸ªç±»çš„å‹å…ƒå‡½æ•°èƒ½å¤Ÿè®¿é—®ç›¸åº”çš„æ‰€æœ‰ç±»çš„æ•°æ®ã€‚æ­¤å¤–ï¼Œ<font color='red'>åœ¨æŸäº›æƒ…å†µï¼Œä¾‹å¦‚è¿ç®—ç¬¦è¢«é‡è½½æ—¶ï¼Œéœ€è¦ç”¨åˆ°å‹å…ƒå‡½æ•°</font></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">Point p1=p2;<span class="comment">//è°ƒç”¨æ‹·è´æ„é€ </span></span><br><span class="line">p3=p2  <span class="comment">//è°ƒç”¨é»˜è®¤èµ‹å€¼</span></span><br></pre></td></tr></table></figure>
<p>æ‚é¡¹ï¼š</p>
<p>ï¼ˆ1ï¼‰ä¸èƒ½åœ¨ç±»å£°æ˜ä¸­ç»™æ•°æ®æˆå‘˜èµ‹å€¼ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡æ„é€ å‡½æ•°ç­‰</p>
<p>ï¼ˆ2ï¼‰é™æ€æˆå‘˜å‡½æ•°å¯ä»¥åœ¨ç±»å†…æˆ–ç±»å¤–å®šä¹‰ï¼Œä½†æ˜¯é™æ€æˆå‘˜åªèƒ½åœ¨ç±»å†…å®šä¹‰</p>
<p>ï¼ˆ3ï¼‰å‹å…ƒå‡½æ•°æ—¢å¯ä»¥åœ¨ç±»å†…å®šä¹‰ï¼Œä¹Ÿå¯ä»¥åœ¨ç±»å¤–å®šä¹‰</p>
<p>ï¼ˆ4ï¼‰<font color='red'>ä¸€å®šè¦è®°ä½ï¼Œå¦‚æœå‡½æ•°ä¸­ä½¿ç”¨äº†å¯¹è±¡ï¼Œé‚£ä¹ˆåœ¨å‡½æ•°ç»“æŸæ—¶ä¸€å®šä¼šè°ƒç”¨<strong>ææ„å‡½æ•°</strong>ï¼Œä½œä¸ºå‡½æ•°å‚æ•°æ—¶ä¸è°ƒç”¨æ„é€ å‡½æ•°ï¼Œè€Œæ˜¯è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°</font></p>
<p>ï¼ˆ5ï¼‰ä¸‹é¢è¿™ç§æƒ…å†µè°ƒç”¨é»˜è®¤èµ‹å€¼å‡½æ•°</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">A a1,a2;</span><br><span class="line">a1=a2 <span class="comment">//è¿™æ—¶å€™æ˜¯ä¸è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°çš„ï¼ï¼ï¼</span></span><br></pre></td></tr></table></figure>
<p>ï¼ˆ6ï¼‰<font color='red'>æ•°ç»„ä¼ å‚çš„æœ¬è´¨æ˜¯åœ°å€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªèƒ½ç”¨æŒ‡é’ˆè¿›è¡Œæ¥æ”¶</font>ï¼Œè‹¥æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™å¯ä»¥è¿™æ ·</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">char</span> a[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> b[<span class="number">90</span>];</span><br><span class="line">    <span class="built_in">strcpy</span>(b,a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ´¾ç”Ÿä¸ç»§æ‰¿">æ´¾ç”Ÿä¸ç»§æ‰¿</h2>
<p>ï¼ˆ1ï¼‰æ´¾ç”Ÿç±»ä¸ç»§æ‰¿åŸºç±»çš„æ„é€ å‡½æ•°å’Œææ„å‡½æ•°</p>
<p>ï¼ˆ2ï¼‰è°ƒæ•´åŸºç±»çš„æˆå‘˜å±æ€§</p>
<ul>
<li><p>ä¸‰ç§ç»§æ‰¿æ–¹å¼</p>
<p>è®¿é—®å£°æ˜</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>&#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    A::print <span class="comment">//è®°ä½ï¼Œè¿™é‡Œä¸ç”¨æ‹¬å·ï¼Œä¸å¸¦è¿”å›ç±»å‹ï¼Œä¸å¸¦å˜é‡</span></span><br><span class="line">    A::a;<span class="comment">//è°ƒæ•´æˆå‘˜æ•°æ®ï¼Œå½¢å¼ä¸€è‡´</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>è°ƒæ•´åªèƒ½å¯¹åº”è°ƒæ•´ï¼Œå³<font color='red'>åŸºç±»ä¸­çš„å…¬æœ‰-&gt;å­ç±»ä¸­çš„å…¬æœ‰ï¼›åŸºç±»ä¸­çš„ä¿æŠ¤-&gt;å­ç±»ä¸­çš„ä¿æŠ¤ï¼Œç§æœ‰æˆå‘˜ä¸èƒ½è°ƒæ•´(å§‹ç»ˆä¸å¯è®¿é—®)</font>,å¯¹æ‰€æœ‰çš„åŸºç±»é‡è½½å‡½æ•°éƒ½èµ·ä½œç”¨</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	<span class="keyword">int</span> x1;</span><br><span class="line">    <span class="keyword">protected</span>:</span><br><span class="line">    	<span class="keyword">int</span> x2;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    	<span class="keyword">int</span> x3</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	A::x1;</span><br><span class="line">    <span class="keyword">protected</span>:</span><br><span class="line">    	A::x2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è®°ä½ä¸‹é¢ç€è¿™ä¸ªä¾‹å­</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span><span class="keyword">public</span> A,B&#123;&#125;;</span><br></pre></td></tr></table></figure>
<p><font color='red'>å…¶ä¸­å¯¹Aæ˜¯å…¬æœ‰ç»§æ‰¿ï¼Œå¯¹Bæ˜¯ç§æœ‰ç»§æ‰¿ã€‚</font></p></li>
<li><p>åŒåæˆå‘˜ï¼ˆé‡å®šä¹‰ï¼‰</p>
<p>ï¼ˆ1ï¼‰å‡½æ•°é‡å®šä¹‰ï¼ˆå¯ä»¥ç›´æ¥è°ƒæ•´å‡½æ•°åŸæ¥çš„å±æ€§ï¼‰</p>
<p>è¦æ±‚ï¼š<font color='red'>å‡½æ•°åä¸€æ ·ï¼Œ<del>å‚æ•°è¡¨ä¸€æ ·</del>ï¼ˆå‚æ•°å¯ä»¥ä¸ä¸€æ ·ï¼Œè¿™æ—¶å€™ä¼šç›´æ¥éšè—çˆ¶ç±»çš„å‡½æ•°ï¼‰ï¼šè¦†ç›–
ï¼Œ
å¦‚æœä¸ä¸€æ ·ï¼Œåˆ™å°±æ˜¯é‡è½½</font>è¦†ç›–ä¸ä»£è¡¨åŸæ¥çš„å‡½æ•°æ²¡æœ‰äº†ï¼Œå®ƒå…¶å®è¿˜æ˜¯å­˜åœ¨çš„ï¼Œåªæ˜¯è¿™æ—¶è®¿é—®è¦åŠ ä¸Šä½œç”¨åŸŸ</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Y</span>;</span></span><br><span class="line">Y::m&#123;</span><br><span class="line">    f();<span class="comment">//è®¿é—®yä¸­çš„fï¼ˆï¼‰</span></span><br><span class="line">    X::f();<span class="comment">//è®¿é—®xä¸­çš„fï¼ˆï¼‰</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ2ï¼‰æ•°æ®æˆå‘˜é‡å†™ï¼ˆ<font color='red'>è¿™ç§æ–¹å¼å¯ä»¥è¢«ç›´æ¥æ— è§†çˆ¶ç±»ä¸­æˆå‘˜çš„æƒé™ï¼Œç›´æ¥æå‡æƒé™</font>ï¼‰</p></li>
</ul>
<p>ï¼ˆ3ï¼‰åŸºç±»ä¸­çš„ç§æœ‰æˆå‘˜ã€‚æ— è®ºå“ªç§ç»§æ‰¿æ–¹å¼ï¼ŒåŸºç±»ä¸­çš„ç§æœ‰æˆå‘˜ä¸å…è®¸æ´¾ç”Ÿç±»ç»§æ‰¿ï¼Œå³åœ¨æ´¾ç”Ÿç±»ä¸­æ˜¯ä¸å¯ç›´æ¥è®¿é—®çš„ã€‚ä½†æ˜¯ç§æœ‰ç»§æ‰¿æ—¶ï¼ŒåŸæ¥çš„<code>public \ protected</code>éƒ½æ˜¯å¯ä»¥è¢«å†…éƒ¨è®¿é—®çš„</p>
<p>ï¼ˆ4ï¼‰åŸºç±»ä¸­çš„ç§æœ‰æˆå‘˜æ—¢ä¸èƒ½è¢«æ´¾ç”Ÿç±»çš„å¯¹è±¡è®¿é—®ï¼Œä¹Ÿä¸èƒ½è¢«æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°è®¿é—®ï¼Œåªèƒ½<font color='red'>è¢«åŸºç±»è‡ªå·±çš„æˆå‘˜å‡½æ•°ï¼ˆå…¬æœ‰æˆ–è€…protectedï¼‰è®¿é—®</font>ã€‚</p>
<p>ï¼ˆ5ï¼‰é€šå¸¸æƒ…å†µä¸‹ï¼Œå½“åˆ›å»ºæ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œé¦–å…ˆæ‰§è¡ŒåŸºç±»çš„æ„é€ å‡½æ•°ï¼Œéšåå†æ‰§è¡Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ï¼›å½“æ’¤é”€æ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œåˆ™å…ˆæ‰§è¡Œæ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ï¼Œéšåå†æ‰§è¡ŒåŸºç±»çš„ææ„å‡½æ•°ã€‚</p>
<p>ï¼ˆ6ï¼‰<font color='red'>å½“åŸºç±»å«æœ‰å¸¦å‚æ„é€ å‡½æ•°æ—¶ï¼Œæ´¾ç”Ÿç±»å¿…é¡»å®šä¹‰æ„é€ å‡½æ•°ç»™åŸºç±»æ„é€ å‡½æ•°ä¼ å‚</font>.å†å¤šæ–‡ä»¶ç¼–ç¨‹æ—¶ï¼Œéœ€è¦åœ¨ç±»çš„å†…éƒ¨å†™ä¸Šå‡½æ•°å£°æ˜ï¼ˆä¸åŒ…æ‹¬å“ªäº›å‚æ•°è¡¨ï¼‰ï¼Œåœ¨ç±»çš„å¤–éƒ¨å†™ä¸Šè°ƒç”¨åŸºç±»æ„é€ å‡½æ•°ï¼Œä»¥åŠåˆ—è¡¨åˆå§‹åŒ–ç­‰å‚æ•°ã€‚</p>
<p>ï¼ˆ7ï¼‰æŒ‡é’ˆå®šä¹‰çš„æ— åç»§æ‰¿å¯¹è±¡ï¼Œå¦‚æœæ˜¯å­ç±»æŒ‡é’ˆï¼Œåˆ™ä¼šè°ƒç”¨å­ç±»ã€çˆ¶ç±»çš„ææ„å‡½æ•°ï¼Œä½†æ˜¯å¦‚æœæŒ‡é’ˆæ˜¯çˆ¶ç±»æŒ‡é’ˆï¼Œåˆ™åœ¨å›æ”¶æ—¶ä¼šè°ƒç”¨çˆ¶ç±»ææ„å‡½æ•°ï¼Œå¹¶ä¸”ï¼Œä¸€æ—¦å®šä¹‰äº†æŒ‡é’ˆï¼Œä¸€å®šæ˜¯è¦æœ‰deleteé‡Šæ”¾ï¼Œå³ä½¿mainå‡½æ•°ç»“æŸï¼ŒæŒ‡é’ˆå˜é‡ä¾ç„¶ä¸ä¼šé‡Šæ”¾ã€‚</p>
<p>æ´¾ç”Ÿç±»ä¸­çš„æ„é€ å‡½æ•°çš„è°ƒç”¨é¡ºåº</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Bæ˜¯Açš„å­ç±»</span></span><br><span class="line">B():A(...),a1(..),a2(..)&#123;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>è°ƒç”¨åŸºç±»æ„é€ å‡½æ•°</li>
<li>è°ƒç”¨å†…åµŒå¯¹è±¡çš„æ„é€ å‡½æ•°</li>
<li>æ‰§è¡ŒBçš„å‡½æ•°ä½“</li>
<li><font color='red'>ææ„é¡ºåºç›¸å</font></li>
</ul>
<p>å¯¹è±¡æˆå‘˜çš„æ„é€ å‡½æ•°è°ƒç”¨é¡ºåºæ˜¯ä»–ä»¬åœ¨æ´¾ç”Ÿç±»ä¸­çš„å£°æ˜é¡ºåºï¼Œææ„ç›¸å</p>
<h4 id="å¤šé‡ç»§æ‰¿">å¤šé‡ç»§æ‰¿</h4>
<p>å½¢å¼:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span><span class="keyword">public</span> A,<span class="keyword">protected</span> B</span><br><span class="line">&#123;</span><br><span class="line">    ....<span class="comment">//å…ˆè°ƒç”¨Açš„æ„é€ ï¼Œå†è°ƒç”¨Bçš„æ„é€ </span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æ„é€ å‡½æ•°çš„è°ƒç”¨é¡ºåºä¸å£°æ˜æ—¶çš„é¡ºåºæœ‰å…³ï¼Œææ„ç›¸å</p>
<h4 id="è™šåŸºç±»">è™šåŸºç±»</h4>
<p>ï¼ˆ1ï¼‰å¦‚æœåœ¨<font color='red'>è™šåŸºç±»ä¸­å®šä¹‰æœ‰å¸¦å½¢å‚çš„æ„é€ å‡½æ•°</font>ï¼Œå¹¶ä¸”æ²¡æœ‰å®šä¹‰é»˜è®¤å½¢å¼çš„æ„é€ å‡½æ•°ï¼Œåˆ™æ•´ä¸ªç»§æ‰¿ç»“æ„ä¸­ï¼Œ<font color='red'>æ‰€æœ‰ç›´æ¥æˆ–é—´æ¥çš„æ´¾ç”Ÿç±»éƒ½å¿…é¡»åœ¨æ„é€ å‡½æ•°çš„æˆå‘˜åˆå§‹åŒ–è¡¨ä¸­åˆ—å‡ºå¯¹è™š
åŸºç±»æ„é€ å‡½æ•°çš„è°ƒç”¨ï¼ˆä¸æ˜¯è™šåŸºç±»ä¸ç”¨è°ƒç”¨ã€‚åªç”¨ç®¡è‡ªå·±çš„ä¸Šä¸€çº§ï¼‰</font>ï¼Œä»¥åˆå§‹åŒ–åœ¨è™šåŸºç±»ä¸­å®šä¹‰çš„æ•°æ®æˆå‘˜ã€‚</p>
<p>ï¼ˆ2ï¼‰å»ºç«‹ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡ä¸­å«æœ‰ä»è™šåŸºç±»ç»§æ‰¿æ¥çš„æˆå‘˜ï¼Œ<font color='red'>åˆ™è™šåŸºç±»çš„æˆå‘˜æ˜¯ç”±æœ€è¿œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°é€šè¿‡è°ƒç”¨è™šåŸºç±»çš„æ„é€ å‡½æ•°è¿›è¡Œåˆå§‹åŒ–çš„ï¼ˆæ„é€ å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ï¼Œæ™®é€šç»§æ‰¿è°ƒç”¨å¤šæ¬¡ï¼‰</font>ã€‚è¯¥æ´¾ç”Ÿç±»çš„å…¶ä»–åŸºç±»
å¯¹è™šåŸºç±»æ„é€ å‡½æ•°çš„è°ƒç”¨éƒ½è‡ªåŠ¨è¢«å¿½ç•¥ã€‚</p>
<p>ï¼ˆ3ï¼‰è‹¥åŒä¸€å±‚æ¬¡ä¸­åŒæ—¶åŒ…å«è™šåŸºç±»å’Œéè™šåŸºç±»<font color='red'>ï¼Œåº”å…ˆè°ƒç”¨è™šåŸºç±»çš„æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨é
è™šåŸºç±»çš„æ„é€ å‡½æ•°ï¼Œæœ€åè°ƒç”¨æ´¾ç”Ÿç±»æ„é€ å‡½æ•°</font>ã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span>:</span><span class="keyword">public</span> Y <span class="keyword">virtual</span> <span class="keyword">public</span> Z&#123;&#125;;</span><br><span class="line"><span class="comment">//å…ˆè°ƒç”¨zï¼Œç„¶åyï¼Œç„¶åx</span></span><br></pre></td></tr></table></figure>
<p>ï¼ˆ4ï¼‰å¯¹äºå¤šä¸ªè™šåŸºç±»ï¼Œæ„é€ å‡½æ•°çš„æ‰§è¡Œé¡ºåºä»ç„¶æ˜¯å…ˆå·¦åå³ï¼Œè‡ªä¸Šè€Œä¸‹ã€‚</p>
<p>ï¼ˆ5ï¼‰å¯¹äºéè™šåŸºç±»ï¼Œæ„é€ å‡½æ•°çš„æ‰§è¡Œé¡ºåºä»æ˜¯å…ˆå·¦åå³ï¼Œè‡ªä¸Šè€Œä¸‹ã€‚</p>
<p>ï¼ˆ6ï¼‰è‹¥è™šåŸºç±»ç”±éè™šåŸºç±»æ´¾ç”Ÿè€Œæ¥ï¼Œåˆ™ä»ç„¶å…ˆè°ƒç”¨åŸºç±»æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨æ´¾ç”Ÿç±»çš„æ„é€ </p>
<h4 id="å…¼å®¹èµ‹å€¼">å…¼å®¹èµ‹å€¼</h4>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">Base b;</span><br><span class="line">Derieve d;</span><br><span class="line">b=d;<span class="comment">//åªèƒ½è®¿é—®bå…·æœ‰çš„æˆå‘˜</span></span><br><span class="line">Base &amp;b=d;</span><br><span class="line">base *p=&amp;d;</span><br></pre></td></tr></table></figure>
<p>æŒ‡å‘åŸºç±»çš„æŒ‡é’ˆåªèƒ½æŒ‡å‘ä»–çš„<font color='red'>å…¬æœ‰æ´¾ç”Ÿç±»</font>çš„å¯¹è±¡ï¼Œè€Œä¸èƒ½æŒ‡å‘ä»–çš„ç§æœ‰å’Œä¿æŠ¤æ´¾ç”Ÿå¯¹è±¡ã€‚</p>
<p>ã€4.3ã€‘ä¿æŠ¤æˆå‘˜æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿä¿æŠ¤æˆå‘˜ä»¥å…¬æœ‰æ–¹å¼æˆ–ç§æœ‰æ–¹å¼è¢«ç»§æ‰¿åçš„è®¿é—®ç‰¹æ€§
å¦‚ä½•ï¼Ÿ</p>
<p>ã€è§£ã€‘å½“ç±»çš„ç»§æ‰¿æ–¹å¼ä¸ºå…¬æœ‰ç»§æ‰¿æ—¶ï¼ŒåŸºç±»ä¸­çš„æ‰€æœ‰ä¿æŠ¤æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä»ä»¥ä¿æŠ¤æˆ
å‘˜çš„èº«ä»½å‡ºç°ï¼Œåœ¨æ´¾ç”Ÿç±»å†…å¯ä»¥è®¿é—®è¿™äº›æˆå‘˜ï¼Œä½†æ´¾ç”Ÿç±»å¤–éƒ¨ä¸èƒ½è®¿é—®å®ƒä»¬ï¼Œè€Œåœ¨ä¸‹ä¸€å±‚æ´¾
ç”Ÿç±»å†…å¯ä»¥è®¿é—®å®ƒä»¬ã€‚</p>
<p>å½“ç±»çš„ç»§æ‰¿æ–¹å¼ä¸ºç§æœ‰ç»§æ‰¿æ—¶ï¼ŒåŸºç±»ä¸­çš„æ‰€æœ‰ä¿æŠ¤æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­éƒ½ä»¥ç§æœ‰æˆå‘˜çš„èº«
ä»½å‡ºç°ï¼Œåœ¨æ´¾ç”Ÿç±»å†…å¯ä»¥è®¿é—®è¿™äº›æˆå‘˜ï¼Œä½†æ´¾ç”Ÿç±»å¤–éƒ¨ä¸èƒ½è®¿é—®å®ƒä»¬ã€‚</p>
<p>ã€4.7ã€‘åœ¨ç±»çš„æ´¾ç”Ÿä¸­ä¸ºä½•è¦å¼•äººè™šåŸºç±»ï¼Ÿè™šåŸºç±»æ„é€ å‡½æ•°çš„è°ƒç”¨é¡ºåºæ˜¯å¦‚ä½•è§„å®šçš„ï¼Ÿ</p>
<p>ã€è§£ã€‘å½“å¼•ç”¨æ´¾ç”Ÿç±»çš„æˆå‘˜æ—¶ï¼Œé¦–å…ˆåœ¨æ´¾ç”Ÿç±»è‡ªèº«çš„ä½œç”¨åŸŸä¸­å¯»æ‰¾è¿™ä¸ªæˆå‘˜ï¼Œå¦‚æœæ²¡æœ‰
æ‰¾åˆ°ï¼Œåˆ™åˆ°å®ƒçš„åŸºç±»ä¸­å¯»æ‰¾ã€‚å¦‚æœä¸€ä¸ªæ´¾ç”Ÿç±»æ˜¯ä»å¤šä¸ªåŸºç±»æ´¾ç”Ÿå‡ºæ¥çš„ï¼Œè€Œè¿™äº›åŸºç±»åˆæœ‰ä¸€
ä¸ªå…±åŒçš„åŸºç±»ï¼Œåˆ™åœ¨è¿™ä¸ªæ´¾ç”Ÿç±»ä¸­è®¿é—®è¿™ä¸ªå…±åŒçš„åŸºç±»ä¸­çš„æˆå‘˜æ—¶ï¼Œå¯èƒ½ä¼šäº§ç”ŸäºŒä¹‰æ€§ã€‚ä¸º
äº†è§£å†³è¿™ç§äºŒä¹‰æ€§ï¼ŒC++å¼•å…¥äº†è™šåŸºç±»çš„æ¦‚å¿µã€‚
è™šåŸºç±»çš„åˆå§‹åŒ–ä¸ä¸€èˆ¬çš„å¤šç»§æ‰¿çš„åˆå§‹åŒ–åœ¨è¯­æ³•ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œä½†æ„é€ å‡½æ•°çš„è°ƒç”¨é¡ºåºä¸åŒã€‚åœ¨ä½¿ç”¨è™šåŸºç±»æœºåˆ¶æ—¶åº”è¯¥æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<p>ï¼ˆ1ï¼‰å¦‚æœåœ¨è™šåŸºç±»ä¸­å®šä¹‰æœ‰<font color='red'>å¸¦å½¢å‚çš„æ„é€ å‡½</font>æ•°ï¼Œå¹¶ä¸”æ²¡æœ‰å®šä¹‰é»˜è®¤å½¢å¼çš„æ„é€ å‡½æ•°ï¼Œåˆ™
æ•´ä¸ªç»§æ‰¿ç»“æ„ä¸­ï¼Œæ‰€æœ‰ç›´<font color='red'>æ¥æˆ–é—´æ¥çš„æ´¾ç”Ÿç±»éƒ½å¿…é¡»åœ¨æ„é€ å‡½æ•°çš„æˆå‘˜åˆå§‹åŒ–è¡¨ä¸­åˆ—å‡ºå¯¹è™š
åŸºç±»æ„é€ å‡½æ•°çš„è°ƒç”¨</font>ï¼Œä»¥åˆå§‹åŒ–åœ¨è™šåŸºç±»ä¸­å®šä¹‰çš„æ•°æ®æˆå‘˜ã€‚</p>
<p>ï¼ˆ2ï¼‰å»ºç«‹ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡ä¸­å«æœ‰ä»è™šåŸºç±»ç»§æ‰¿æ¥çš„æˆå‘˜ï¼Œåˆ™è™šåŸºç±»çš„æˆå‘˜æ˜¯
ç”±æœ€è¿œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°é€šè¿‡è°ƒç”¨è™šåŸºç±»çš„æ„é€ å‡½æ•°è¿›è¡Œåˆå§‹åŒ–çš„ã€‚è¯¥æ´¾ç”Ÿç±»çš„å…¶ä»–åŸºç±»
å¯¹è™šåŸºç±»æ„é€ å‡½æ•°çš„è°ƒç”¨éƒ½è‡ªåŠ¨è¢«å¿½ç•¥ã€‚</p>
<p>ï¼ˆ3ï¼‰è‹¥åŒä¸€å±‚æ¬¡ä¸­åŒæ—¶åŒ…å«è™šåŸºç±»å’Œéè™šåŸºç±»ï¼Œåº”å…ˆè°ƒç”¨è™šåŸºç±»çš„æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨é
è™šåŸºç±»çš„æ„é€ å‡½æ•°ï¼Œæœ€åè°ƒç”¨æ´¾ç”Ÿç±»æ„é€ å‡½æ•°ã€‚</p>
<p>ï¼ˆ4ï¼‰å¯¹äºå¤šä¸ªè™šåŸºç±»ï¼Œæ„é€ å‡½æ•°çš„æ‰§è¡Œé¡ºåºä»ç„¶æ˜¯å…ˆå·¦åå³ï¼Œè‡ªä¸Šè€Œä¸‹ã€‚</p>
<p>ï¼ˆ5ï¼‰å¯¹äºéè™šåŸºç±»ï¼Œæ„é€ å‡½æ•°çš„æ‰§è¡Œé¡ºåºä»æ˜¯å…ˆå·¦åå³ï¼Œè‡ªä¸Šè€Œä¸‹ã€‚</p>
<p>ï¼ˆ6ï¼‰è‹¥è™šåŸºç±»ç”±éè™šåŸºç±»æ´¾ç”Ÿè€Œæ¥ï¼Œåˆ™ä»ç„¶å…ˆè°ƒç”¨åŸºç±»æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨æ´¾ç”Ÿç±»çš„æ„é€ 
å‡½æ•°ã€‚</p>
<h2 id="å¤šæ€">å¤šæ€</h2>
<p>1ã€è¿ç®—ç¬¦é‡è½½(<font color='red'>æ‰€æœ‰çš„è¿ç®—ç¬¦é‡è½½éƒ½æœ‰è¿”å›å€¼ï¼ˆé™¤äº†è½¬åŒ–æ„é€ å‡½æ•°å¤–ï¼Œä¸€èˆ¬ä¸ºå¯¹è±¡ï¼Œä½†æ˜¯=å’Œ[]è¿”å›çš„å€¼å¯¹è±¡çš„å¼•ç”¨ï¼‰ï¼Œä¸€èˆ¬éƒ½éœ€è¦ä¼ å…¥å¯¹è±¡çš„å¼•ç”¨ï¼ŒåŒç›®è¿ç®—ç¬¦å‡½æ•°çš„æä¾›è€…æ˜¯å·¦è¾¹ï¼Œå•ç›®è¿ç®—ç¬¦æä¾›è€…é»˜è®¤æ˜¯å³è¾¹</font>)</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Complex</span>&#123;</span></span><br><span class="line">....</span><br><span class="line">&#125;;</span><br><span class="line">Complex <span class="keyword">operator</span>+(Complex a,Complex b)</span><br><span class="line">&#123;</span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	total1=com1+com2;	<span class="comment">//è°ƒç”¨æ–¹å¼1</span></span><br><span class="line">	total2=<span class="keyword">operator</span>+(com1,com2);	<span class="comment">//è°ƒç”¨æ–¹å¼2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸èƒ½é‡è½½çš„è¿ç®—ç¬¦æœ‰ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">.*</span><br><span class="line">::</span><br><span class="line"><span class="keyword">sizeof</span></span><br><span class="line">?:</span><br></pre></td></tr></table></figure>
<p>C++ä¸å…è®¸è‡ªå·±å®šä¹‰æ–°çš„è¿ç®—ç¬¦ï¼Œä¾‹å¦‚<code>**</code>ä¸èƒ½é‡è½½ï¼Œä¹Ÿä¸èƒ½å®šä¹‰ï¼Œå› ä¸ºC++ä¸­æ— æ³•é€šè¿‡è¿™ä¸ªè¿›è¡Œä¹˜æ–¹è¿ç®—</p>
<ul>
<li>é‡è½½è¿ç®—ç¬¦ä¸èƒ½æ”¹å˜æ“ä½œæ•°çš„ä¸ªæ•°ï¼ˆ+ï¼‰</li>
<li>é‡è½½ä¸èƒ½æ”¹å˜ä¼˜å…ˆçº§ï¼ˆ+ï¼Œ<span
class="math inline">\(\times\)</span>ï¼‰</li>
<li>é‡è½½ä¸èƒ½æ”¹å˜ç»“åˆç‰¹æ€§</li>
<li>é‡è½½çš„å‚æ•°è‡³å°‘ä¸€ä¸ªæ˜¯<u>ç±»å¯¹è±¡</u>ï¼ˆç±»å¼•ç”¨ï¼‰ï¼Œ<u>ä¸èƒ½å…¨éƒ¨æ˜¯æ ‡å‡†æ•°æ®ç±»å‹</u></li>
<li>=ä¸ç”¨é‡è½½ï¼Œé™¤éç±»ä¸­æœ‰åŠ¨æ€åˆ†é…å†…å­˜çš„æŒ‡é’ˆæˆå‘˜</li>
</ul>
<h3 id="å‹å…ƒè¿ç®—ç¬¦å‡½æ•°é‡è½½">å‹å…ƒè¿ç®—ç¬¦å‡½æ•°é‡è½½</h3>
<ul>
<li>å‹å…ƒå‡½æ•°å¯ä»¥æ˜¯ä¸å±äºä»»ä½•ç±»çš„éæˆå‘˜å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ç±»çš„æˆå‘˜å‡½æ•°ï¼ˆä¸€å®šä¸æ˜¯è‡ªå·±çš„æˆå‘˜å‡½æ•°ï¼‰</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å‹å…ƒè¿ç®—ç¬¦é‡è½½</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">x</span>&#123;</span></span><br><span class="line">    <span class="keyword">friend</span> å‡½æ•°ç±»å‹ <span class="keyword">operator</span>è¿ç®—ç¬¦(å½¢å‚è¡¨);</span><br><span class="line">    ...</span><br><span class="line">&#125;;</span><br><span class="line">å‡½æ•°ç±»å‹ <span class="keyword">operator</span>è¿ç®—ç¬¦ï¼ˆå½¢å‚è¡¨ï¼‰	<span class="comment">//æ— éœ€åŠ ä¸Šç±»å</span></span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>åœ¨é‡è½½å•ç›®è¿ç®—ç¬¦ï¼Œç‰¹åˆ«æ˜¯++å’Œ--çš„æ—¶å€™ï¼Œä¸€å®šè¦è®°å¾—ä½¿ç”¨<u>å¯¹è±¡å¼•ç”¨</u>ï¼Œå› ä¸ºå¯¹è±¡ç±»å‹å°†æ— æ³•æ”¹å˜å®ƒè‡ªèº«</li>
<li>æœ‰äº›çš„è¿ç®—ç¬¦ä¸èƒ½å®šä¹‰ä¸ºå‹å…ƒé‡è½½å‡½æ•°å¦‚<code>= ã€[] ã€()</code>ï¼Œä»–ä»¬åªèƒ½å®šä¸ºã€‚ã€‚ã€‚</li>
</ul>
<h3 id="æˆå‘˜è¿ç®—ç¬¦é‡è½½">æˆå‘˜è¿ç®—ç¬¦é‡è½½</h3>
<ul>
<li>åŒç›®è¿ç®—ç¬¦ï¼šå‚æ•°è¡¨ä¸ºä¸€ä¸ªæ“ä½œæ•°</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æµ‹è¯•è®¿é—®æƒé™</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">x</span>&#123;</span></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">....</span><br><span class="line">		x <span class="keyword">operator</span>*(x ob);</span><br><span class="line">&#125;;</span><br><span class="line">x x::<span class="keyword">operator</span>*(x ob)</span><br><span class="line">&#123;</span><br><span class="line">	real=real*ob.real;</span><br><span class="line">	imag=imag*ob.imag;<span class="comment">//å¯ä»¥ç›´æ¥è®¿é—®ob.imag</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹å‡ºï¼Œå³ä½¿<code>*</code>åšä¸ºxçš„æˆå‘˜å‡½æ•°ï¼Œä½†æ˜¯<u>å®ƒè¿˜æ˜¯å¯ä»¥è®¿é—®åŒç±»å‹çš„obçš„æ•°æ®</u>ï¼Œä¸å­˜åœ¨æƒé™ä¸è¶³çš„æƒ…å†µã€‚å®é™…è°ƒç”¨å·¦è¾¹å¯¹è±¡çš„æˆå‘˜å‡½æ•°</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è°ƒç”¨æ–¹å¼</span></span><br><span class="line">a.<span class="keyword">operator</span>@(b)</span><br><span class="line">a@b</span><br></pre></td></tr></table></figure>
<ul>
<li>å•ç›®è¿ç®—ç¬¦ï¼šå‚æ•°è¡¨ä¸ºç©º,è¿™æ˜¯<u>é€‚ç”¨äºå‰ç¼€</u></li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">coord</span>&#123;</span></span><br><span class="line">    </span><br><span class="line">    coord <span class="keyword">operator</span>++()</span><br><span class="line">&#125;;</span><br><span class="line">coord coord::<span class="keyword">operator</span>++()</span><br><span class="line">&#123;</span><br><span class="line">    ++x;</span><br><span class="line">    ++y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å•ç›®è¿ç®—ç¬¦ï¼šå‚æ•°ä¸º<code>int</code>,é€‚ç”¨äºåç¼€</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">ob.<span class="keyword">operator</span>++(<span class="keyword">int</span>)	<span class="comment">//æˆå‘˜å‡½æ•°é‡è½½</span></span><br><span class="line"><span class="keyword">operator</span>(x &amp;ob,<span class="keyword">int</span>) <span class="comment">//å‹å…ƒå‡½æ•°é‡è½½ï¼Œä¸€å®šè¦æ˜¯å¼•ç”¨</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å‰åç¼€å¯¹æ¯”</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å£°æ˜åŒºåˆ«</span></span><br><span class="line"><span class="comment">//å‰ç¼€</span></span><br><span class="line">x <span class="keyword">operator</span>++();</span><br><span class="line"><span class="keyword">friend</span> x <span class="keyword">operator</span>++();</span><br><span class="line"><span class="comment">//åç¼€</span></span><br><span class="line">x <span class="keyword">operator</span>++(<span class="keyword">int</span>);	<span class="comment">//æ— éœ€å‚æ•°åï¼Œåªéœ€å†™ç±»å‹</span></span><br><span class="line"><span class="keyword">friend</span> x <span class="keyword">operator</span>++(<span class="keyword">int</span>);</span><br><span class="line"><span class="comment">//å®šä¹‰åŒºåˆ«</span></span><br><span class="line"><span class="comment">//å‰ç¼€</span></span><br><span class="line">x x::<span class="keyword">operator</span>++()&#123;&#125;</span><br><span class="line">x <span class="keyword">operator</span>++()&#123;&#125;</span><br><span class="line"><span class="comment">//åç¼€</span></span><br><span class="line">x x::<span class="keyword">operator</span>++(<span class="keyword">int</span>)&#123;&#125;</span><br><span class="line">x <span class="keyword">operator</span>++(<span class="keyword">int</span>)&#123;&#125;</span><br><span class="line"><span class="comment">//è°ƒç”¨åŒºåˆ«</span></span><br><span class="line"><span class="comment">//å‰ç¼€</span></span><br><span class="line">ob.<span class="keyword">operator</span>++();<span class="comment">//æ˜¾å¼è°ƒç”¨ï¼Œæˆå‘˜å‡½æ•°</span></span><br><span class="line"><span class="keyword">operator</span>++(ob);<span class="comment">//æ˜¾ç¤ºè°ƒç”¨ï¼Œå‹å…ƒå‡½æ•°</span></span><br><span class="line">++ob;	<span class="comment">//éšå¼è°ƒç”¨:å‹å…ƒé‡è½½å’Œæˆå‘˜å‡½æ•°é‡è½½ä¸€æ ·</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åç¼€</span></span><br><span class="line">ob.<span class="keyword">operator</span>++(<span class="number">0</span>);<span class="comment">//æ˜¾å¼è°ƒç”¨ï¼Œæˆå‘˜å‡½æ•°</span></span><br><span class="line"><span class="keyword">operator</span>++(ob,<span class="number">0</span>);<span class="comment">//æ˜¾ç¤ºè°ƒç”¨ï¼Œå‹å…ƒå‡½æ•°</span></span><br><span class="line">ob++;	<span class="comment">//éšå¼è°ƒç”¨:å‹å…ƒé‡è½½å’Œæˆå‘˜å‡½æ•°é‡è½½ä¸€æ ·</span></span><br></pre></td></tr></table></figure>
<p>å‰ç¼€<code>++x</code>æ˜¯å…ˆè‡ªåŠ ï¼Œåœ¨è¿›è¡Œä¸‹ä¸€æ­¥è¿ç®—ï¼Œ<code>x=0,z=x++*4</code>,åˆ™æœ€ç»ˆ<code>z=0</code>.</p>
<p>åŒç›®è¿ç®—ç¬¦ä¸€èˆ¬å¯ä»¥è¢«é‡è½½ä¸ºå‹å…ƒè¿ç®—ç¬¦é‡è½½å‡½æ•°æˆ–æˆå‘˜è¿ç®—ç¬¦é‡è½½å‡½æ•°ï¼Œä½†æœ‰ä¸€ç§æƒ…å†µï¼Œå¿…é¡»ä½¿ç”¨å‹å…ƒå‡½æ•°
ä¾‹å¦‚ï¼Œå¦‚æœå°†ä¸€ä¸ªå¤æ•°ä¸ä¸€ä¸ªæ•´æ•°ç›¸åŠ ï¼Œå¯ç”¨æˆå‘˜è¿ç®—ç¬¦å‡½æ•°é‡è½½â€œ+â€è¿ç®—ç¬¦ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">Complex A::<span class="keyword">operator</span>+ (<span class="keyword">int</span> a)</span><br><span class="line">&#123; <span class="keyword">return</span> Complex(real+a ,imag);</span><br><span class="line">&#125;<span class="comment">// obj+100å¯ä»¥ 100+objä¸å¯ä»¥</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯é€šè¿‡å£°æ˜å‹å…ƒå³å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå£°æ˜ä¸¤ä¸ªå‹å…ƒå‡½æ•°å³å¯ï¼Œå³å¦‚æœæ“ä½œæ•°å¸Œæœ›æœ‰éšç§ç±»å‹è½¬åŒ–ï¼Œå¿…é¡»ä½¿ç”¨å‹å…ƒå‡½æ•°é‡è½½ã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">friend</span> Complex <span class="keyword">operator</span>+ï¼ˆcomp1 ex comï¼Œintaï¼‰/è¿ç®—ç¬¦+çš„å·¦ä¾§æ˜¯ç±»å¯¹è±¡</span><br><span class="line">&#123;<span class="keyword">return</span> Complexï¼ˆcom.real+ a,com.imagï¼‰&#125;<span class="comment">//å³ä¾§æ˜¯æ•´æ•°</span></span><br><span class="line"><span class="keyword">friend</span> Complex <span class="keyword">operator</span>+ï¼ˆintaï¼ŒComplex comï¼‰<span class="comment">//è¿ç®—ç¬¦+çš„å·¦ä¾§æ˜¯æ•´æ•°</span></span><br><span class="line">&#123;<span class="keyword">return</span> Complexï¼ˆa+ com.real,com.imagï¼‰&#125;<span class="comment">//å³ä¾§æ˜¯ç±»å¯¹è±¡</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æŒ‡é’ˆæ‚¬æŒ‚é—®é¢˜</li>
</ul>
<p>å½“ä½¿ç”¨è‡ªå¸¦çš„<code>=</code>çš„æ—¶å€™ï¼ŒæŒ‡é’ˆèµ‹å€¼å®¹æ˜“å‡ºç°é—®é¢˜ï¼Œé‚£æ˜¯å› ä¸ºï¼Œåœ¨ä½¿ç”¨ææ„å‡½æ•°è¿›è¡Œå›æ”¶å†…å­˜çš„æ—¶å€™ï¼Œä¼šå¯¼è‡´åŸæ¥æŒ‡é’ˆçš„ç©ºé—´è¢«å›æ”¶ï¼Œ<u><code>=</code>åªèƒ½å®šä¹‰ä¸ºæˆå‘˜å‡½æ•°</u></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">a</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    	<span class="keyword">char</span> *ptr;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	~a()&#123;</span><br><span class="line">           <span class="keyword">delete</span> ptr;		<span class="comment">//å¦‚æœè¿™é‡Œæ²¡æœ‰deleteï¼Œåˆ™è¿™ä¸€å—ç©ºé—´ä¸ä¼šè¢«å›æ”¶ï¼Œå³ä½¿æ˜¯è¯¥å¯¹è±¡å·²ç»æ¶ˆäº¡</span></span><br><span class="line">               ...</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">a <span class="title">a1</span><span class="params">(..)</span>,<span class="title">a2</span><span class="params">(..)</span></span>;</span><br><span class="line">    a2=a1;	<span class="comment">//a2.ptr=a1.ptr</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;	<span class="comment">//a2å…ˆæ¶ˆå¤±ï¼Œa1åæ¶ˆå¤±ï¼Œä¸€å®šè¦è®°ä½</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä½•è§£å†³,ä½¿ç”¨æˆå‘˜å‡½æ•°é‡è½½ï¼ˆæ·±å±‚èµ‹å€¼ï¼‰</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">String &amp;String::<span class="keyword">operator</span>=(<span class="keyword">const</span> String &amp;x)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ptr;<span class="comment">//é‡Šæ”¾ç©ºé—´ï¼Œä½†æ˜¯æ²¡æœ‰åˆ é™¤å˜é‡</span></span><br><span class="line">	ptr=<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(x.ptr)+<span class="number">1</span>];</span><br><span class="line">	<span class="built_in">strcpy</span>(ptr,x.ptr);</span><br><span class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><u>ä¸‹æ ‡è¿ç®—ç¬¦åªèƒ½å®šä¹‰ä¸ºæˆå‘˜å‡½æ•°</u></li>
</ul>
<h3 id="ç±»å‹è½¬åŒ–">ç±»å‹è½¬åŒ–</h3>
<ul>
<li>è½¬åŒ–æ„é€ å‡½æ•°ï¼ˆ<u>åªèƒ½æ˜¯ç±»å†…æ„é€ å‡½æ•°</u>ï¼‰,<font color='red'>æ²¡æœ‰è¯´æ˜è¿”å›ç±»å‹</font></li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">a</span>&#123;</span></span><br><span class="line">  a()&#123;&#125;;</span><br><span class="line">  a(<span class="keyword">double</span> r)&#123;	<span class="comment">//è¦è½¬åŒ–çš„ç±»å‹ï¼Œè½¬åŒ–æ„é€ å‡½æ•°</span></span><br><span class="line">      x=r,y=<span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ1ï¼‰è½¬åŒ–æ„é€ å‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œä½œç”¨æ˜¯å°†ä¸€ä¸ªå…¶ä»–ç±»å‹çš„æ•°æ®è½¬æ¢æˆå®ƒæ‰€åœ¨ç±»çš„å¯¹è±¡</p>
<p>ï¼ˆ2ï¼‰è½¬æ¢æ„é€ å‡½æ•°ä¸ä»…å¯ä»¥å°†ä¸€ä¸ªç³»ç»Ÿé¢„å®šä¹‰çš„æ ‡å‡†ç±»å‹æ•°æ®è½¬æ¢æˆç±»çš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥å°†å¦ä¸€ä¸ªç±»çš„å¯¹è±¡è½¬æ¢æˆè½¬æ¢æ„é€ å‡½æ•°æ‰€åœ¨çš„ç±»å¯¹è±¡ã€‚</p>
<ul>
<li>ç±»å‹è½¬åŒ–å‡½æ•°ï¼ˆ<u>åªèƒ½æ˜¯ç±»çš„æˆå‘˜å‡½æ•°</u>ï¼‰<font color='red'>æ²¡æœ‰è¿”å›ç±»å‹ï¼Œåªæœ‰<code>operator</code>å…³é”®å­—ï¼Œæ— éœ€å‚æ•°è¡¨ï¼Œä½†ä¸€å®šæœ‰<code>return</code>,è®°ä½äº†</font></li>
</ul>
<p>å°†ç±»å¯¹è±¡è½¬åŒ–ä¸ºå¦ä¸€ç±»æ•°æ®-&gt;ç±»è½¬åŒ–ä¸ºå…¶å®ƒæ•°æ®</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Complex</span>&#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">operator</span> <span class="title">double</span><span class="params">()</span><span class="comment">//ç›®æ ‡ç±»å‹</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> real;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">operator</span> <span class="title">int</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        ....</span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span>(com) <span class="comment">//è°ƒç”¨æ–¹å¼ï¼Œæ³¨æ„è¿™ä¸ªå’Œä¸€èˆ¬å‡½æ•°è°ƒç”¨çš„åŒºåˆ«</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ1ï¼‰ç±»å‹è½¬æ¢å‡½æ•°<u>åªèƒ½å®šä¹‰ä¸ºä¸€ä¸ªç±»çš„æˆå‘˜å‡½æ•°è€Œä¸èƒ½å®šä¹‰ä¸ºç±»çš„å‹å…ƒå‡½æ•°</u>ã€‚ç±»å‹è½¬æ¢å‡½æ•°ä¹Ÿå¯ä»¥åœ¨ç±»ä½“ä¸­å£°æ˜å‡½æ•°åŸå‹ï¼Œè€Œå°†å‡½æ•°ä½“å®šä¹‰åœ¨ç±»çš„å¤–éƒ¨</p>
<p>ï¼ˆ2ï¼‰ç±»å‹è½¬æ¢å‡½æ•°æ—¢æ²¡æœ‰å‚æ•°ï¼Œä¹Ÿä¸èƒ½åœ¨å‡½æ•°åå‰é¢æŒ‡å®šå‡½æ•°ç±»å‹</p>
<p>ï¼ˆ3ï¼‰ç±»å‹å‡½æ•°ä¸­å¿…é¡»æœ‰<font color='red'>
<strong>return</strong></font>è¯­å¥ï¼Œå³å¿…é¡»é€å›ç›®æ ‡ç±»å‹çš„æ•°æ®ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ã€‚</p>
<p>ï¼ˆ4ï¼‰ä¸€ä¸ªç±»å¯ä»¥å®šä¹‰å¤šä¸ªç±»å‹è½¬æ¢å‡½æ•°ã€‚C++ç¼–è¯‘å™¨å°†æ ¹æ®ç±»å‹è½¬æ¢å‡½æ•°åè‡ªåŠ¨åœ°é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ç±»å‹è½¬æ¢å‡½æ•°äºˆä»¥è°ƒç”¨ã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç±»å‹è½¬åŒ–éšå¼è°ƒç”¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Complex</span>&#123;</span></span><br><span class="line">    Complex(<span class="keyword">int</span> i);</span><br><span class="line">    <span class="function"><span class="keyword">operator</span> <span class="title">int</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">Complex <span class="title">a1</span><span class="params">(<span class="number">1</span>,<span class="number">2</span>)</span>,<span class="title">a2</span><span class="params">(<span class="number">2</span>,<span class="number">3</span>)</span>,a3</span>;</span><br><span class="line">    a3=a1+a2;<span class="comment">//å…ˆè°ƒç”¨ç±»å‹è½¬åŒ–å‡½æ•°ï¼Œåœ¨è°ƒç”¨è½¬åŒ–æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è™šå‡½æ•°">è™šå‡½æ•°</h3>
<p>è™šå‡½æ•°æ˜¯é‡è½½çš„å¦ä¸€ç§è¡¨ç°å½¢å¼ã€‚è¿™æ˜¯ä¸€ç§åŠ¨æ€çš„é‡è½½æ–¹å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§æ›´ä¸ºçµæ´»çš„è¿è¡Œæ—¶çš„å¤šæ€æ€§æœºåˆ¶ã€‚å±äºåŠ¨æ€è”ç¼–</p>
<p>åŸæ¥ï¼Œåœ¨C++ä¸­è§„å®šï¼š<u>åŸºç±»çš„å¯¹è±¡æŒ‡é’ˆ</u>å¯ä»¥æŒ‡å‘å®ƒçš„å…¬æœ‰æ´¾ç”Ÿçš„å¯¹è±¡ï¼Œä½†æ˜¯å½“å…¶æŒ‡å‘å…¬æœ‰æ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œå®ƒ<u><font color='red'>åªèƒ½è®¿é—®æ´¾ç”Ÿç±»ä¸­ä»åŸºç±»ç»§æ‰¿æ¥çš„æˆå‘˜</font></u>ï¼Œè€Œ<u>ä¸èƒ½è®¿é—®å…¬æœ‰æ´¾ç”Ÿç±»ä¸­å®šä¹‰çš„æˆ</u>å‘˜ã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">a</span>&#123;</span></span><br><span class="line">    print1();</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">b</span>:</span><span class="keyword">public</span> a&#123;</span><br><span class="line">    print2()</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    a *p=&amp;b;</span><br><span class="line">    p-&gt;print1();<span class="comment">//æ­£ç¡®</span></span><br><span class="line">    p-&gt;print2();<span class="comment">//é”™è¯¯</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥é€šè¿‡åŸºç±»çš„<font color='red'>æŒ‡é’ˆ</font>æˆ–è€…<font color='red'>å¼•ç”¨</font>æ¥è®¿é—®åŒåå‡½æ•°ï¼Œåœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰æ—¶ï¼Œå…¶å‡½æ•°åŸå‹ï¼ŒåŒ…æ‹¬å‡½æ•°ç±»å‹ã€å‡½æ•°åã€å‚æ•°ä¸ªæ•°ã€å‚æ•°ç±»å‹çš„é¡ºåºï¼Œéƒ½å¿…é¡»ä¸åŸºç±»ä¸­çš„åŸå‹å®Œå…¨ç›¸åŒã€‚ä¸ä¸€æ ·çš„è¯å°†ç›´æ¥è°ƒç”¨åŸºç±»çš„è™šå‡½æ•°</p>
<p>ï¼ˆ1ï¼‰è‹¥åœ¨åŸºç±»ä¸­ï¼Œåªå£°æ˜è™šå‡½æ•°åŸå‹ï¼ˆéœ€åŠ ä¸Š
virtualï¼‰ï¼Œè€Œåœ¨ç±»å¤–å®šä¹‰è™šå‡½æ•°æ—¶ï¼Œåˆ™ä¸å¿…å†åŠ  virtual</p>
<p>ï¼ˆ2ï¼‰<code>virtual</code>å¯å†™å¯ä¸å†™ï¼Œåœ¨å­ç±»ä¸­</p>
<p>ï¼ˆ3ï¼‰å¦‚æœè™šå‡½æ•°æ²¡æœ‰è¢«é‡æ–°å®šä¹‰ï¼Œåˆ™è‡ªæ¥ç»§æ‰¿çˆ¶ç±»è™šå‡½æ•°</p>
<p>ï¼ˆ3ï¼‰è™šå‡½æ•°<font color='red'>å¿…é¡»æ˜¯ç±»çš„æˆå‘˜å‡½æ•°</font>ï¼Œ<font color='red'>ä¸èƒ½æ˜¯å‹å…ƒå‡½æ•°</font>ï¼Œä¸èƒ½æ˜¯é™æ€å‡½æ•°</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¼•ç”¨è°ƒç”¨è™šå‡½æ•°</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">a</span>&#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">b</span>ï¼š<span class="title">public</span> <span class="title">a</span>&#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    a &amp;qq=b;</span><br><span class="line">    a.print();<span class="comment">//å…·æœ‰è™šå‡½æ•°çš„ç‰¹ç‚¹ï¼Œè°ƒç”¨class bçš„å‡½æ•°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>è™šææ„å‡½æ•°</li>
</ul>
<p>ä¸èƒ½å£°æ˜è™šæ„é€ å‡½æ•°ï¼Œä½†æ˜¯å¯ä»¥å£°æ˜è™šææ„å‡½æ•°ï¼Œè‹¥æ˜¯æŒ‰ç…§ä¸Šé¢çš„aï¼Œbä¸¤ä¸ªç±»</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    b obj;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;<span class="comment">//å³è°ƒç”¨å…ˆè°ƒç”¨bçš„ææ„ï¼Œåœ¨è°ƒç”¨açš„ææ„</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    a *p;</span><br><span class="line">    p=<span class="keyword">new</span> b;</span><br><span class="line">    <span class="keyword">delete</span> p;<span class="comment">//åªè°ƒç”¨açš„ææ„ï¼Œä¸è°ƒç”¨bçš„ææ„</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½¿ç”¨è™šææ„å‡½æ•°ï¼Œåˆ™å¯ä»¥è¾¾åˆ°å…ˆè°ƒç”¨bçš„ææ„ï¼Œå†è°ƒç”¨açš„ææ„</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">a&#123;</span><br><span class="line">    <span class="keyword">virtual</span> ~a()&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    a *p;</span><br><span class="line">    p=<span class="keyword">new</span> b;</span><br><span class="line">    <span class="keyword">delete</span> p;<span class="comment">//å…ˆè°ƒç”¨bçš„ææ„ï¼Œåœ¨è°ƒç”¨açš„ææ„</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è™šå‡½æ•°æ˜¯å‡½æ•°é‡è½½çš„å¦ä¸€ç§å½¢å¼ï¼Œä½†å®ƒä¸åŒäºä¸€èˆ¬çš„å‡½æ•°é‡è½½ã€‚</p>
<p>æ™®é€šçš„å‡½æ•°é‡è½½ï¼šå…¶å‡½æ•°çš„å‚æ•°æˆ–å‚æ•°ç±»å‹å¿…é¡»æœ‰æ‰€ä¸åŒï¼Œå‡½æ•°çš„è¿”å›ç±»å‹ä¹Ÿå¯ä»¥ä¸åŒã€‚</p>
<p>è™šå‡½æ•°ï¼šè¦æ±‚å‡½æ•°åã€<font color='red'>è¿”å›ç±»å‹</font>ã€å‚æ•°ä¸ªæ•°ã€å‚æ•°çš„ç±»å‹å’Œé¡ºåºä¸åŸºç±»ä¸­çš„è™šå‡½æ•°åŸå‹å®Œå…¨ç›¸åŒã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">a</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">ab</span><span class="params">()</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function">class b:<span class="keyword">public</span> a</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">ab</span><span class="params">()</span><span class="comment">//æ™®é€šå‡½æ•°é‡è½½ï¼Œç›¸å½“äºå‡½æ•°é‡å†™</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>çº¯è™šå‡½æ•°ä¸æŠ½è±¡ç±»</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">area</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ1ï¼‰ä¸èƒ½å»ºç«‹æŠ½è±¡ç±»å¯¹è±¡ï¼Œåªèƒ½ä½œä¸ºåŸºç±»</p>
<p>ï¼ˆ2ï¼‰å¯ä»¥å®šä¹‰æŒ‡é’ˆï¼ŒæŒ‡å‘å­ç±»ï¼Œ<font color='red'>ä¸èƒ½ä½œä¸ºå‚æ•°ç±»å‹ï¼Œå‡½æ•°è¿”å›ç±»å‹</font></p>
<h3 id="é—®é¢˜">é—®é¢˜</h3>
<p>1ã€ä»€ä¹ˆæ˜¯åŠ¨æ€è”ç¼–å’Œé™æ€è”ç¼–ï¼Ÿ</p>
<p>â€‹
é™æ€è”ç¼–æ˜¯æŒ‡<font color='red'>ç³»ç»Ÿåœ¨ç¼–è¯‘æ—¶å°±å†³å®šå¦‚ä½•å®ç°æŸä¸€åŠ¨ä½œ</font>ã€‚é™æ€è”ç¼–è¦æ±‚åœ¨ç¨‹åºç¼–è¯‘æ—¶å°±çŸ¥é“è°ƒç”¨å‡½æ•°çš„å…¨éƒ¨ä¿¡æ¯ï¼Œå› æ­¤ï¼Œè¿™ç§è”ç¼–ç±»å‹çš„<font color='red'>å‡½æ•°è°ƒç”¨é€Ÿåº¦å¾ˆå¿«ã€‚æ•ˆç‡é«˜</font>æ˜¯é™æ€è”ç¼–çš„ä¸»è¦ä¼˜ç‚¹ã€‚
â€‹
åŠ¨æ€è”ç¼–æ˜¯æŒ‡<font color='red'>ç³»ç»Ÿåœ¨è¿è¡Œæ—¶åŠ¨æ€å®ç°æŸä¸€åŠ¨ä½œ</font>ã€‚é‡‡ç”¨è¿™ç§è”ç¼–æ–¹å¼ï¼Œä¸€ç›´è¦åˆ°ç¨‹åºè¿è¡Œæ—¶æ‰èƒ½ç¡®å®šè°ƒç”¨å“ªä¸ªå‡½æ•°ã€‚åŠ¨æ€è”ç¼–çš„ä¸»è¦ä¼˜ç‚¹æ˜¯ï¼š<font color='red'>æä¾›äº†æ›´å¥½çš„çµæ´»æ€§ã€é—®é¢˜æŠ½è±¡æ€§å’Œç¨‹åºæ˜“ç»´æŠ¤æ€§</font>ã€‚</p>
<p>2ã€ç¼–è¯‘æ—¶çš„å¤šæ€æ€§ä¸è¿è¡Œæ—¶çš„å¤šæ€æ€§æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå®ƒä»¬çš„å®ç°æ–¹æ³•æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</p>
<p>ã€è§£ã€‘<font color='red'>é™æ€è”ç¼–æ”¯æŒçš„å¤šæ€æ€§ç§°ä¸ºç¼–è¯‘æ—¶å¤šæ€æ€§</font>ï¼Œä¹Ÿç§°é™æ€å¤šæ€æ€§ã€‚åœ¨C++ä¸­ï¼Œ<font color='red'>ç¼–è¯‘æ—¶å¤šæ€æ€§æ˜¯é€šè¿‡å‡½æ•°é‡è½½ï¼ˆåŒ…æ‹¬è¿ç®—ç¬¦é‡è½½ï¼‰å’Œæ¨¡æ¿å®ç°çš„</font>ã€‚åˆ©ç”¨å‡½æ•°é‡è½½æœºåˆ¶ï¼Œåœ¨è°ƒç”¨åŒåçš„å‡½æ•°æ—¶ï¼Œç¼–è¯‘ç³»ç»Ÿå¯æ ¹æ®å®å‚çš„å…·ä½“æƒ…å†µç¡®ç«‹æ‰€è¦è°ƒç”¨çš„æ˜¯å“ªä¸ªå‡½æ•°</p>
<p>â€‹
<font color='red'>åŠ¨æ€è”ç¼–æ‰€æ”¯æŒçš„å¤šæ€æ€§ç§°ä¸ºè¿è¡Œæ—¶å¤šæ€æ€§</font>ï¼Œä¹Ÿç§°åŠ¨æ€å¤šæ€æ€§ã€‚åœ¨C++ä¸­ï¼Œè¿è¡Œæ—¶<font color='red'>å¤šæ€æ€§æ˜¯é€šè¿‡è™šå‡½æ•°</font>æ¥å®ç°çš„ã€‚</p>
<p>3ã€ç®€è¿°è¿ç®—ç¬¦é‡è½½çš„è§„åˆ™ã€‚</p>
<p>ã€è§£ã€‘C++è¯­è¨€å¯¹è¿ç®—ç¬¦é‡è½½åˆ¶å®šäº†ä»¥ä¸‹ä¸€äº›è§„åˆ™ï¼š</p>
<p>ï¼ˆ1ï¼‰C++ä¸­ç»å¤§éƒ¨åˆ†çš„è¿ç®—ç¬¦å…è®¸é‡è½½ï¼Œä¸èƒ½é‡è½½çš„è¿ç®—ç¬¦åªæœ‰å°‘æ•°å‡ ä¸ªã€‚</p>
<p>ï¼ˆ2ï¼‰C++è¯­è¨€ä¸­åªèƒ½å¯¹å·²æœ‰çš„C++è¿ç®—ç¬¦è¿›è¡Œé‡è½½ï¼Œä¸å…è®¸ç”¨æˆ·è‡ªå·±å®šä¹‰æ–°çš„è¿ç®—ç¬¦ã€‚</p>
<p>ï¼ˆ3ï¼‰è¿ç®—ç¬¦é‡è½½æ˜¯é’ˆå¯¹æ–°ç±»å‹æ•°æ®çš„å®é™…éœ€è¦ï¼Œå¯¹åŸæœ‰è¿ç®—ç¬¦è¿›è¡Œé€‚å½“çš„æ”¹é€ å®Œæˆçš„ã€‚ä¸€èˆ¬æ¥è®²ï¼Œé‡è½½çš„åŠŸèƒ½åº”å½“ä¸åŸæœ‰çš„åŠŸèƒ½ç›¸ç±»ä¼¼ï¼ˆå¦‚ç”¨â€œ+â€å®ç°åŠ æ³•ï¼Œç”¨â€œ-â€å®ç°å‡æ³•ï¼‰</p>
<p>ï¼ˆ4ï¼‰é‡è½½ä¸èƒ½æ”¹å˜è¿ç®—ç¬¦çš„æ“ä½œå¯¹è±¡ï¼ˆå³æ“ä½œæ•°ï¼‰çš„ä¸ªæ•°ã€‚</p>
<p>ï¼ˆ5ï¼‰é‡è½½ä¸èƒ½æ”¹å˜è¿ç®—ç¬¦åŸæœ‰çš„ä¼˜å…ˆçº§ã€‚</p>
<p>ï¼ˆ6ï¼‰é‡è½½ä¸èƒ½æ”¹å˜è¿ç®—ç¬¦åŸæœ‰çš„ç»“åˆç‰¹æ€§ã€‚</p>
<p>ï¼ˆ7ï¼‰è¿ç®—ç¬¦é‡è½½å‡½æ•°çš„<font color='red'>å‚æ•°è‡³å°‘åº”æœ‰ä¸€ä¸ªæ˜¯ç±»å¯¹è±¡</font>ï¼ˆæˆ–ç±»å¯¹è±¡çš„å¼•ç”¨ï¼‰ã€‚</p>
<p>ï¼ˆ8ï¼‰è¿ç®—ç¬¦é‡è½½å‡½æ•°å¯ä»¥æ˜¯æ™®é€šå‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ç±»çš„æˆå‘˜å‡½æ•°ï¼Œè¿˜å¯ä»¥æ˜¯ç±»çš„å‹å…ƒå‡½æ•°ã€‚</p>
<p>ï¼ˆ9ï¼‰ä¸€èˆ¬è€Œè¨€ï¼Œç”¨äºç±»å¯¹è±¡çš„è¿ç®—ç¬¦å¿…é¡»é‡è½½ï¼Œä½†æ˜¯èµ‹å€¼è¿ç®—ç¬¦â€œ=â€ä¾‹å¤–ï¼Œä¸å¿…ç”¨æˆ·è¿›è¡Œé‡è½½ã€‚ä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¾‹å¦‚æ•°æ®æˆå‘˜ä¸­åŒ…å«æŒ‡å‘åŠ¨æ€åˆ†é…å†…å­˜çš„æŒ‡é’ˆæˆå‘˜æ—¶ï¼Œä½¿ç”¨ç³»ç»Ÿæä¾›çš„å¯¹è±¡èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°å°±ä¸èƒ½æ»¡è¶³ç¨‹åºçš„è¦æ±‚ï¼Œåœ¨èµ‹å€¼æ—¶å¯èƒ½å‡ºç°é”™è¯¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°±éœ€è¦ç”¨æˆ·è‡ªå·±ç¼–å†™èµ‹å€¼è¿ç®—ç¬¦é‡è½½å‡½æ•°ã€‚</p>
<p>ã€5.4ã€‘å‹å…ƒè¿ç®—ç¬¦é‡è½½å‡½æ•°å’Œæˆå‘˜è¿ç®—ç¬¦é‡è½½å‡½æ•°æœ‰ä»€ä¹ˆä¸åŒ</p>
<p>ã€è§£ã€‘å‹å…ƒè¿ç®—ç¬¦é‡è½½å‡½æ•°å’Œæˆå‘˜è¿ç®—ç¬¦é‡è½½å‡½æ•°çš„ä¸åŒæœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š
ï¼ˆ1ï¼‰å¯¹åŒç›®è¿ç®—ç¬¦è€Œè¨€ï¼Œæˆå‘˜è¿ç®—ç¬¦é‡è½½å‡½æ•°å‚æ•°è¡¨ä¸­å«æœ‰ä¸€ä¸ªå‚æ•°ï¼Œè€Œå‹å…ƒè¿ç®—ç¬¦é‡è½½å‡½æ•°å‚æ•°è¡¨ä¸­å«æœ‰ä¸¤ä¸ªå‚æ•°ï¼›å¯¹å•ç›®è¿ç®—ç¬¦è€Œè¨€ï¼Œæˆå‘˜è¿ç®—ç¬¦é‡è½½å‡½æ•°å‚æ•°è¡¨ä¸­æ²¡æœ‰å‚æ•°ï¼Œè€Œå‹å…ƒè¿ç®—ç¬¦é‡è½½å‡½æ•°å‚æ•°è¡¨ä¸­å«æœ‰ä¸€ä¸ªå‚æ•°
ï¼ˆ2ï¼‰åŒç›®è¿ç®—ç¬¦ä¸€èˆ¬å¯ä»¥è¢«é‡è½½ä¸ºå‹å…ƒè¿ç®—ç¬¦é‡è½½å‡½æ•°æˆ–æˆå‘˜è¿ç®—ç¬¦é‡è½½å‡½æ•°ï¼Œä½†æœ‰äº›æƒ…å†µï¼Œå¿…é¡»ä½¿ç”¨å‹å…ƒè¿ç®—ç¬¦é‡è½½å‡½æ•°ï¼Œä¾‹å¦‚ä¸€ä¸ªå¸¸æ•°ä¸ä¸€ä¸ªå¯¹è±¡ç›¸åŠ ã€‚æœ‰çš„è¿ç®—ç¬¦ï¼ˆå¦‚=ç­‰ï¼‰åªèƒ½ä½¿ç”¨æˆå‘˜è¿ç®—ç¬¦é‡è½½å‡½æ•°</p>
<p>ï¼ˆ3ï¼‰æˆå‘˜è¿ç®—ç¬¦å‡½æ•°å’Œå‹å…ƒè¿ç®—ç¬¦å‡½æ•°éƒ½å¯ä»¥ç”¨ä¹ æƒ¯æ–¹å¼è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨å®ƒä»¬ä¸“ç”¨çš„æ–¹å¼è°ƒç”¨ã€‚</p>
<p>ã€5.5ã€‘ä»€ä¹ˆæ˜¯è™šå‡½æ•°ï¼Ÿè™šå‡½æ•°ä¸å‡½æ•°é‡è½½æœ‰å“ªäº›ç›¸åŒç‚¹ä¸ä¸åŒç‚¹ï¼Ÿ</p>
<p>ã€è§£ã€‘è™šå‡½æ•°å°±æ˜¯åœ¨åŸºç±»ä¸­è¢«å…³é”®å­—
virtualè¯´æ˜ï¼Œå¹¶åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰çš„å‡½æ•°ã€‚è™šå‡½æ•°çš„ä½œç”¨æ˜¯å…è®¸åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰ä¸åŸºç±»åŒåçš„å‡½æ•°ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨æ¥è®¿é—®åŸºç±»å’Œæ´¾ç”Ÿç±»ä¸­çš„åŒåå‡½æ•°ã€‚</p>
<p>â€‹
åœ¨ä¸€ä¸ªæ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰åŸºç±»çš„è™šå‡½æ•°æ˜¯å‡½æ•°é‡è½½çš„å¦ä¸€ç§å½¢å¼ï¼Œä½†å®ƒä¸åŒäºä¸€èˆ¬çš„å‡½æ•°é‡è½½ã€‚å½“æ™®é€šçš„å‡½æ•°é‡è½½æ—¶ï¼Œå…¶å‡½æ•°çš„å‚æ•°æˆ–å‚æ•°ç±»å‹å¿…é¡»æœ‰æ‰€ä¸åŒï¼Œå‡½æ•°çš„è¿”å›ç±»å‹ä¹Ÿå¯ä»¥ä¸åŒã€‚ä½†æ˜¯ï¼Œå½“é‡è½½ä¸€ä¸ªè™šå‡½æ•°æ—¶ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰è™šå‡½æ•°æ—¶ï¼Œè¦æ±‚å‡½æ•°åã€è¿”å›ç±»å‹ã€å‚æ•°ä¸ªæ•°ã€å‚æ•°çš„ç±»å‹å’Œé¡ºåºä¸åŸºç±»ä¸­çš„è™šå‡½æ•°åŸå‹å®Œå…¨ç›¸åŒã€‚å¦‚æœä»…ä»…è¿”å›ç±»å‹ä¸åŒï¼Œå…¶ä½™å‡ç›¸åŒï¼Œç³»ç»Ÿä¼šç»™å‡ºé”™è¯¯ä¿¡æ¯ï¼›è‹¥ä»…ä»…å‡½æ•°åç›¸åŒï¼Œè€Œå‚æ•°çš„ä¸ªæ•°ã€ç±»å‹æˆ–é¡ºåºä¸åŒï¼Œç³»ç»Ÿå°†å®ƒä½œä¸ºæ™®é€šçš„å‡½æ•°é‡è½½ï¼Œè¿™æ—¶è™šå‡½æ•°çš„ç‰¹æ€§å°†ä¸¢å¤±</p>
<p>ã€5.6ã€‘ä»€ä¹ˆæ˜¯çº¯è™šå‡½æ•°ï¼Ÿä»€ä¹ˆæ˜¯æŠ½è±¡ç±»ï¼Ÿ</p>
<p>ã€è§£ã€‘çº¯è™šå‡½æ•°æ˜¯ä¸€ä¸ªåœ¨åŸºç±»ä¸­è¯´æ˜çš„è™šå‡½æ•°ï¼Œå®ƒåœ¨è¯¥åŸºç±»ä¸­æ²¡æœ‰å®šä¹‰ï¼Œä½†è¦æ±‚åœ¨å®ƒçš„æ´¾ç”Ÿç±»ä¸­å®šä¹‰è‡ªå·±çš„ç‰ˆæœ¬ï¼Œæˆ–é‡æ–°è¯´æ˜ä¸ºçº¯è™šå‡½æ•°ã€‚</p>
<p>â€‹
å£°æ˜çº¯è™šå‡½æ•°çš„ä¸€èˆ¬å½¢å¼å¦‚ä¸‹ï¼š<code>virtual å‡½æ•°ç±»å‹ å‡½æ•°åï¼ˆå‚æ•°è¡¨ï¼‰=0</code>ï¼›çº¯è™šå‡½æ•°çš„ä½œç”¨æ˜¯åœ¨åŸºç±»ä¸­ä¸ºå…¶æ´¾ç”Ÿç±»ä¿ç•™ä¸€ä¸ªå‡½æ•°çš„åå­—ï¼Œä»¥ä¾¿æ´¾ç”Ÿç±»æ ¹æ®éœ€è¦å¯¹å®ƒè¿›è¡Œé‡æ–°å®šä¹‰ã€‚çº¯è™šå‡½æ•°æ²¡æœ‰å‡½æ•°ä½“ï¼Œå®ƒæœ€åé¢çš„â€œ=0â€å¹¶ä¸è¡¨ç¤ºå‡½æ•°çš„è¿”å›å€¼ä¸º0ï¼Œè€Œåªèµ·å½¢å¼ä¸Šçš„ä½œç”¨ï¼Œå‘Šè¯‰ç¼–è¯‘ç³»ç»Ÿâ€œè¿™æ˜¯çº¯è™šå‡½æ•°â€ã€‚çº¯è™šå‡½æ•°ä¸å…·å¤‡å‡½æ•°çš„åŠŸèƒ½ï¼Œä¸èƒ½è¢«è°ƒç”¨ã€‚</p>
<ul>
<li>å½“çˆ¶ç±»çš„æ„é€ å‡½æ•°ä¸ºç©ºæ—¶ï¼Œå¯ä»¥ä¸ç”¨åœ¨å­ç±»æ„é€ ä¸­è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œå®é™…ä¸Šç³»ç»Ÿä¼šé»˜è®¤è°ƒç”¨ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
  </entry>
  <entry>
    <title>ä»Šæ—¥æ ¡å›­</title>
    <url>/2021/01/22/todaycomplus/</url>
    <content><![CDATA[<p>è®¨åŒç­¾åˆ°ï¼ŸåŠ¨ä¸ªæ­ªè„‘ç­‹å§ğŸ˜‚</p>
<span id="more"></span>
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>â€‹
æ€»çš„æ¥è¯´ï¼Œæˆ‘å·²ç»æ˜¯ç¬¬äºŒæ¬¡ç–«æƒ…åœ¨å®¶äº†ï¼Œæœ¬äººçš„è®°æ€§ä¸€ç›´éƒ½ä¸å¤ªå¥½ï¼Œå»å¹´å¯’å‡çš„æ—¶å€™ï¼Œæ¯å¤©è¿˜æœ‰ä¸€ä½çƒ­å¿ƒçš„å§å§æ¯å¤©æ‰“ç”µè¯é—®å€™æˆ‘ï¼Œæˆ‘åˆ°ç°åœ¨éƒ½ååˆ†æ„Ÿè°¢é‚£ä½ç»™æˆ‘æ‰“äº†ä¸€ä¸ªå¯’å‡+ä¸€ä¸ªå­¦æœŸç”µè¯çš„å§å§ï¼Œä½†æ˜¯ç°åœ¨ï¼Œç”±äºå§å§ä¸èƒ½å†ç»§ç»­æé†’æˆ‘äº†ï¼Œä½†æ˜¯è¿™ä¸ªè®°æ€§ä¾ç„¶è¿˜æ˜¯å¾ˆçƒ‚å‘€ï¼Œè€Œä¸”æˆ‘ä»¬å­¦æ ¡æ¯å¤©éœ€è¦å¡«å†™çš„ä¿¡æ¯éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ²¡åŠæ³•ï¼Œåªèƒ½åœ¨ç½‘ä¸Šæœç´¢äº†ä¸€ä¸‹æ•™ç¨‹ï¼Œç»ˆäºæ‰¾åˆ°äº†ä¸€ä¸ªä¸ä¹‹ç›¸å…³çš„GitHubé¡¹ç›®â€”â€”<a
href="https://github.com/ZimoLoveShuang/auto-submit">auto-submit</a></p>
<!-- more -->
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210122211835.png" /></p>
<p>ä»ä¸Šä¼ çš„æ—¶é—´æ¥çœ‹ï¼Œè¿™ä¸ªé¡¹ç›®å·²ç»æœ‰äº†å¤§åŠå¹´äº†ï¼Œè€Œä¸”æœ‰400
starï¼Œæ¯«ä¸çŠ¹è±«é€‰æ‹©è¿™ä¸ªï¼Œè¿™ç¯‡æ–‡ç« å°†ä¼šåˆ†ä¸ºä¸¤ä¸ªç›®çš„æ¥ç»™å¤§å®¶ä»‹ç»ï¼Œä¸€ä¸ªæ˜¯å°ç™½ä¸Šæ‰‹ï¼Œå¦ä¸€éƒ¨åˆ†åˆ™æ˜¯åˆ†äº«æˆ‘æ•´ä¸ªçš„ç»å†</p>
<h2 id="å°ç™½ä¸Šæ‰‹">å°ç™½ä¸Šæ‰‹</h2>
<p>â€‹ é¦–å…ˆæ³¨å†Œæœç´¢å¹¶æ³¨å†Œè…¾è®¯äº‘</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210122213427.png" /></p>
<p>ç„¶åè¿›å…¥äº‘å‡½æ•°</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210122213505.png" /></p>
<p>è¿›å…¥å‡½æ•°æœåŠ¡å¹¶ä¸”æ–°å»ºå»ºäº‘å‡½æ•°ï¼Œè‡ªå®šä¹‰å¹¶ä¸”é€‰æ‹©python 3.6</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210122213924.png" /></p>
<p>é¼ æ ‡ç»§ç»­å¾€ä¸‹æ»‘ï¼Œå°†è¿™é‡Œæ‰§è¡Œè¶…æ—¶æ”¹æˆ60s</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210122214259.png" /></p>
<p>å®Œæˆå³å¯ï¼Œå¦‚æ³•ç‚®åˆ¶ï¼Œæ–°å»ºä¸€ä¸ªå±‚ï¼Œéšä¾¿è¾“å…¥ä¸€ä¸ªåç§°ï¼Œæäº¤æ–¹æ³•ä¸ºé»˜è®¤ï¼ˆæœ¬åœ°ä¸Šä¼ zipï¼‰å¹¶ä¸”å°†<a
href="https://ninglang.lanzous.com/i6nL3kpg1kh">dependency</a>
(ç‚¹å‡»å³å¯ä¸‹è½½)ï¼Œæ·»åŠ  python3.6 çš„è¿è¡Œç¯å¢ƒ</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210122215107.png" /></p>
<p>æ‰¾åˆ°åˆšæ‰çš„å‡½æ•°æœåŠ¡ï¼Œè¿›å…¥åˆšåˆšåˆ›å»ºçš„åˆ›å»ºå‡½æ•°ï¼Œæ¸…ç©ºå…¶ä¸­çš„ä»£ç å¹¶ä¸”å°†ä¸‹é¢çš„ä»£ç å¤åˆ¶åˆ°å…¶ä¸­å¹¶ä¸”ä¿å­˜</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210122215436.png" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> yaml</span><br><span class="line"><span class="keyword">import</span> oss2</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlparse</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime, timedelta, timezone</span><br><span class="line"><span class="keyword">from</span> urllib3.exceptions <span class="keyword">import</span> InsecureRequestWarning</span><br><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</span><br><span class="line"><span class="keyword">from</span> email.utils <span class="keyword">import</span> formataddr</span><br><span class="line"></span><br><span class="line"><span class="comment"># debugæ¨¡å¼</span></span><br><span class="line">debug = <span class="literal">False</span></span><br><span class="line"><span class="keyword">if</span> debug:</span><br><span class="line">    requests.packages.urllib3.disable_warnings(InsecureRequestWarning)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–ymlé…ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getYmlConfig</span>(<span class="params">yaml_file=<span class="string">&#x27;config.yml&#x27;</span></span>):</span></span><br><span class="line">    file = <span class="built_in">open</span>(yaml_file, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">    file_data = file.read()</span><br><span class="line">    file.close()</span><br><span class="line">    config = yaml.load(file_data, Loader=yaml.FullLoader)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">dict</span>(config)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¨å±€é…ç½®</span></span><br><span class="line">config = getYmlConfig(yaml_file=<span class="string">&#x27;config.yml&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ä»Šæ—¥æ ¡å›­api</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getCpdailyApis</span>(<span class="params">user</span>):</span></span><br><span class="line">    apis = &#123;&#125;</span><br><span class="line">    user = user[<span class="string">&#x27;user&#x27;</span>]</span><br><span class="line">    schools = requests.get(</span><br><span class="line">        url=<span class="string">&#x27;https://static.campushoy.com/apicache/tenantListSort&#x27;</span>, verify=<span class="keyword">not</span> debug).json()[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line">    flag = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> schools:</span><br><span class="line">        new=item[<span class="string">&#x27;datas&#x27;</span>]</span><br><span class="line">        <span class="keyword">for</span> one <span class="keyword">in</span> new:</span><br><span class="line">            <span class="comment">#print(one)</span></span><br><span class="line">            <span class="keyword">if</span> one[<span class="string">&#x27;name&#x27;</span>] == user[<span class="string">&#x27;school&#x27;</span>]:</span><br><span class="line">                flag = <span class="literal">False</span></span><br><span class="line">                params = &#123;</span><br><span class="line">                    <span class="string">&#x27;ids&#x27;</span>: one[<span class="string">&#x27;id&#x27;</span>]</span><br><span class="line">                &#125;</span><br><span class="line">                res = requests.get(url=<span class="string">&#x27;https://mobile.campushoy.com/v6/config/guest/tenant/info&#x27;</span>, params=params,</span><br><span class="line">                                   verify=<span class="keyword">not</span> debug)</span><br><span class="line">                data = res.json()[<span class="string">&#x27;data&#x27;</span>][<span class="number">0</span>]</span><br><span class="line">                joinType = data[<span class="string">&#x27;joinType&#x27;</span>]</span><br><span class="line">                idsUrl = data[<span class="string">&#x27;idsUrl&#x27;</span>]</span><br><span class="line">                ampUrl = data[<span class="string">&#x27;ampUrl&#x27;</span>]</span><br><span class="line">                <span class="keyword">if</span> <span class="string">&#x27;campusphere&#x27;</span> <span class="keyword">in</span> ampUrl <span class="keyword">or</span> <span class="string">&#x27;cpdaily&#x27;</span> <span class="keyword">in</span> ampUrl:</span><br><span class="line">                    parse = urlparse(ampUrl)</span><br><span class="line">                    host = parse.netloc</span><br><span class="line">                    res = requests.get(parse.scheme + <span class="string">&#x27;://&#x27;</span> + host)</span><br><span class="line">                    parse = urlparse(res.url)</span><br><span class="line">                    apis[</span><br><span class="line">                        <span class="string">&#x27;login-url&#x27;</span>] = idsUrl + <span class="string">&#x27;/login?service=&#x27;</span> + parse.scheme + <span class="string">r&quot;%3A%2F%2F&quot;</span> + host + <span class="string">r&#x27;%2Fportal%2Flogin&#x27;</span></span><br><span class="line">                    apis[<span class="string">&#x27;host&#x27;</span>] = host</span><br><span class="line"></span><br><span class="line">                ampUrl2 = data[<span class="string">&#x27;ampUrl2&#x27;</span>]</span><br><span class="line">                <span class="keyword">if</span> <span class="string">&#x27;campusphere&#x27;</span> <span class="keyword">in</span> ampUrl2 <span class="keyword">or</span> <span class="string">&#x27;cpdaily&#x27;</span> <span class="keyword">in</span> ampUrl2:</span><br><span class="line">                    parse = urlparse(ampUrl2)</span><br><span class="line">                    host = parse.netloc</span><br><span class="line">                    res = requests.get(parse.scheme + <span class="string">&#x27;://&#x27;</span> + host)</span><br><span class="line">                    parse = urlparse(res.url)</span><br><span class="line">                    apis[</span><br><span class="line">                        <span class="string">&#x27;login-url&#x27;</span>] = idsUrl + <span class="string">&#x27;/login?service=&#x27;</span> + parse.scheme + <span class="string">r&quot;%3A%2F%2F&quot;</span> + host + <span class="string">r&#x27;%2Fportal%2Flogin&#x27;</span></span><br><span class="line">                    apis[<span class="string">&#x27;host&#x27;</span>] = host</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">if</span> flag:</span><br><span class="line">        log(user[<span class="string">&#x27;school&#x27;</span>] + <span class="string">&#x27; æœªæ‰¾åˆ°è¯¥é™¢æ ¡ä¿¡æ¯ï¼Œè¯·æ£€æŸ¥æ˜¯å¦æ˜¯å­¦æ ¡å…¨ç§°é”™è¯¯&#x27;</span>)</span><br><span class="line">        exit(-<span class="number">1</span>)</span><br><span class="line">    log(apis)</span><br><span class="line">    <span class="keyword">return</span> apis</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å½“å‰utcæ—¶é—´ï¼Œå¹¶æ ¼å¼åŒ–ä¸ºåŒ—äº¬æ—¶é—´</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getTimeStr</span>():</span></span><br><span class="line">    utc_dt = datetime.utcnow().replace(tzinfo=timezone.utc)</span><br><span class="line">    bj_dt = utc_dt.astimezone(timezone(timedelta(hours=<span class="number">8</span>)))</span><br><span class="line">    <span class="keyword">return</span> bj_dt.strftime(<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºè°ƒè¯•ä¿¡æ¯ï¼Œå¹¶åŠæ—¶åˆ·æ–°ç¼“å†²åŒº</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">log</span>(<span class="params">content</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(getTimeStr() + <span class="string">&#x27; &#x27;</span> + <span class="built_in">str</span>(content))</span><br><span class="line">    sys.stdout.flush()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç™»é™†å¹¶è¿”å›session</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getSession</span>(<span class="params">user, loginUrl</span>):</span></span><br><span class="line">    user = user[<span class="string">&#x27;user&#x27;</span>]</span><br><span class="line">    params = &#123;</span><br><span class="line">        <span class="string">&#x27;login_url&#x27;</span>: loginUrl,</span><br><span class="line">        <span class="comment"># ä¿è¯å­¦å·¥å·å’Œå¯†ç æ­£ç¡®ä¸‹é¢ä¸¤é¡¹å°±ä¸éœ€è¦é…ç½®</span></span><br><span class="line">        <span class="string">&#x27;needcaptcha_url&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;captcha_url&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;username&#x27;</span>: user[<span class="string">&#x27;username&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;password&#x27;</span>: user[<span class="string">&#x27;password&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cookies = &#123;&#125;</span><br><span class="line">    <span class="comment"># å€ŸåŠ©ä¸Šä¸€ä¸ªé¡¹ç›®å¼€æ”¾å‡ºæ¥çš„ç™»é™†APIï¼Œæ¨¡æ‹Ÿç™»é™†</span></span><br><span class="line">    res = requests.post(config[<span class="string">&#x27;login&#x27;</span>][<span class="string">&#x27;api&#x27;</span>], params, verify=<span class="keyword">not</span> debug)</span><br><span class="line">    cookieStr = <span class="built_in">str</span>(res.json()[<span class="string">&#x27;cookies&#x27;</span>])</span><br><span class="line">    log(cookieStr)</span><br><span class="line">    <span class="keyword">if</span> cookieStr == <span class="string">&#x27;None&#x27;</span>:</span><br><span class="line">        log(res.json())</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è§£æcookie</span></span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> cookieStr.split(<span class="string">&#x27;;&#x27;</span>):</span><br><span class="line">        name, value = line.strip().split(<span class="string">&#x27;=&#x27;</span>, <span class="number">1</span>)</span><br><span class="line">        cookies[name] = value</span><br><span class="line">    session = requests.session()</span><br><span class="line">    session.cookies = requests.utils.cookiejar_from_dict(cookies)</span><br><span class="line">    <span class="keyword">return</span> session</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥è¯¢è¡¨å•</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">queryForm</span>(<span class="params">session, apis</span>):</span></span><br><span class="line">    host = apis[<span class="string">&#x27;host&#x27;</span>]</span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;application/json, text/plain, */*&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Linux; Android 4.4.4; OPPO R11 Plus Build/KTU84P) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/33.0.0.0 Safari/537.36 yiban/8.1.11 cpdaily/8.1.11 wisedu/8.1.11&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;content-type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Accept-Encoding&#x27;</span>: <span class="string">&#x27;gzip,deflate&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Accept-Language&#x27;</span>: <span class="string">&#x27;zh-CN,en-US;q=0.8&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json;charset=UTF-8&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    queryCollectWidUrl = <span class="string">&#x27;https://&#123;host&#125;/wec-counselor-collector-apps/stu/collector/queryCollectorProcessingList&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">        host=host)</span><br><span class="line">    params = &#123;</span><br><span class="line">        <span class="string">&#x27;pageSize&#x27;</span>: <span class="number">6</span>,</span><br><span class="line">        <span class="string">&#x27;pageNumber&#x27;</span>: <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    res = session.post(queryCollectWidUrl, headers=headers,</span><br><span class="line">                       data=json.dumps(params), verify=<span class="keyword">not</span> debug)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(res.json()[<span class="string">&#x27;datas&#x27;</span>][<span class="string">&#x27;rows&#x27;</span>]) &lt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    collectWid = res.json()[<span class="string">&#x27;datas&#x27;</span>][<span class="string">&#x27;rows&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;wid&#x27;</span>]</span><br><span class="line">    formWid = res.json()[<span class="string">&#x27;datas&#x27;</span>][<span class="string">&#x27;rows&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;formWid&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    detailCollector = <span class="string">&#x27;https://&#123;host&#125;/wec-counselor-collector-apps/stu/collector/detailCollector&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">        host=host)</span><br><span class="line">    res = session.post(url=detailCollector, headers=headers,</span><br><span class="line">                       data=json.dumps(&#123;<span class="string">&quot;collectorWid&quot;</span>: collectWid&#125;), verify=<span class="keyword">not</span> debug)</span><br><span class="line">    schoolTaskWid = res.json()[<span class="string">&#x27;datas&#x27;</span>][<span class="string">&#x27;collector&#x27;</span>][<span class="string">&#x27;schoolTaskWid&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    getFormFields = <span class="string">&#x27;https://&#123;host&#125;/wec-counselor-collector-apps/stu/collector/getFormFields&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">        host=host)</span><br><span class="line">    res = session.post(url=getFormFields, headers=headers, data=json.dumps(</span><br><span class="line">        &#123;<span class="string">&quot;pageSize&quot;</span>: <span class="number">100</span>, <span class="string">&quot;pageNumber&quot;</span>: <span class="number">1</span>, <span class="string">&quot;formWid&quot;</span>: formWid, <span class="string">&quot;collectorWid&quot;</span>: collectWid&#125;), verify=<span class="keyword">not</span> debug)</span><br><span class="line"></span><br><span class="line">    form = res.json()[<span class="string">&#x27;datas&#x27;</span>][<span class="string">&#x27;rows&#x27;</span>]</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&#x27;collectWid&#x27;</span>: collectWid, <span class="string">&#x27;formWid&#x27;</span>: formWid, <span class="string">&#x27;schoolTaskWid&#x27;</span>: schoolTaskWid, <span class="string">&#x27;form&#x27;</span>: form&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¡«å†™form</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fillForm</span>(<span class="params">session, form, host</span>):</span></span><br><span class="line">    sort = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> formItem <span class="keyword">in</span> form[:]:</span><br><span class="line">        <span class="comment"># åªå¤„ç†å¿…å¡«é¡¹</span></span><br><span class="line">        <span class="keyword">if</span> formItem[<span class="string">&#x27;isRequired&#x27;</span>] == <span class="number">1</span>:</span><br><span class="line">            default = config[<span class="string">&#x27;cpdaily&#x27;</span>][<span class="string">&#x27;defaults&#x27;</span>][sort - <span class="number">1</span>][<span class="string">&#x27;default&#x27;</span>]</span><br><span class="line">            <span class="keyword">if</span> formItem[<span class="string">&#x27;title&#x27;</span>] != default[<span class="string">&#x27;title&#x27;</span>]:</span><br><span class="line">                log(<span class="string">&#x27;ç¬¬%dä¸ªé»˜è®¤é…ç½®ä¸æ­£ç¡®ï¼Œè¯·æ£€æŸ¥&#x27;</span> % sort)</span><br><span class="line">                exit(-<span class="number">1</span>)</span><br><span class="line">            <span class="comment"># æ–‡æœ¬ç›´æ¥èµ‹å€¼</span></span><br><span class="line">            <span class="keyword">if</span> formItem[<span class="string">&#x27;fieldType&#x27;</span>] == <span class="number">1</span> <span class="keyword">or</span> formItem[<span class="string">&#x27;fieldType&#x27;</span>] == <span class="number">5</span>:</span><br><span class="line">                formItem[<span class="string">&#x27;value&#x27;</span>] = default[<span class="string">&#x27;value&#x27;</span>]</span><br><span class="line">            <span class="comment"># å•é€‰æ¡†éœ€è¦åˆ æ‰å¤šä½™çš„é€‰é¡¹</span></span><br><span class="line">            <span class="keyword">if</span> formItem[<span class="string">&#x27;fieldType&#x27;</span>] == <span class="number">2</span>:</span><br><span class="line">                <span class="comment"># å¡«å……é»˜è®¤å€¼</span></span><br><span class="line">                formItem[<span class="string">&#x27;value&#x27;</span>] = default[<span class="string">&#x27;value&#x27;</span>]</span><br><span class="line">                fieldItems = formItem[<span class="string">&#x27;fieldItems&#x27;</span>]</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(fieldItems))[::-<span class="number">1</span>]:</span><br><span class="line">                    <span class="keyword">if</span> fieldItems[i][<span class="string">&#x27;content&#x27;</span>] != default[<span class="string">&#x27;value&#x27;</span>]:</span><br><span class="line">                        <span class="keyword">del</span> fieldItems[i]</span><br><span class="line">            <span class="comment"># å¤šé€‰éœ€è¦åˆ†å‰²é»˜è®¤é€‰é¡¹å€¼ï¼Œå¹¶ä¸”åˆ æ‰æ— ç”¨çš„å…¶ä»–é€‰é¡¹</span></span><br><span class="line">            <span class="keyword">if</span> formItem[<span class="string">&#x27;fieldType&#x27;</span>] == <span class="number">3</span>:</span><br><span class="line">                fieldItems = formItem[<span class="string">&#x27;fieldItems&#x27;</span>]</span><br><span class="line">                defaultValues = default[<span class="string">&#x27;value&#x27;</span>].split(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(fieldItems))[::-<span class="number">1</span>]:</span><br><span class="line">                    flag = <span class="literal">True</span></span><br><span class="line">                    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(defaultValues))[::-<span class="number">1</span>]:</span><br><span class="line">                        <span class="keyword">if</span> fieldItems[i][<span class="string">&#x27;content&#x27;</span>] == defaultValues[j]:</span><br><span class="line">                            <span class="comment"># å¡«å……é»˜è®¤å€¼</span></span><br><span class="line">                            formItem[<span class="string">&#x27;value&#x27;</span>] += defaultValues[j] + <span class="string">&#x27; &#x27;</span></span><br><span class="line">                            flag = <span class="literal">False</span></span><br><span class="line">                    <span class="keyword">if</span> flag:</span><br><span class="line">                        <span class="keyword">del</span> fieldItems[i]</span><br><span class="line">            <span class="comment"># å›¾ç‰‡éœ€è¦ä¸Šä¼ åˆ°é˜¿é‡Œäº‘oss</span></span><br><span class="line">            <span class="keyword">if</span> formItem[<span class="string">&#x27;fieldType&#x27;</span>] == <span class="number">4</span>:</span><br><span class="line">                fileName = uploadPicture(session, default[<span class="string">&#x27;value&#x27;</span>], host)</span><br><span class="line">                formItem[<span class="string">&#x27;value&#x27;</span>] = getPictureUrl(session, fileName, host)</span><br><span class="line">            log(<span class="string">&#x27;å¿…å¡«é—®é¢˜%dï¼š&#x27;</span> % sort + formItem[<span class="string">&#x27;title&#x27;</span>])</span><br><span class="line">            log(<span class="string">&#x27;ç­”æ¡ˆ%dï¼š&#x27;</span> % sort + formItem[<span class="string">&#x27;value&#x27;</span>])</span><br><span class="line">            sort += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            form.remove(formItem)</span><br><span class="line">    <span class="comment"># print(form)</span></span><br><span class="line">    <span class="keyword">return</span> form</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸Šä¼ å›¾ç‰‡åˆ°é˜¿é‡Œäº‘oss</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">uploadPicture</span>(<span class="params">session, image, host</span>):</span></span><br><span class="line">    url = <span class="string">&#x27;https://&#123;host&#125;/wec-counselor-collector-apps/stu/collector/getStsAccess&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">        host=host)</span><br><span class="line">    res = session.post(url=url, headers=&#123;</span><br><span class="line">                       <span class="string">&#x27;content-type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>&#125;, data=json.dumps(&#123;&#125;), verify=<span class="keyword">not</span> debug)</span><br><span class="line">    datas = res.json().get(<span class="string">&#x27;datas&#x27;</span>)</span><br><span class="line">    fileName = datas.get(<span class="string">&#x27;fileName&#x27;</span>)</span><br><span class="line">    accessKeyId = datas.get(<span class="string">&#x27;accessKeyId&#x27;</span>)</span><br><span class="line">    accessSecret = datas.get(<span class="string">&#x27;accessKeySecret&#x27;</span>)</span><br><span class="line">    securityToken = datas.get(<span class="string">&#x27;securityToken&#x27;</span>)</span><br><span class="line">    endPoint = datas.get(<span class="string">&#x27;endPoint&#x27;</span>)</span><br><span class="line">    bucket = datas.get(<span class="string">&#x27;bucket&#x27;</span>)</span><br><span class="line">    bucket = oss2.Bucket(oss2.Auth(access_key_id=accessKeyId,</span><br><span class="line">                                   access_key_secret=accessSecret), endPoint, bucket)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(image, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        data = f.read()</span><br><span class="line">    bucket.put_object(key=fileName, headers=&#123;</span><br><span class="line">                      <span class="string">&#x27;x-oss-security-token&#x27;</span>: securityToken&#125;, data=data)</span><br><span class="line">    res = bucket.sign_url(<span class="string">&#x27;PUT&#x27;</span>, fileName, <span class="number">60</span>)</span><br><span class="line">    <span class="comment"># log(res)</span></span><br><span class="line">    <span class="keyword">return</span> fileName</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å›¾ç‰‡ä¸Šä¼ ä½ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getPictureUrl</span>(<span class="params">session, fileName, host</span>):</span></span><br><span class="line">    url = <span class="string">&#x27;https://&#123;host&#125;/wec-counselor-collector-apps/stu/collector/previewAttachment&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">        host=host)</span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&#x27;ossKey&#x27;</span>: fileName</span><br><span class="line">    &#125;</span><br><span class="line">    res = session.post(url=url, headers=&#123;</span><br><span class="line">                       <span class="string">&#x27;content-type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>&#125;, data=json.dumps(data), verify=<span class="keyword">not</span> debug)</span><br><span class="line">    photoUrl = res.json().get(<span class="string">&#x27;datas&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> photoUrl</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æäº¤è¡¨å•</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">submitForm</span>(<span class="params">formWid, address, collectWid, schoolTaskWid, form, session, host</span>):</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Linux; Android 4.4.4; OPPO R11 Plus Build/KTU84P) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/33.0.0.0 Safari/537.36 okhttp/3.12.4&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;CpdailyStandAlone&#x27;</span>: <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;extension&#x27;</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Cpdaily-Extension&#x27;</span>: <span class="string">&#x27;Ew9uONYq03Siz+VLCzZ4RiWRaXXBubIGc1d7ecaS2YmSDf1+elDL0gdwAw977HbPzvgR3pkeyW3djmnPOMxYro3Tps7PNmLoqfNTAECZqcM1LAyx+2zTfDExNa4yDWs83AyTnSKXs7oHQvFOfXhKNY1OXVzIdnwOkgaNw7XxzM1+2efCWAJgUBoHNV3n3MayLqOwPvSCvBke+SHC/Hy/53+ehU9A1lst6JlpGiFhlEOUybo5s5/o+b/XLUexuEE50IQgdPL4Hi4vPe4yVzA8QLpIMKSFIaRm&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json; charset=utf-8&#x27;</span>,</span><br><span class="line">        <span class="comment"># è¯·æ³¨æ„è¿™ä¸ªåº”è¯¥å’Œé…ç½®æ–‡ä»¶ä¸­çš„hostä¿æŒä¸€è‡´</span></span><br><span class="line">        <span class="string">&#x27;Host&#x27;</span>: host,</span><br><span class="line">        <span class="string">&#x27;Connection&#x27;</span>: <span class="string">&#x27;Keep-Alive&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Accept-Encoding&#x27;</span>: <span class="string">&#x27;gzip&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é»˜è®¤æ­£å¸¸çš„æäº¤å‚æ•°json</span></span><br><span class="line">    params = &#123;<span class="string">&quot;formWid&quot;</span>: formWid, <span class="string">&quot;address&quot;</span>: address, <span class="string">&quot;collectWid&quot;</span>: collectWid, <span class="string">&quot;schoolTaskWid&quot;</span>: schoolTaskWid,</span><br><span class="line">              <span class="string">&quot;form&quot;</span>: form,<span class="string">&quot;uaIsCpadaily&quot;</span>: <span class="literal">True</span>,<span class="string">&quot;appVersion&quot;</span>: <span class="string">&quot;8.2.14&quot;</span>&#125;</span><br><span class="line">    <span class="comment"># print(params)</span></span><br><span class="line">    submitForm = <span class="string">&#x27;https://&#123;host&#125;/wec-counselor-collector-apps/stu/collector/submitForm&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">        host=host)</span><br><span class="line">    r = session.post(url=submitForm, headers=headers,</span><br><span class="line">                     data=json.dumps(params), verify=<span class="keyword">not</span> debug)</span><br><span class="line">    msg = r.json()[<span class="string">&#x27;message&#x27;</span>]</span><br><span class="line">    <span class="keyword">return</span> msg</span><br><span class="line"></span><br><span class="line">title_text = <span class="string">&#x27;ä»Šæ—¥æ ¡å›­ç–«ç»“æœé€šçŸ¥&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘é€é‚®ä»¶é€šçŸ¥</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sendMessage</span>(<span class="params">send, msg</span>):</span></span><br><span class="line">    <span class="keyword">if</span> send != <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        log(<span class="string">&#x27;æ­£åœ¨å‘é€é‚®ä»¶é€šçŸ¥ã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">        res = requests.post(url=<span class="string">&#x27;http://www.zimo.wiki:8080/mail-sender/sendMail&#x27;</span>,</span><br><span class="line">                            data=&#123;<span class="string">&#x27;title&#x27;</span>: title_text, <span class="string">&#x27;content&#x27;</span>: getTimeStr() + <span class="built_in">str</span>(msg), <span class="string">&#x27;to&#x27;</span>: send&#125;)</span><br><span class="line"></span><br><span class="line">        code = res.json()[<span class="string">&#x27;code&#x27;</span>]</span><br><span class="line">        <span class="keyword">if</span> code == <span class="number">0</span>:</span><br><span class="line">            log(<span class="string">&#x27;å‘é€é‚®ä»¶é€šçŸ¥æˆåŠŸã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            log(<span class="string">&#x27;å‘é€é‚®ä»¶é€šçŸ¥å¤±è´¥ã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">            log(res.json())</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sendEmail</span>(<span class="params">send,msg</span>):</span></span><br><span class="line">    my_sender= config[<span class="string">&#x27;Info&#x27;</span>][<span class="string">&#x27;Email&#x27;</span>][<span class="string">&#x27;account&#x27;</span>]   <span class="comment"># å‘ä»¶äººé‚®ç®±è´¦å·</span></span><br><span class="line">    my_pass = config[<span class="string">&#x27;Info&#x27;</span>][<span class="string">&#x27;Email&#x27;</span>][<span class="string">&#x27;password&#x27;</span>]         <span class="comment"># å‘ä»¶äººé‚®ç®±å¯†ç </span></span><br><span class="line">    my_user = send      <span class="comment"># æ”¶ä»¶äººé‚®ç®±è´¦å·ï¼Œæˆ‘è¿™è¾¹å‘é€ç»™è‡ªå·±</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        msg=MIMEText(getTimeStr() + <span class="built_in">str</span>(msg),<span class="string">&#x27;plain&#x27;</span>,<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        msg[<span class="string">&#x27;From&#x27;</span>]=formataddr([<span class="string">&quot;FromRunoob&quot;</span>,my_sender])  <span class="comment"># æ‹¬å·é‡Œçš„å¯¹åº”å‘ä»¶äººé‚®ç®±æ˜µç§°ã€å‘ä»¶äººé‚®ç®±è´¦å·</span></span><br><span class="line">        msg[<span class="string">&#x27;To&#x27;</span>]=formataddr([<span class="string">&quot;FK&quot;</span>,my_user])              <span class="comment"># æ‹¬å·é‡Œçš„å¯¹åº”æ”¶ä»¶äººé‚®ç®±æ˜µç§°ã€æ”¶ä»¶äººé‚®ç®±è´¦å·</span></span><br><span class="line">        msg[<span class="string">&#x27;Subject&#x27;</span>]=title_text               <span class="comment"># é‚®ä»¶çš„ä¸»é¢˜ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯æ ‡é¢˜</span></span><br><span class="line"></span><br><span class="line">        server=smtplib.SMTP_SSL(config[<span class="string">&#x27;Info&#x27;</span>][<span class="string">&#x27;Email&#x27;</span>][<span class="string">&#x27;server&#x27;</span>], config[<span class="string">&#x27;Info&#x27;</span>][<span class="string">&#x27;Email&#x27;</span>][<span class="string">&#x27;port&#x27;</span>])  <span class="comment"># å‘ä»¶äººé‚®ç®±ä¸­çš„SMTPæœåŠ¡å™¨ï¼Œç«¯å£æ˜¯25</span></span><br><span class="line">        server.login(my_sender, my_pass)  <span class="comment"># æ‹¬å·ä¸­å¯¹åº”çš„æ˜¯å‘ä»¶äººé‚®ç®±è´¦å·ã€é‚®ç®±å¯†ç </span></span><br><span class="line">        server.sendmail(my_sender,[my_user,],msg.as_string())  <span class="comment"># æ‹¬å·ä¸­å¯¹åº”çš„æ˜¯å‘ä»¶äººé‚®ç®±è´¦å·ã€æ”¶ä»¶äººé‚®ç®±è´¦å·ã€å‘é€é‚®ä»¶</span></span><br><span class="line">        server.quit()  <span class="comment"># å…³é—­è¿æ¥</span></span><br><span class="line">    <span class="keyword">except</span> Exception:  <span class="comment"># å¦‚æœ try ä¸­çš„è¯­å¥æ²¡æœ‰æ‰§è¡Œï¼Œåˆ™ä¼šæ‰§è¡Œä¸‹é¢çš„ ret=False</span></span><br><span class="line">        log(<span class="string">&quot;é‚®ä»¶å‘é€å¤±è´¥&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>: <span class="built_in">print</span>(<span class="string">&quot;é‚®ä»¶å‘é€æˆåŠŸ&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># serveré…±é€šçŸ¥</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sendServerChan</span>(<span class="params">msg</span>):</span></span><br><span class="line">    log(<span class="string">&#x27;æ­£åœ¨å‘é€Serveré…±ã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">    res = requests.post(url=<span class="string">&#x27;https://sc.ftqq.com/&#123;0&#125;.send&#x27;</span>.<span class="built_in">format</span>(config[<span class="string">&#x27;Info&#x27;</span>][<span class="string">&#x27;ServerChan&#x27;</span>]),</span><br><span class="line">                            data=&#123;<span class="string">&#x27;text&#x27;</span>: title_text, <span class="string">&#x27;desp&#x27;</span>: getTimeStr() + <span class="string">&quot;\n&quot;</span> + <span class="built_in">str</span>(msg)&#125;)</span><br><span class="line">    code = res.json()[<span class="string">&#x27;errmsg&#x27;</span>]</span><br><span class="line">    <span class="keyword">if</span> code == <span class="string">&#x27;success&#x27;</span>:</span><br><span class="line">        log(<span class="string">&#x27;å‘é€Serveré…±é€šçŸ¥æˆåŠŸã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        log(<span class="string">&#x27;å‘é€Serveré…±é€šçŸ¥å¤±è´¥ã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">        log(<span class="string">&#x27;Serveré…±è¿”å›ç»“æœ&#x27;</span>+code)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Qmsgé…±é€šçŸ¥</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sendQmsgChan</span>(<span class="params">msg</span>):</span></span><br><span class="line">    log(<span class="string">&#x27;æ­£åœ¨å‘é€Qmsgé…±ã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">    res = requests.post(url=<span class="string">&#x27;https://qmsg.zendee.cn:443/send/&#123;0&#125;&#x27;</span>.<span class="built_in">format</span>(config[<span class="string">&#x27;Info&#x27;</span>][<span class="string">&#x27;Qsmg&#x27;</span>]),</span><br><span class="line">                            data=&#123;<span class="string">&#x27;msg&#x27;</span>: title_text + <span class="string">&#x27;\næ—¶é—´ï¼š&#x27;</span> + getTimeStr() + <span class="string">&quot;\n è¿”å›ç»“æœï¼š&quot;</span> + <span class="built_in">str</span>(msg)&#125;)</span><br><span class="line">    code = res.json()[<span class="string">&#x27;success&#x27;</span>]</span><br><span class="line">    <span class="keyword">if</span> code:</span><br><span class="line">        log(<span class="string">&#x27;å‘é€Qmsgé…±é€šçŸ¥æˆåŠŸã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        log(<span class="string">&#x27;å‘é€Qmsgé…±é€šçŸ¥å¤±è´¥ã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">        log(<span class="string">&#x27;Qmsgé…±è¿”å›ç»“æœ&#x27;</span>+code)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»¼åˆæäº¤</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">InfoSubmit</span>(<span class="params">msg, send=<span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">None</span> != send):</span><br><span class="line">        <span class="keyword">if</span>(config[<span class="string">&#x27;Info&#x27;</span>][<span class="string">&#x27;Email&#x27;</span>][<span class="string">&#x27;enable&#x27;</span>]): sendEmail(send,msg)</span><br><span class="line">        <span class="keyword">else</span>: sendMessage(send, msg)</span><br><span class="line">    <span class="keyword">if</span>(config[<span class="string">&#x27;Info&#x27;</span>][<span class="string">&#x27;ServerChan&#x27;</span>]): sendServerChan(msg)</span><br><span class="line">    <span class="keyword">if</span>(config[<span class="string">&#x27;Info&#x27;</span>][<span class="string">&#x27;Qsmg&#x27;</span>]): sendQmsgChan(msg)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main_handler</span>(<span class="params">event, context</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">for</span> user <span class="keyword">in</span> config[<span class="string">&#x27;users&#x27;</span>]:</span><br><span class="line">            log(<span class="string">&#x27;å½“å‰ç”¨æˆ·ï¼š&#x27;</span> + <span class="built_in">str</span>(user[<span class="string">&#x27;user&#x27;</span>][<span class="string">&#x27;username&#x27;</span>]))</span><br><span class="line">            apis = getCpdailyApis(user)</span><br><span class="line">            log(<span class="string">&#x27;è„šæœ¬å¼€å§‹æ‰§è¡Œã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">            log(<span class="string">&#x27;å¼€å§‹æ¨¡æ‹Ÿç™»é™†ã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">            session = getSession(user, apis[<span class="string">&#x27;login-url&#x27;</span>])</span><br><span class="line">            <span class="keyword">if</span> session != <span class="literal">None</span>:</span><br><span class="line">                log(<span class="string">&#x27;æ¨¡æ‹Ÿç™»é™†æˆåŠŸã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">                log(<span class="string">&#x27;æ­£åœ¨æŸ¥è¯¢æœ€æ–°å¾…å¡«å†™é—®å·ã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">                params = queryForm(session, apis)</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">str</span>(params) == <span class="string">&#x27;None&#x27;</span>:</span><br><span class="line">                    log(<span class="string">&#x27;è·å–æœ€æ–°å¾…å¡«å†™é—®å·å¤±è´¥ï¼Œå¯èƒ½æ˜¯è¾…å¯¼å‘˜è¿˜æ²¡æœ‰å‘å¸ƒã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">                    InfoSubmit(<span class="string">&#x27;æ²¡æœ‰æ–°é—®å·&#x27;</span>)</span><br><span class="line">                    exit(-<span class="number">1</span>)</span><br><span class="line">                log(<span class="string">&#x27;æŸ¥è¯¢æœ€æ–°å¾…å¡«å†™é—®å·æˆåŠŸã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">                log(<span class="string">&#x27;æ­£åœ¨è‡ªåŠ¨å¡«å†™é—®å·ã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">                form = fillForm(session, params[<span class="string">&#x27;form&#x27;</span>], apis[<span class="string">&#x27;host&#x27;</span>])</span><br><span class="line">                log(<span class="string">&#x27;å¡«å†™é—®å·æˆåŠŸã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">                log(<span class="string">&#x27;æ­£åœ¨è‡ªåŠ¨æäº¤ã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">                msg = submitForm(params[<span class="string">&#x27;formWid&#x27;</span>], user[<span class="string">&#x27;user&#x27;</span>][<span class="string">&#x27;address&#x27;</span>], params[<span class="string">&#x27;collectWid&#x27;</span>],</span><br><span class="line">                                 params[<span class="string">&#x27;schoolTaskWid&#x27;</span>], form, session, apis[<span class="string">&#x27;host&#x27;</span>])</span><br><span class="line">                <span class="keyword">if</span> msg == <span class="string">&#x27;SUCCESS&#x27;</span>:</span><br><span class="line">                    log(<span class="string">&#x27;è‡ªåŠ¨æäº¤æˆåŠŸï¼&#x27;</span>)</span><br><span class="line">                    InfoSubmit(<span class="string">&#x27;è‡ªåŠ¨æäº¤æˆåŠŸï¼&#x27;</span>, user[<span class="string">&#x27;user&#x27;</span>][<span class="string">&#x27;email&#x27;</span>])</span><br><span class="line">                <span class="keyword">elif</span> msg == <span class="string">&#x27;è¯¥æ”¶é›†å·²å¡«å†™æ— éœ€å†æ¬¡å¡«å†™&#x27;</span>:</span><br><span class="line">                    log(<span class="string">&#x27;ä»Šæ—¥å·²æäº¤ï¼&#x27;</span>)</span><br><span class="line">                    <span class="comment"># InfoSubmit(&#x27;ä»Šæ—¥å·²æäº¤ï¼&#x27;, user[&#x27;user&#x27;][&#x27;email&#x27;])</span></span><br><span class="line">                    InfoSubmit(<span class="string">&#x27;ä»Šæ—¥å·²æäº¤ï¼&#x27;</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    log(<span class="string">&#x27;è‡ªåŠ¨æäº¤å¤±è´¥ã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">                    log(<span class="string">&#x27;é”™è¯¯æ˜¯&#x27;</span> + msg)</span><br><span class="line">                    InfoSubmit(<span class="string">&#x27;è‡ªåŠ¨æäº¤å¤±è´¥ï¼é”™è¯¯æ˜¯&#x27;</span> + msg, user[<span class="string">&#x27;user&#x27;</span>][<span class="string">&#x27;email&#x27;</span>])</span><br><span class="line">                    exit(-<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                log(<span class="string">&#x27;æ¨¡æ‹Ÿç™»é™†å¤±è´¥ã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">                log(<span class="string">&#x27;åŸå› å¯èƒ½æ˜¯å­¦å·æˆ–å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥é…ç½®åï¼Œé‡å¯è„šæœ¬ã€‚ã€‚ã€‚&#x27;</span>)</span><br><span class="line">                exit(-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        InfoSubmit(<span class="string">&quot;å‡ºç°é—®é¢˜äº†ï¼&quot;</span>+<span class="built_in">str</span>(e))</span><br><span class="line">        <span class="keyword">raise</span> e</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;success&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># é…åˆWindowsè®¡åˆ’ä»»åŠ¡ç­‰ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(main_handler(&#123;&#125;, &#123;&#125;))</span><br><span class="line">    <span class="comment"># for user in config[&#x27;users&#x27;]:</span></span><br><span class="line">    <span class="comment">#     log(getCpdailyApis(user))</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨è¿™ä¸ªsrcç›®å½•æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”å°†å®ƒå‘½åä¸º<del>config.yaml</del>ï¼Œè¿™é‡Œå†™é”™äº†å“ˆï¼Œå›¾ç‰‡ä¸Šä¹Ÿé”™äº†ï¼ˆè¡¨ç°å‡ºæˆ‘å¯¹yamlæ–‡ä»¶ä¸ç†Ÿæ‚‰ğŸ˜œï¼‰åº”è¯¥æ–°å»º<code>config.yml</code></p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210122215924.png" /></p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/image-20210122220210760.png" /></p>
<p>å°†ä¸‹é¢çš„<code>yaml</code>ä»£ç å¤åˆ¶ç²˜è´´è¿›å»,å¹¶ä¸”å°†å­¦å·æ”¹ä¸ºä½ è‡ªå·±çš„å­¦å·ï¼Œå¯†ç æ”¹ä¸ºä½ ç”¨å­¦å·ç™»å½•çš„å¯†ç ï¼Œåœ°å€æ”¹ä¸ºä½ å®¶çš„åœ°å€ï¼Œå¦‚æœä½ æƒ³éœ€è¦<code>serveré…±</code>å¾®ä¿¡æé†’ï¼Œè¯·ç‚¹å‡»<a
href="http://sc.ftqq.com/3.version">server é…±</a>,ç»‘å®šå¾®ä¿¡å’ŒGitHub</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210122220916.png" /></p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210122221753.png" /></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ç™»é™†ç›¸å…³é…ç½®</span></span><br><span class="line"><span class="attr">login:</span></span><br><span class="line">  <span class="comment">#å¼€æ”¾çš„æ¨¡æ‹Ÿç™»é™†apiæœåŠ¡å™¨åœ°å€</span></span><br><span class="line">  <span class="attr">api:</span> <span class="string">&quot;http://www.zimo.wiki:8080/wisedu-unified-login-api-v1.0/api/login&quot;</span></span><br><span class="line"><span class="comment">#ç”¨æˆ·ç»„é…ç½®</span></span><br><span class="line"><span class="attr">users:</span></span><br><span class="line">  <span class="comment">#å•ä¸ªç”¨æˆ·é…ç½®</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">user:</span></span><br><span class="line">      <span class="comment">#username å­¦å·æˆ–è€…å·¥å·</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">      <span class="comment">#password å¯†ç </span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">&#x27;&#x27;</span> </span><br><span class="line">      <span class="comment">#address åœ°å€ï¼Œå®šä½ä¿¡æ¯</span></span><br><span class="line">      <span class="attr">address:</span> <span class="comment">#</span></span><br><span class="line">      <span class="comment">#email æ¥å—é€šçŸ¥æ¶ˆæ¯çš„é‚®ç®±</span></span><br><span class="line">      <span class="attr">email:</span> <span class="comment">#</span></span><br><span class="line">      <span class="comment">#school å­¦æ ¡å…¨ç§°</span></span><br><span class="line">      <span class="attr">school:</span> <span class="string">ç‡•å±±å¤§å­¦</span></span><br><span class="line"><span class="attr">cpdaily:</span></span><br><span class="line">  <span class="comment">#è¡¨å•ç»„é»˜è®¤é€‰é¡¹é…ç½®</span></span><br><span class="line">  <span class="attr">defaults:</span></span><br><span class="line">    <span class="comment">#è¡¨å•é»˜è®¤é€‰é¡¹é…ç½®ï¼ŒæŒ‰é¡ºåºï¼Œæ³¨æ„ï¼Œåªæœ‰æ ‡å¿…å¡«é¡¹çš„æ‰å¤„ç†</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">default:</span></span><br><span class="line">        <span class="comment">#è¡¨å•é¡¹ç±»å‹ï¼Œå¯¹åº”ä»Šæ—¥æ ¡å›­æ¥å£è¿”å›çš„fieldTypeå­—æ®µï¼Œ1ä»£è¡¨æ–‡æœ¬ï¼Œ2ä»£è¡¨å•é€‰ï¼Œ3ä»£è¡¨å¤šé€‰ï¼Œ4ä»£è¡¨å›¾ç‰‡</span></span><br><span class="line">        <span class="attr">type:</span> <span class="number">1</span></span><br><span class="line">        <span class="comment">#è¡¨å•é¡¹æ ‡é¢˜</span></span><br><span class="line">        <span class="attr">title:</span> <span class="string">æ™¨æ£€ä½“æ¸©â„ƒ</span></span><br><span class="line">        <span class="comment">#è¡¨å•é¡¹é»˜è®¤å€¼</span></span><br><span class="line">        <span class="attr">value:</span> <span class="number">36.5</span><span class="string">åº¦</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">default:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="number">1</span></span><br><span class="line">        <span class="attr">title:</span> <span class="string">åˆæ£€ä½“æ¸©â„ƒ</span></span><br><span class="line">        <span class="attr">value:</span> <span class="number">36.5</span><span class="string">åº¦</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">default:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="number">2</span></span><br><span class="line">        <span class="attr">title:</span> <span class="string">æœ¬äººèº«ä½“çŠ¶å†µ</span></span><br><span class="line">        <span class="attr">value:</span> <span class="string">å¥åº·</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">default:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="number">2</span></span><br><span class="line">        <span class="attr">title:</span> <span class="string">å®¶åº­æˆå‘˜èº«ä½“çŠ¶å†µ</span></span><br><span class="line">        <span class="attr">value:</span> <span class="string">å¥åº·</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">default:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="number">2</span></span><br><span class="line">        <span class="attr">title:</span> <span class="string">(æ˜¯/å¦)æœ‰åŸé™…ç§»åŠ¨</span></span><br><span class="line">        <span class="attr">value:</span> <span class="string">å¦</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">default:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="number">2</span></span><br><span class="line">        <span class="attr">title:</span> <span class="string">(æ˜¯/å¦)å»åŒ»é™¢å°±è¯Š</span></span><br><span class="line">        <span class="attr">value:</span> <span class="string">å¦</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">default:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="number">2</span></span><br><span class="line">        <span class="attr">title:</span> <span class="string">è¿‘åå››å¤©(æ˜¯/å¦)æ¥è§¦è¿‡æ¥è‡ªç–«æƒ…é«˜é£é™©ã€ä¸­é£é™©åœ°åŒºã€å¢ƒå¤–æˆ–è€…å»è¿‡ç–«æƒ…é«˜é£é™©ã€ä¸­é£é™©åœ°åŒºã€å¢ƒå¤–çš„äº²å‹</span></span><br><span class="line">        <span class="attr">value:</span> <span class="string">å¦</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">default:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="number">2</span></span><br><span class="line">        <span class="attr">title:</span> <span class="string">(æ˜¯/å¦)æœ‰æ–°å‹å† çŠ¶ç—…æ¯’æ„ŸæŸ“çš„è‚ºç‚ç¡®è¯Šæˆ–ç–‘ä¼¼ç—…ä¾‹æ¥è§¦å²</span></span><br><span class="line">        <span class="attr">value:</span> <span class="string">å¦</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">default:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="number">2</span></span><br><span class="line">        <span class="attr">title:</span> <span class="string">æ˜¯å¦è¢«é›†ä¸­éš”ç¦»</span></span><br><span class="line">        <span class="attr">value:</span> <span class="string">å¦</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">default:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="number">2</span></span><br><span class="line">        <span class="attr">title:</span> <span class="string">å¯’å‡ç¦»æ ¡è¿”å®¶åæ˜¯å¦å·²ç»åšè¿‡æ ¸é…¸æ£€æµ‹</span></span><br><span class="line">        <span class="attr">value:</span> <span class="string">æ˜¯</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">default:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="number">2</span></span><br><span class="line">        <span class="attr">title:</span> <span class="string">æ ¸é…¸æ£€æµ‹ç»“æœå¦‚ä½•</span></span><br><span class="line">        <span class="attr">value:</span> <span class="string">é˜´æ€§</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">default:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="number">2</span></span><br><span class="line">        <span class="attr">title:</span> <span class="string">æœªå®Œæˆæ ¸é…¸æ£€æµ‹çš„åŸå› </span></span><br><span class="line">        <span class="attr">value:</span> <span class="string">å·²å®Œæˆæ ¸é…¸æ£€æµ‹</span></span><br><span class="line"></span><br><span class="line"><span class="attr">Info:</span></span><br><span class="line">  <span class="attr">ServerChan:</span> <span class="comment">#</span></span><br><span class="line"><span class="comment"># å¡«å†™Serveré…±çš„SCKEY</span></span><br><span class="line">  <span class="attr">Qsmg:</span> <span class="comment"># å¡«å†™Qsmgé…±çš„SCKEY</span></span><br><span class="line">  <span class="attr">Email:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">server:</span> <span class="string">smtp.exmail.qq.com</span> <span class="comment"># å¡«å†™é‚®ä»¶çš„smtpæœåŠ¡å™¨</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">465</span> <span class="comment"># å¡«å†™é‚®ä»¶æœåŠ¡å™¨çš„ç«¯å£å·</span></span><br><span class="line">    <span class="attr">account:</span> <span class="string">&#x27;&#x27;</span> <span class="comment"># é‚®ä»¶æœåŠ¡å™¨ç™»å½•ç”¨æˆ·å</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">&#x27;&#x27;</span> <span class="comment"># é‚®ä»¶æœåŠ¡å™¨ç™»å½•å¯†ç </span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç éœ€è¦ä¿®æ”¹çš„åœ°æ–¹æœ‰è¿™å‡ ç‚¹ï¼ˆ<code>æ³¨æ„</code>
ï¼š1.<code>yaml</code>è¯­æ³•æ ¼å¼çš„åŸå› ï¼Œä¿®æ”¹å†…å®¹æ—¶åº”è¯¥ä»å†’å·åé¢ç©ºä¸€æ ¼å¼€å§‹ï¼Œå¦‚ä¸‹é¢ä¸¾çš„ä¾‹å­
2.å¡«å†™å­¦å·å’Œå¯†ç åº”è¯¥å¡«åœ¨å•å¼•å·çš„é‡Œé¢
3.ä¸åŒå­¦é™¢çš„æ”¶é›†å†…å®¹å¯èƒ½ä¸åŒï¼Œå› æ­¤éœ€è¦ä¿®æ”¹ä¸Šé¢çš„é—®é¢˜ï¼‰</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">school:</span> <span class="string">ç‡•å±±å¤§å­¦</span> <span class="comment">#è¿™é‡Œå†’å·å’Œç‡•å±±å¤§å­¦ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼</span></span><br></pre></td></tr></table></figure>
<p><code>type</code>çš„å€¼ä¸º2æ—¶ï¼Œè¯´æ˜è¿™é“é¢˜æ˜¯ä¸€é“å•é€‰é¢˜ï¼Œä¸º1æ—¶ï¼Œè¯´æ˜è¿™æ˜¯ä¸€é“å¡«ç©ºé¢˜;æ³¨æ„ï¼Œåœ¨è®¾ç½®æ¸©åº¦æ—¶ï¼Œä¸€å®šè¦å¸¦ä¸Šåº¦ï¼Œè¿™æ ·å®ƒå°±æ˜¯ä¸€ä¸ª<code>string</code>ç±»å‹ï¼Œä¸æ˜¯ä¸€ä¸ª<code>int</code>ç±»å‹</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">default:</span></span><br><span class="line">	<span class="attr">type:</span> <span class="number">2</span></span><br><span class="line">	<span class="attr">title:</span> <span class="string">(æ˜¯/å¦)å»åŒ»é™¢å°±è¯Š</span></span><br><span class="line">	<span class="attr">value:</span> <span class="string">å¦</span></span><br></pre></td></tr></table></figure>
<p>æ”¹å¥½è¿™ä¸ª<code>config.yml</code>åï¼Œä¿å­˜ï¼Œå¹¶ä¸”éƒ¨ç½²ï¼Œç‚¹å‡»ä¸Šé¢çš„å±‚ç®¡ç†ï¼Œå†ç‚¹å‡»ç»‘å®šé€‰æ‹©åˆšæ‰<code>nihao</code>(æˆ‘çš„æ˜¯<code>nihao</code>ï¼Œä½ çš„å–å†³äºä½ å½“æ—¶å–å¾—åå­—å•¦)ç¡®å®šå³å¯</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210122225608.png" /></p>
<p>ç„¶åé€‰æ‹©å·¦è¾¹çš„è§¦å‘ç®¡ç†-&gt;åˆ›å»ºè§¦å‘å™¨ï¼Œé…ç½®å¦‚ä¸‹å›¾ï¼Œå¦‚æœæƒ³è¦é€‰å…¶ä»–æ—¶é—´(æ¯ä¸ªå­¦é™¢å‘å¸ƒæ”¶é›†çš„æ—¶é—´ä¸ä¸€è‡´å˜›)ï¼Œè¯·æ‚¨è§‚å¯Ÿè§„å¾‹ï¼Œè‡ªè¡Œä¿®æ”¹ğŸ˜‚ï¼Œä¸å»ºè®®é€‰æ•´ç‚¹ï¼Œå› ä¸ºå…¶å®è¿™æ˜¯GitHubä¸Šé‚£ä½å¤§ä½¬çš„æœåŠ¡å™¨ï¼Œé€‰æ•´ç‚¹çš„äººå¤šäº†ï¼Œè‡ªç„¶æœåŠ¡å™¨ä¹Ÿç´¯ğŸ˜‚ï¼Œæ•ˆæœä¹Ÿä¸å¥½ï¼Œåšå®Œè¿™äº›æäº¤å°±è¡Œå•¦ï¼</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210122224510.png" /></p>
<p>å¥½çš„ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å›åˆ°åˆšåˆšä¿®æ”¹ä»£ç çš„çš„åœ°æ–¹ï¼Œç‚¹å‡»ä¸€ä¸‹æµ‹è¯•</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210122225929.png" /></p>
<p>æ‚¨å¾—åˆ°çš„æ—¥å¿—å¯èƒ½æ˜¯è¿™æ ·å­çš„ï¼Œè¿™è¡¨ç¤ºæ‚¨å¯èƒ½æˆåŠŸäº†ï¼Œä¹Ÿå¯èƒ½æ²¡æˆåŠŸï¼Œå› æ­¤ï¼ŒçœŸæ­£æ˜¯å¦æˆåŠŸï¼Œè¿˜æ˜¯è¦ç­‰åˆ°å¯¼å‘˜å‘äº†ä¿¡æ¯é‡‡é›†æ‰å¯ä»¥ï¼Œä»¤äººæ»¡æ„çš„æ•ˆæœåº”è¯¥åƒè¿™ç§æ ·å­</p>
<figure>
<img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210122230439.png"
alt="è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡é€šè¿‡æœ¬åœ°æˆåŠŸæ—¶çš„æˆªå›¾" />
<figcaption
aria-hidden="true">è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡é€šè¿‡æœ¬åœ°æˆåŠŸæ—¶çš„æˆªå›¾</figcaption>
</figure>
<p>OKï¼Œå¦‚æœæ‚¨å·²ç»å®Œæˆè¿™äº›ï¼Œé‚£ä¹ˆæ‚¨å°±åº”è¯¥æˆåŠŸï¼ˆå½“ç„¶ï¼Œå¸Œæœ›æ‚¨è¿˜æ˜¯å†è§‚å¯Ÿå‡ å¤©ï¼Œä»¥å…å‡ºé”™ï¼‰ï¼Œå¦‚æœæ²¡æœ‰æˆåŠŸï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹ç•™è¨€(ç•™è¨€æ— éœ€æ³¨å†Œï¼Œç•™ä¸ªmailå°±è¡Œï¼Œç•™è¨€æ”¯æŒå›¾ç‰‡ï¼Œç›´æ¥å°†å›¾ç‰‡æ‹–æ‹½è¿›å»å°±è¡Œ)ï¼Œå¦‚æœä½ æƒ³è¦æ„Ÿè°¢è¿™ä¸ªé¡¹ç›®ï¼Œè¯·ç‚¹å‡»è¿™é‡Œ:<a
href="https://github.com/ZimoLoveShuang/auto-submit">auto-submit</a>èµåŠ©å®ƒçš„åŸä½œè€…å³å¯,ä¸‹é¢æˆ‘åˆ†äº«ä¸€ä¸‹çš„æˆ‘åœ¨å°†è¿™ä¸ªé¡¹ç›®ä¿®æ”¹çš„æ—¶é‡åˆ°çš„ä¸€äº›bugï¼ˆå°ç™½ç›´æ¥è·³è¿‡ï¼‰</p>
<h2 id="è¿‡ç¨‹åˆ†äº«">è¿‡ç¨‹åˆ†äº«</h2>
<p>æˆ‘æœ¬æ¥åœ¨äº†è§£è¿™ä¸ªé¡¹ç›®æ—¶ï¼Œæˆ‘å¯¹è…¾è®¯äº‘å‡½æ•°å¹¶ä¸äº†è§£ï¼Œäºæ˜¯é¦–å…ˆæˆ‘å°è¯•åœ¨æœ¬åœ°å…ˆæµ‹è¯•ä¸€ä¸‹ï¼Œåœ¨å®‰è£…pythonçš„ç¬¬ä¸‰æ–¹åº“æ—¶ï¼Œå„ç§æŠ¥é”™ï¼Œè¿™é‡Œæˆ‘ååˆ†å»ºè®®å°†æºæ¢æˆæ¸…åæºï¼Œç„¶åå…³æ‰æ‰€æœ‰ä»£ç†ï¼Œå¦‚æœwifiä¸‹è½½å¤±è´¥ï¼Œå»ºè®®æ”¹ç”¨æµé‡ã€‚æˆ‘æœ¬ä»¥ä¸ºåªè¦æ”¹<code>config.yml</code>é‡Œçš„å†…å®¹å°±è¡Œï¼Œä½†æ— å¥ˆåˆæŠ¥é”™äº†</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210122233526.png" /></p>
<p>è§‚å¯Ÿæ—¥å¿—æœ€åï¼Œå‘ç°æ˜¯requestsè¶…æ—¶<code>Max retries exceeded with url: /v6/config/guest/tenant/list</code>
åˆç”±ä¸Šé¢çš„ä½ç½®å¯çŸ¥ï¼Œè¿™ä¸ªurlåœ¨<code>index.py</code>é‡Œï¼Œäºæ˜¯æˆ‘æ‰¾åˆ°äº†è¿™ä¸€è¡Œï¼Œå¤åˆ¶äº†urlåœ¨chromeé‡Œè®¿é—®äº†ä¸€ä¸‹</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210122234002.png" /></p>
<p>æ˜¾ç„¶urlå¤±æ•ˆäº†ï¼Œä¸Šç½‘æœäº†ä¸€ä¸‹ï¼ŒåŸæ¥ç”±äºä½œè€…æ›´æ–°è¿‡æ—¶ï¼Œæœ€ååœ¨csdné‡Œé¢æ‰¾åˆ°äº†ä¸¤ä¸ªæ–°çš„ç½‘å€</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">https://static.campushoy.com/apicache/tenantListSort</span><br><span class="line">https://mobile.campushoy.com/v6/config/guest/tenant/info?ids=ysu</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯å¾ˆä¸å¹¸ï¼Œç½‘å€ä¸€è¿”å›çš„jsonæ–‡ä»¶æ˜¯å­—å…¸é‡Œdataçš„<code>value</code>æ˜¯åˆ—è¡¨ï¼Œè€Œä¸”åˆ—è¡¨é‡Œè¿˜æœ‰å­—å…¸ï¼Œå­—å…¸é‡Œæœ‰datasï¼Œè€Œè¿™é‡Œ<code>requests.get</code>çš„schoolsçš„éå†æ— æ³•æ»¡è¶³ä¸‹é¢çš„åˆ¤æ–­ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è·å–ä»Šæ—¥æ ¡å›­api</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getCpdailyApis</span>(<span class="params">user</span>):</span></span><br><span class="line">    apis = &#123;&#125;</span><br><span class="line">    user = user[<span class="string">&#x27;user&#x27;</span>]</span><br><span class="line">    schools = requests.get(</span><br><span class="line">        url=<span class="string">&#x27;https://www.cpdaily.com/v6/config/guest/tenant/list&#x27;</span>, verify=<span class="keyword">not</span> debug).json()[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line">    flag = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">for</span> one <span class="keyword">in</span> schools:</span><br><span class="line">        <span class="keyword">if</span> one[<span class="string">&#x27;name&#x27;</span>] == user[<span class="string">&#x27;school&#x27;</span>]:</span><br><span class="line">            <span class="keyword">if</span> one[<span class="string">&#x27;joinType&#x27;</span>] == <span class="string">&#x27;NONE&#x27;</span>:</span><br><span class="line">                log(user[<span class="string">&#x27;school&#x27;</span>] + <span class="string">&#x27; æœªåŠ å…¥ä»Šæ—¥æ ¡å›­&#x27;</span>)</span><br><span class="line">                exit(-<span class="number">1</span>)</span><br><span class="line">            flag = <span class="literal">False</span></span><br><span class="line">            params = &#123;</span><br><span class="line">                <span class="string">&#x27;ids&#x27;</span>: one[<span class="string">&#x27;id&#x27;</span>]</span><br><span class="line">            &#125;</span><br><span class="line">            res = requests.get(url=<span class="string">&#x27;https://www.cpdaily.com/v6/config/guest/tenant/info&#x27;</span>, params=params,</span><br><span class="line">                               verify=<span class="keyword">not</span> debug)</span><br><span class="line">            data = res.json()[<span class="string">&#x27;data&#x27;</span>][<span class="number">0</span>]</span><br><span class="line">            joinType = data[<span class="string">&#x27;joinType&#x27;</span>]</span><br><span class="line">            idsUrl = data[<span class="string">&#x27;idsUrl&#x27;</span>]</span><br><span class="line">            ampUrl = data[<span class="string">&#x27;ampUrl&#x27;</span>]</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;campusphere&#x27;</span> <span class="keyword">in</span> ampUrl <span class="keyword">or</span> <span class="string">&#x27;cpdaily&#x27;</span> <span class="keyword">in</span> ampUrl:</span><br><span class="line">                parse = urlparse(ampUrl)</span><br><span class="line">                host = parse.netloc</span><br><span class="line">                res = requests.get(parse.scheme + <span class="string">&#x27;://&#x27;</span> + host)</span><br><span class="line">                parse = urlparse(res.url)</span><br><span class="line">                apis[</span><br><span class="line">                    <span class="string">&#x27;login-url&#x27;</span>] = idsUrl + <span class="string">&#x27;/login?service=&#x27;</span> + parse.scheme + <span class="string">r&quot;%3A%2F%2F&quot;</span> + host + <span class="string">r&#x27;%2Fportal%2Flogin&#x27;</span></span><br><span class="line">                apis[<span class="string">&#x27;host&#x27;</span>] = host</span><br><span class="line"></span><br><span class="line">            ampUrl2 = data[<span class="string">&#x27;ampUrl2&#x27;</span>]</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;campusphere&#x27;</span> <span class="keyword">in</span> ampUrl2 <span class="keyword">or</span> <span class="string">&#x27;cpdaily&#x27;</span> <span class="keyword">in</span> ampUrl2:</span><br><span class="line">                parse = urlparse(ampUrl2)</span><br><span class="line">                host = parse.netloc</span><br><span class="line">                res = requests.get(parse.scheme + <span class="string">&#x27;://&#x27;</span> + host)</span><br><span class="line">                parse = urlparse(res.url)</span><br><span class="line">                apis[</span><br><span class="line">                    <span class="string">&#x27;login-url&#x27;</span>] = idsUrl + <span class="string">&#x27;/login?service=&#x27;</span> + parse.scheme + <span class="string">r&quot;%3A%2F%2F&quot;</span> + host + <span class="string">r&#x27;%2Fportal%2Flogin&#x27;</span></span><br><span class="line">                apis[<span class="string">&#x27;host&#x27;</span>] = host</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">if</span> flag:</span><br><span class="line">        log(user[<span class="string">&#x27;school&#x27;</span>] + <span class="string">&#x27; æœªæ‰¾åˆ°è¯¥é™¢æ ¡ä¿¡æ¯ï¼Œè¯·æ£€æŸ¥æ˜¯å¦æ˜¯å­¦æ ¡å…¨ç§°é”™è¯¯&#x27;</span>)</span><br><span class="line">        exit(-<span class="number">1</span>)</span><br><span class="line">    log(apis)</span><br><span class="line">    <span class="keyword">return</span> apis</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>äºæ˜¯æˆ‘å°±æƒ³ç€ç»™å®ƒå‰¥æ´‹è‘±äº†ğŸ˜‚ï¼Œæœäº†ä¸€äº›å‰¥æ´‹è‘±çš„æ•™ç¨‹åï¼Œä»£ç è¿™æ ·äº†ï¼ˆå…¶å®å¾ˆç®€å•ï¼Œå¤§å®¶ä¹Ÿä¸è¦éšä¾¿æ”¾å¼ƒå“Ÿï¼ï¼‰</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getCpdailyApis</span>(<span class="params">user</span>):</span></span><br><span class="line">    apis = &#123;&#125;</span><br><span class="line">    user = user[<span class="string">&#x27;user&#x27;</span>]</span><br><span class="line">    schools = requests.get(</span><br><span class="line">    url=<span class="string">&#x27;https://static.campushoy.com/apicache/tenantListSort&#x27;</span>, verify=<span class="keyword">not</span> debug).json()[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line">    flag = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> schools:</span><br><span class="line">        new=item[<span class="string">&#x27;datas&#x27;</span>]</span><br><span class="line">        <span class="keyword">for</span> one <span class="keyword">in</span> new:</span><br><span class="line">            <span class="comment">#print(one)</span></span><br><span class="line">            <span class="keyword">if</span> one[<span class="string">&#x27;name&#x27;</span>] == user[<span class="string">&#x27;school&#x27;</span>]:</span><br><span class="line">                flag = <span class="literal">False</span></span><br><span class="line">                params = &#123;</span><br><span class="line">                    <span class="string">&#x27;ids&#x27;</span>: one[<span class="string">&#x27;id&#x27;</span>]</span><br><span class="line">                &#125;</span><br><span class="line">                res = requests.get(url=<span class="string">&#x27;https://mobile.campushoy.com/v6/config/guest/tenant/info&#x27;</span>, params=params,</span><br><span class="line">                                   verify=<span class="keyword">not</span> debug)</span><br><span class="line">                data = res.json()[<span class="string">&#x27;data&#x27;</span>][<span class="number">0</span>]</span><br><span class="line">                joinType = data[<span class="string">&#x27;joinType&#x27;</span>]</span><br><span class="line">                idsUrl = data[<span class="string">&#x27;idsUrl&#x27;</span>]</span><br><span class="line">                ampUrl = data[<span class="string">&#x27;ampUrl&#x27;</span>]</span><br><span class="line">                <span class="keyword">if</span> <span class="string">&#x27;campusphere&#x27;</span> <span class="keyword">in</span> ampUrl <span class="keyword">or</span> <span class="string">&#x27;cpdaily&#x27;</span> <span class="keyword">in</span> ampUrl:</span><br><span class="line">                    parse = urlparse(ampUrl)</span><br><span class="line">                    host = parse.netloc</span><br><span class="line">                    res = requests.get(parse.scheme + <span class="string">&#x27;://&#x27;</span> + host)</span><br><span class="line">                    parse = urlparse(res.url)</span><br><span class="line">                    apis[</span><br><span class="line">                        <span class="string">&#x27;login-url&#x27;</span>] = idsUrl + <span class="string">&#x27;/login?service=&#x27;</span> + parse.scheme + <span class="string">r&quot;%3A%2F%2F&quot;</span> + host + <span class="string">r&#x27;%2Fportal%2Flogin&#x27;</span></span><br><span class="line">                    apis[<span class="string">&#x27;host&#x27;</span>] = host</span><br><span class="line"></span><br><span class="line">                ampUrl2 = data[<span class="string">&#x27;ampUrl2&#x27;</span>]</span><br><span class="line">                <span class="keyword">if</span> <span class="string">&#x27;campusphere&#x27;</span> <span class="keyword">in</span> ampUrl2 <span class="keyword">or</span> <span class="string">&#x27;cpdaily&#x27;</span> <span class="keyword">in</span> ampUrl2:</span><br><span class="line">                    parse = urlparse(ampUrl2)</span><br><span class="line">                    host = parse.netloc</span><br><span class="line">                    res = requests.get(parse.scheme + <span class="string">&#x27;://&#x27;</span> + host)</span><br><span class="line">                    parse = urlparse(res.url)</span><br><span class="line">                    apis[</span><br><span class="line">                        <span class="string">&#x27;login-url&#x27;</span>] = idsUrl + <span class="string">&#x27;/login?service=&#x27;</span> + parse.scheme + <span class="string">r&quot;%3A%2F%2F&quot;</span> + host + <span class="string">r&#x27;%2Fportal%2Flogin&#x27;</span></span><br><span class="line">                    apis[<span class="string">&#x27;host&#x27;</span>] = host</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">if</span> flag:</span><br><span class="line">        log(user[<span class="string">&#x27;school&#x27;</span>] + <span class="string">&#x27; æœªæ‰¾åˆ°è¯¥é™¢æ ¡ä¿¡æ¯ï¼Œè¯·æ£€æŸ¥æ˜¯å¦æ˜¯å­¦æ ¡å…¨ç§°é”™è¯¯&#x27;</span>)</span><br><span class="line">        exit(-<span class="number">1</span>)</span><br><span class="line">    log(apis)</span><br><span class="line">    <span class="keyword">return</span> apis</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹çš„å…¶å®åªæ˜¯è¿™é‡Œï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> schools:</span><br><span class="line">       new=item[<span class="string">&#x27;datas&#x27;</span>]</span><br><span class="line">       <span class="keyword">for</span> one <span class="keyword">in</span> new:</span><br></pre></td></tr></table></figure>
<p>é‡åˆ°çš„ç¬¬äºŒä¸ªå¤§é—®é¢˜é¦–å…ˆæ˜¯æˆ‘ä»¥ä¸ºåŸä½œè€…é‡‡ç”¨çš„æ˜¯findallç›´æ¥æ‰¾å‡ºå…³é”®å­—ï¼Œä½†æ˜¯å½“æˆ‘å·æ‡’åªå†™äº†ä¸€äº›å­—ç¬¦æ—¶ï¼ŒåˆæŠ¥é”™äº†</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210123000529.png" /></p>
<p>æˆ‘åªå¥½ä¹–ä¹–å°†é‚£ä¸ªé—®é¢˜éƒ½å¡«å®Œæ•´ï¼ˆæ‚¨çŸ¥é“çš„ï¼Œæœ‰çš„é—®é¢˜çœŸçš„å¥½é•¿ï¼Œæ‰“å­—ä¹Ÿå®¹æ˜“é”™ï¼‰ï¼Œåæ¥æ”¹å®Œä¸Šä¼ æ—¶ï¼Œè¡¨æ˜¯å¡«å®Œäº†ï¼Œä½†æ˜¯ä¸Šä¼ å¤±è´¥ã€‚</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210123000835.png" /></p>
<p>è¿™æ—¶å€™æˆ‘æœ‰ç‚¹ç»æœ›äº†ï¼Œæˆ‘çœ‹åˆ°GitHubä½œè€…ä¸Šissueçš„é—®é¢˜ï¼Œå¯æƒœå¤§å®¶å¤§å¤šæ•°ç”¨çš„éƒ½æ˜¯é€šç”¨æ–¹æ³•ï¼šcookieç™»å½•ï¼Œç”µè„‘å®‰è£…é€é¥æ¨¡æ‹Ÿå™¨ï¼Œç„¶åè£…
xposed
ï¼Œç”µè„‘fiddleræŠ“åŒ…ï¼ˆä½†æ˜¯æˆ‘ä»¥å‰ä¸‹è½½è¿‡é€é¥ï¼Œä½“éªŒä¸å¥½ï¼Œä¸æƒ³å†ä¸‹è½½äº†ï¼‰ï¼Œissueé‡Œé¢å¤§å¤šæ•°éƒ½æ˜¯è¯´é‚£ä¸ªåŠ å¯†é—®é¢˜ï¼Œä½†æ˜¯æˆ‘ä¸Šæ–‡çš„è¿™ç§æ–¹å¼å…¶å®ä¸å®Œå…¨æ˜¯æ¨¡æ‹Ÿappï¼Œåˆšå¼€å§‹æˆ‘ä»¥ä¸ºæ˜¯<code>post</code>æ—¶æ²¡æœ‰åŠ ä¸Šå’‹ä»¬çš„é‚£ä¸ªåœ°å€æ²¡æœ‰ç»çº¬åº¦çš„åŸå› ï¼Œä½†æ˜¯æˆ‘åŠ ä¸Šå»æ²¡æœ‰æ•ˆæœï¼Œäºæ˜¯æˆ‘æ‰“ç®—å°†é€šç”¨æ–¹æ³•çš„<code>user</code>ç§»æ¤è¿‡æ¥ï¼ˆä¸‹é¢ä¸ºé€šç”¨çš„<code>config.yml</code>ï¼‰,ä½†æ˜¯åŠ äº†è¿˜æ˜¯ä¸è¡Œã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">user:</span></span><br><span class="line">  <span class="comment">#username å­¦å·æˆ–è€…å·¥å·</span></span><br><span class="line">  <span class="attr">username:</span> </span><br><span class="line">  <span class="comment">#tellphone ç”µè¯å·ç </span></span><br><span class="line">  <span class="attr">tellphone:</span> </span><br><span class="line">  <span class="comment">#address åœ°å€ï¼Œå®šä½ä¿¡æ¯</span></span><br><span class="line">  <span class="attr">address:</span> </span><br><span class="line">  <span class="comment">#email æ¥å—é€šçŸ¥æ¶ˆæ¯çš„é‚®ç®±</span></span><br><span class="line">  <span class="attr">email:</span></span><br><span class="line">  <span class="comment">#lon å½“å‰ä½ç½®ç»åº¦ï¼Œå¯ä»¥è®¿é—®http://zuobiao.ay800.com/s/27/index.phpè·å–</span></span><br><span class="line">  <span class="attr">lon:</span> <span class="string">&#x27;14.300060&#x27;</span></span><br><span class="line">  <span class="comment">#lat å½“å‰ä½ç½®çº¬åº¦</span></span><br><span class="line">  <span class="attr">lat:</span> <span class="string">&#x27;332.880656&#x27;</span></span><br><span class="line">  <span class="comment">#school å­¦æ ¡å…¨ç§°</span></span><br><span class="line">  <span class="attr">school:</span> <span class="string">ç‡•å±±å¤§å­¦</span></span><br><span class="line"><span class="comment">#ä»Šæ—¥æ ¡å›­ç›¸å…³é…ç½®</span></span><br></pre></td></tr></table></figure>
<p>æ‰€ä»¥æ²¡æœ‰é‚£ä¹ˆé‚£ä¸€æ­¥åæ¥å†é‚£ä¸ªissueé‡Œçœ‹åˆ°äº†ä¸€ä½å¤§ä½¬åˆ†äº«çš„ç‰ˆæœ¬å¯†é’¥ï¼Œäºæ˜¯æˆ‘æŠ±ç€ä¾¥å¹¸çš„å¿ƒç†ï¼Œä¿®æ”¹äº†ä¸€ä¸‹index.pyï¼ŒæˆåŠŸäº†ã€‚</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210123001629.png" /></p>
<hr />
<h2 id="server-é…±">Server é…±</h2>
<p>â€‹
ä¸çŸ¥é“æ˜¯æˆ‘çš„è®¾ç½®é—®é¢˜è¿˜æ˜¯åˆ«çš„ä»€ä¹ˆé—®é¢˜ï¼Œåœ¨å†™å®Œè¿™ç¯‡æ•™ç¨‹åçš„ä¸€å¤©ï¼Œæˆ‘çš„server
é…±å°±<code>post</code>æˆåŠŸä¸äº†äº†ï¼Œä½†æ˜¯æˆ‘åœ¨æœ¬åœ°æµ‹è¯•ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ‘ç”µè„‘è‡ªå¸¦çš„<code>python3.9</code>å´å¯ä»¥æˆåŠŸ,æˆ‘åŸä»¥ä¸ºæ˜¯ç¬¬ä¸‰æ–¹åº“çš„é—®é¢˜ï¼Œå› ä¸ºæˆ‘åŒå­¦ä¹Ÿå‘æˆ‘åæ˜ è¿‡è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯è®¤ä¸ºå®ƒæŠ¥é”™å­˜åœ¨é—®é¢˜ï¼Œå› ä¸ºæ•´ä¸ª<code>index.py</code>ä¸­ä¾èµ–äº†è®¸å¤šåº“ï¼Œå¦‚æœä¸èƒ½å¤Ÿå¼•å…¥é‚£äº›åº“ï¼Œå°±ä¸å¯èƒ½å®Œæˆæ•´ä¸ªå¡«æŠ¥ï¼Œè€Œæˆ‘åªæ˜¯å‡ºç°äº†æ— æ³•è®©Server
é…±é€šçŸ¥</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210125161400.png" /></p>
<p>â€‹
æˆ‘æœ€è¿‘åœ¨å®¶é‡Œå°è¯•å¾ˆå¤šæ¬¡ï¼Œä½†æ˜¯éƒ½æ²¡æœ‰ç»“æœï¼Œç”šè‡³å‡ºç°äº†ä¸€ä»¶è®©æˆ‘æ„Ÿåˆ°å¾ˆamazingçš„äº‹æƒ…ï¼Œå°±æ˜¯æˆ‘ç‚¹å‡»è¿è¡Œï¼Œå®ƒèƒ½å¤ŸpostæˆåŠŸï¼Œä½†æ˜¯æˆ‘ç‚¹å‡»æµ‹è¯•ï¼Œä»–å°±æ— æ³•æˆåŠŸã€‚</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210125162100.png" /></p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210125162127.png" /></p>
<p>è¿™è®©æˆ‘ç™¾æ€ä¸å¾—å…¶è§£ï¼Œä¹Ÿè®©æˆ‘å¿§å¿ƒå¿¡å¿¡ï¼Œå› ä¸ºå¦‚æœæŸä¸€å¤©å¤±è´¥äº†ï¼ˆæˆ–è€…è€å¸ˆæ”¹äº†é—®å·ï¼‰ï¼Œä½†æˆ‘å´ä¸çŸ¥é“ï¼Œé‚£å²‚ä¸æ˜¯ç³Ÿç³•äº†ï¼Œé€šçŸ¥è¿˜æ˜¯å¿…è¦çš„å‘€ï¼Œæˆ‘æƒ³è¿‡ç”¨çŸ­ä¿¡apiæ¥ä»£æ›¿ï¼Œä½†æ˜¯åˆè¦æ³¨å†Œå•¥çš„ï¼Œæˆ‘å°±ç®—äº†ï¼Œæ°å¥½ä»Šå¤©çœ‹åˆ°äº†ä¸€ä¸ªå¯ä»¥ä»£æ›¿Server
é…±â€”â€”<a
href="https://work.weixin.qq.com/">ä¼ä¸šå¾®ä¿¡</a>(ç‚¹å‡»è·³è½¬æ³¨å†Œ)ï¼Œæ³¨å†Œå®Œæˆååœ¨app
managementé‡Œæ–°å»ºä¸€ä¸ªapp</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210125162732.png" /></p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210125164912.png" /></p>
<p>è®°ä½ä¸‹é¢è¿™ä¸¤ä¸ªå‚æ•°ç„¶åç‚¹å‡»<code>My Company</code>
è®°ä½<code>Company ID</code></p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210125165120.png" /></p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210125170105.png" /></p>
<p>ç‚¹å‡»<code>wechat workplace</code>ç„¶åå¾®ä¿¡æ‰«æè¿™ä¸ªäºŒç»´ç å³å¯ç»‘å®šåº”ç”¨ã€‚</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210125170149.png" /></p>
<p>ç„¶ååœ¨<code>config.yml</code>æœ€åä¸€è¡Œé‡Œé¢åŠ ä¸Šè¿™ä¸ªä¸‰ä¸ªå‚æ•°æ ¼å¼å¦‚ä¸‹</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">AgentId:</span> <span class="comment">#</span></span><br><span class="line"><span class="attr">Secret:</span> <span class="comment">#</span></span><br><span class="line"><span class="attr">CompanyId:</span> <span class="comment">#</span></span><br></pre></td></tr></table></figure>
<p>åœ¨<code>index.py</code>ä¸­æ‰¾åˆ°<code>sendServerChan</code>å°†è¿™ä¸ªå‡½æ•°æ›¿æ¢ä¸ºä¸‹é¢ä»£ç ï¼Œé…ç½®å³å¯æˆåŠŸï¼Œ</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210125165818.png" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sendServeChan</span>(<span class="params">msg</span>):</span></span><br><span class="line">    url=<span class="string">&#x27;https://api.htm.fun/api/Wechat/text_card/&#x27;</span></span><br><span class="line">    data=&#123;</span><br><span class="line">        <span class="string">&#x27;corpid&#x27;</span>:config[<span class="string">&#x27;CompanyId&#x27;</span>],</span><br><span class="line">        <span class="string">&quot;corpsecret&quot;</span>:config[<span class="string">&#x27;Secret&#x27;</span>],</span><br><span class="line">        <span class="string">&quot;agentid&quot;</span>:config[<span class="string">&#x27;AgentId&#x27;</span>],</span><br><span class="line">        <span class="string">&quot;title&quot;</span>:<span class="string">&quot;ä»Šæ—¥æ ¡å›­&quot;</span>,</span><br><span class="line">        <span class="string">&quot;description&quot;</span>:<span class="string">&quot;&#123;&#125;&quot;</span>.<span class="built_in">format</span>(msg),</span><br><span class="line">        <span class="string">&quot;url&quot;</span>:<span class="string">&quot;/&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    requests.post(url=url,data=data)</span><br></pre></td></tr></table></figure>
<p>OKï¼Œå¦‚æœè¿™äº›éƒ½é…ç½®å¥½äº†ï¼Œé‚£ä¹ˆä½ çš„wechatåº”è¯¥å°±å¯ä»¥æ”¶åˆ°ä¿¡æ¯äº†</p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>â€‹
è‡³æ­¤ï¼Œè¿™ä¸ªæœ‰è¶£çš„é¡¹ç›®å°±å¼„å®Œäº†ï¼Œè™½ç„¶åœ¨ä¸€å¤©åŠæ—¶é—´ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘æ›¾æƒ³è¿‡æ”¾å¼ƒå¾ˆå¤šæ¬¡ï¼Œä½†æ˜¯è€ƒè™‘åˆ°æ¯å¤©å¡«é‚£ä¸ªè¡¨ï¼Œè¿˜æ˜¯åšæŒäº†ä¸‹è½½ï¼Œä½†ç»ˆç©¶è¿˜æ˜¯æˆ‘è¿æ°”å¥½ï¼Œå°±æˆåŠŸäº†ï¼Œæ¬¢è¿å¤§å®¶æœ‰é—®é¢˜å•¥çš„ç•™è¨€å‘€ğŸ˜‚ï¼Œæœ€ååˆ†äº«ä¸€ä¸‹å–œæ‚¦</p>
<p><img
src="https://picturnl.oss-cn-shanghai.aliyuncs.com/20210123003023.png" /></p>
<p>å¦‚æœè¿˜æƒ³å®ç°å…¶ä»–çš„åŠŸèƒ½å»ºè®®è‡ªå·±å»æ¢ç´¢å“Ÿï¼Œæ¯”å¦‚æ‹ç…§ç­¾åˆ°ï¼Œå› ä¸ºæˆ‘æ²¡æœ‰ç›¸å…³çš„æ¡ä»¶ï¼ˆæ²¡æœ‰æ‹ç…§ç­¾åˆ°çš„ä»»åŠ¡ï¼Œæ— æ³•æµ‹è¯•ğŸ˜‚ï¼‰</p>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
  </entry>
</search>
